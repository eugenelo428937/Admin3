DJANGO_ENV None
DJANGO_ENV development
DJANGO_SETTINGS_MODULE django_Admin3.settings.development
DJANGO_ENV FILE /Users/work/Documents/Code/Admin3/backend/django_Admin3/.env.development
Loading environment from: /Users/work/Documents/Code/Admin3/backend/django_Admin3/.env.development
Rows in test table: [(1, 'Test1'), (2, 'Test1'), (3, 'Test1'), (4, 'Test1'), (5, 'Test1'), (6, 'Test1'), (7, 'Test1'), (8, 'Test1'), (9, 'Test1'), (10, 'Test1'), (11, 'Test1'), (12, 'Test1'), (13, 'Test1'), (14, 'Test1'), (15, 'Test1'), (16, 'Test1'), (17, 'Test1'), (18, 'Test1'), (19, 'Test1'), (20, 'Test1'), (21, 'Test1'), (22, 'Test1'), (23, 'Test1'), (24, 'Test1'), (25, 'Test1'), (26, 'Test1'), (27, 'Test1'), (28, 'Test1'), (29, 'Test1'), (30, 'Test1'), (31, 'Test1'), (32, 'Test1'), (33, 'Test1'), (34, 'Test1'), (35, 'Test1'), (36, 'Test1'), (37, 'Test1'), (38, 'Test1'), (39, 'Test1'), (40, 'Test1'), (41, 'Test1'), (42, 'Test1'), (43, 'Test1'), (44, 'Test1'), (45, 'Test1'), (46, 'Test1'), (47, 'Test1'), (48, 'Test1'), (49, 'Test1'), (50, 'Test1'), (51, 'Test1'), (52, 'Test1'), (53, 'Test1'), (54, 'Test1'), (55, 'Test1'), (56, 'Test1'), (57, 'Test1'), (58, 'Test1'), (59, 'Test1'), (60, 'Test1'), (61, 'Test1'), (62, 'Test1'), (63, 'Test1'), (64, 'Test1'), (65, 'Test1'), (66, 'Test1'), (67, 'Test1'), (68, 'Test1'), (69, 'Test1'), (70, 'Test1'), (71, 'Test1'), (72, 'Test1'), (73, 'Test1'), (74, 'Test1'), (75, 'Test1'), (76, 'Test1'), (77, 'Test1'), (78, 'Test1'), (79, 'Test1'), (80, 'Test1'), (81, 'Test1'), (82, 'Test1'), (83, 'Test1'), (84, 'Test1'), (85, 'Test1'), (86, 'Test1'), (87, 'Test1'), (88, 'Test1'), (89, 'Test1'), (90, 'Test1'), (91, 'Test1'), (92, 'Test1'), (93, 'Test1'), (94, 'Test1'), (95, 'Test1'), (96, 'Test1'), (97, 'Test1'), (98, 'Test1'), (99, 'Test1'), (100, 'Test1'), (101, 'Test1'), (102, 'Test1'), (103, 'Test1'), (104, 'Test1'), (105, 'Test1'), (106, 'Test1'), (107, 'Test1'), (108, 'Test1'), (109, 'Test1'), (110, 'Test1'), (111, 'Test1'), (112, 'Test1'), (113, 'Test1'), (114, 'Test1'), (115, 'Test1'), (116, 'Test1'), (117, 'Test1'), (118, 'Test1'), (119, 'Test1'), (120, 'Test1'), (121, 'Test1'), (122, 'Test1'), (123, 'Test1'), (124, 'Test1'), (125, 'Test1'), (126, 'Test1'), (127, 'Test1'), (128, 'Test1'), (129, 'Test1'), (130, 'Test1'), (131, 'Test1'), (132, 'Test1'), (133, 'Test1'), (134, 'Test1'), (135, 'Test1'), (136, 'Test1'), (137, 'Test1'), (138, 'Test1'), (139, 'Test1'), (140, 'Test1'), (141, 'Test1'), (142, 'Test1'), (143, 'Test1'), (144, 'Test1'), (145, 'Test1'), (146, 'Test1'), (147, 'Test1'), (148, 'Test1'), (149, 'Test1'), (150, 'Test1'), (151, 'Test1'), (152, 'Test1'), (153, 'Test1'), (154, 'Test1'), (155, 'Test1'), (156, 'Test1'), (157, 'Test1'), (158, 'Test1'), (159, 'Test1'), (160, 'Test1'), (161, 'Test1'), (162, 'Test1'), (163, 'Test1'), (164, 'Test1'), (165, 'Test1'), (166, 'Test1'), (167, 'Test1'), (168, 'Test1'), (169, 'Test1'), (170, 'Test1')]
Database test completed successfully
DEBUG Read environment variables from: /Users/work/Documents/Code/Admin3/backend/django_Admin3/.env.development
=== Environment Variables from .env.development ===
DEBUG get 'DATABASE_URL' casted as 'None' with default 'Not set'
DATABASE_URL: postgres://actedadmin:Act3d@dm1n0EEoo@127.0.0.1:5432/ACTEDDBDEV01
DEBUG get 'DB_NAME' casted as 'None' with default 'Not set'
DB_NAME: ACTEDDBDEV01
DEBUG get 'DB_USER' casted as 'None' with default 'Not set'
DB_USER: actedadmin
DEBUG get 'DB_PASSWORD' casted as 'None' with default 'Not set'
DB_PASSWORD: Act3d@dm1n0EEoo
DEBUG get 'DB_HOST' casted as 'None' with default 'Not set'
DB_HOST: 127.0.0.1
DEBUG get 'DB_PORT' casted as 'None' with default 'Not set'
DB_PORT: 5432
DEBUG get 'SECRET_KEY' casted as 'None' with default 'Not set'
SECRET_KEY: Not set
DEBUG get 'DEBUG' casted as 'None' with default 'False'
DEBUG: False
DEBUG get 'DJANGO_ENVIRONMENT' casted as 'None' with default 'Not set'
DJANGO_ENVIRONMENT: Not set
DEBUG get 'ALLOWED_HOSTS' casted as 'None' with default 'Not set'
ALLOWED_HOSTS: 127.0.0.1,localhost
DEBUG get 'ADMINISTRATE_API_URL' casted as 'None' with default 'Not set'
ADMINISTRATE_API_URL: https://api.getadministrate.com/graphql
DEBUG get 'ADMINISTRATE_API_KEY' casted as 'None' with default 'Not set'
ADMINISTRATE_API_KEY: bJC4yEzW7dICQin2JbgwU0gsbN9kuaDC
DEBUG get 'DB_NAME' casted as 'None' with default '<NoValue>'

âœ… SUCCESS: Successfully read DB_NAME: ACTEDDBDEV01 from .env.development
Using existing test database for alias 'default'...
...........................................Found 3170 test(s).
System check identified no issues (0 silenced).
DEBUG CartItem 176 created - invalidating VAT cache for cart 408
DEBUG VAT cache invalidated for cart 408
DEBUG Cache miss for rules:cart_calculate_vat
DEBUG Cached 0 rules for cart_calculate_vat
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
DEBUG CartItem 177 created - invalidating VAT cache for cart 408
DEBUG VAT cache invalidated for cart 408
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.EEEEEEEEEEEEEEEEEEEEEEEEDEBUG CartItem 178 created - invalidating VAT cache for cart 409
DEBUG VAT cache invalidated for cart 409
.DEBUG CartItem 179 created - invalidating VAT cache for cart 410
DEBUG VAT cache invalidated for cart 410
DEBUG CartItem 179 deleted - invalidating VAT cache for cart 410
DEBUG VAT cache invalidated for cart 410
.DEBUG CartItem 180 created - invalidating VAT cache for cart 411
DEBUG VAT cache invalidated for cart 411
DEBUG CartItem 180 updated - invalidating VAT cache for cart 411
DEBUG VAT cache invalidated for cart 411
.DEBUG CartItem 181 created - invalidating VAT cache for cart 412
DEBUG VAT cache invalidated for cart 412
DEBUG CartItem 182 created - invalidating VAT cache for cart 412
DEBUG VAT cache invalidated for cart 412
.DEBUG CartItem 183 created - invalidating VAT cache for cart 413
DEBUG VAT cache invalidated for cart 413
DEBUG CartItem 183 updated - invalidating VAT cache for cart 413
DEBUG VAT cache invalidated for cart 413
.DEBUG CartItem 184 created - invalidating VAT cache for cart 414
DEBUG VAT cache invalidated for cart 414
DEBUG CartItem 184 updated - invalidating VAT cache for cart 414
DEBUG VAT cache invalidated for cart 414
.DEBUG CartItem 185 created - invalidating VAT cache for cart 415
DEBUG VAT cache invalidated for cart 415
.DEBUG CartItem 186 created - invalidating VAT cache for cart 416
DEBUG VAT cache invalidated for cart 416
..................................DEBUG CartItem 187 created - invalidating VAT cache for cart 430
DEBUG VAT cache invalidated for cart 430
.DEBUG CartItem 188 created - invalidating VAT cache for cart 431
DEBUG VAT cache invalidated for cart 431
..............................WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.EEWARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 189 created - invalidating VAT cache for cart 473
DEBUG VAT cache invalidated for cart 473
DEBUG CartItem 189 updated - invalidating VAT cache for cart 473
DEBUG VAT cache invalidated for cart 473
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
.DEBUG CartItem 190 created - invalidating VAT cache for cart 474
DEBUG VAT cache invalidated for cart 474
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
DEBUG CartItem 190 updated - invalidating VAT cache for cart 474
DEBUG VAT cache invalidated for cart 474
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
.DEBUG CartItem 191 created - invalidating VAT cache for cart 475
DEBUG VAT cache invalidated for cart 475
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
DEBUG CartItem 191 updated - invalidating VAT cache for cart 475
DEBUG VAT cache invalidated for cart 475
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
.DEBUG CartItem 192 created - invalidating VAT cache for cart 476
DEBUG VAT cache invalidated for cart 476
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
.DEBUG CartItem 193 created - invalidating VAT cache for cart 477
DEBUG VAT cache invalidated for cart 477
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
.DEBUG CartItem 194 created - invalidating VAT cache for cart 478
DEBUG VAT cache invalidated for cart 478
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
DEBUG CartItem 194 updated - invalidating VAT cache for cart 478
DEBUG VAT cache invalidated for cart 478
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
...........................F......DEBUG CartItem 195 created - invalidating VAT cache for cart 515
DEBUG VAT cache invalidated for cart 515
DEBUG CartItem 196 created - invalidating VAT cache for cart 514
DEBUG VAT cache invalidated for cart 514
DEBUG CartItem 196 updated - invalidating VAT cache for cart 514
DEBUG VAT cache invalidated for cart 514
DEBUG CartItem 195 deleted - invalidating VAT cache for cart 515
DEBUG VAT cache invalidated for cart 515
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
....INFO Cart add: Resolved ID 99999 to store.Product 560 via PPV 3881
..DEBUG CartItem 197 created - invalidating VAT cache for cart 521
DEBUG VAT cache invalidated for cart 521
..DEBUG CartItem 198 created - invalidating VAT cache for cart 523
DEBUG VAT cache invalidated for cart 523
DEBUG CartItem 198 updated - invalidating VAT cache for cart 523
DEBUG VAT cache invalidated for cart 523
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
.DEBUG CartItem 199 created - invalidating VAT cache for cart 524
DEBUG VAT cache invalidated for cart 524
DEBUG CartItem 199 updated - invalidating VAT cache for cart 524
DEBUG VAT cache invalidated for cart 524
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
...E..DEBUG CartItem 200 created - invalidating VAT cache for cart 530
DEBUG VAT cache invalidated for cart 530
DEBUG CartItem 200 deleted - invalidating VAT cache for cart 530
ERROR Failed to invalidate VAT cache after item deletion for cart 530: DB error
.DEBUG CartItem 201 created - invalidating VAT cache for cart 531
DEBUG VAT cache invalidated for cart 531
DEBUG CartItem 201 updated - invalidating VAT cache for cart 531
ERROR Failed to invalidate VAT cache for cart 531: DB error
.DEBUG CartItem 202 created - invalidating VAT cache for cart 532
DEBUG VAT cache invalidated for cart 532
...WARNING Not Found: /api/cart/add/
.DEBUG CartItem 203 created - invalidating VAT cache for cart 536
DEBUG VAT cache invalidated for cart 536
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 204 created - invalidating VAT cache for cart 537
DEBUG VAT cache invalidated for cart 537
DEBUG CartItem 205 created - invalidating VAT cache for cart 537
DEBUG VAT cache invalidated for cart 537
DEBUG CartItem 205 deleted - invalidating VAT cache for cart 537
DEBUG VAT cache invalidated for cart 537
DEBUG CartItem 204 deleted - invalidating VAT cache for cart 537
DEBUG VAT cache invalidated for cart 537
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING Not Found: /api/cart/remove/
.DEBUG CartItem 206 created - invalidating VAT cache for cart 540
DEBUG VAT cache invalidated for cart 540
DEBUG CartItem 206 deleted - invalidating VAT cache for cart 540
DEBUG VAT cache invalidated for cart 540
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 207 created - invalidating VAT cache for cart 541
DEBUG VAT cache invalidated for cart 541
DEBUG CartItem 207 updated - invalidating VAT cache for cart 541
DEBUG VAT cache invalidated for cart 541
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
./Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/fields/__init__.py:1670: RuntimeWarning: DateTimeField CartItem.vat_calculated_at received a naive datetime (2025-01-12 10:30:00) while time zone support is active.
  warnings.warn(
DEBUG CartItem 208 created - invalidating VAT cache for cart 542
DEBUG VAT cache invalidated for cart 542
..DEBUG CartItem 210 created - invalidating VAT cache for cart 544
DEBUG VAT cache invalidated for cart 544
DEBUG CartItem 211 created - invalidating VAT cache for cart 544
DEBUG VAT cache invalidated for cart 544
..DEBUG CartItem 213 created - invalidating VAT cache for cart 546
DEBUG VAT cache invalidated for cart 546
DEBUG CartItem 214 created - invalidating VAT cache for cart 546
DEBUG VAT cache invalidated for cart 546
.DEBUG CartItem 215 created - invalidating VAT cache for cart 547
DEBUG VAT cache invalidated for cart 547
.DEBUG CartItem 216 created - invalidating VAT cache for cart 548
DEBUG VAT cache invalidated for cart 548
...DEBUG CartItem 219 created - invalidating VAT cache for cart 551
DEBUG VAT cache invalidated for cart 551
DEBUG CartItem 220 created - invalidating VAT cache for cart 551
DEBUG VAT cache invalidated for cart 551
DEBUG CartItem 221 created - invalidating VAT cache for cart 551
DEBUG VAT cache invalidated for cart 551
..DEBUG CartItem 222 created - invalidating VAT cache for cart 553
DEBUG VAT cache invalidated for cart 553
DEBUG CartItem 223 created - invalidating VAT cache for cart 553
DEBUG VAT cache invalidated for cart 553
.DEBUG CartItem 224 created - invalidating VAT cache for cart 554
DEBUG VAT cache invalidated for cart 554
./Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/fields/__init__.py:1670: RuntimeWarning: DateTimeField Cart.vat_last_calculated_at received a naive datetime (2025-01-12 10:30:00) while time zone support is active.
  warnings.warn(
.......DEBUG CartItem 225 created - invalidating VAT cache for cart 563
DEBUG VAT cache invalidated for cart 563
.DEBUG CartItem 226 created - invalidating VAT cache for cart 564
DEBUG VAT cache invalidated for cart 564
.DEBUG CartItem 227 created - invalidating VAT cache for cart 565
DEBUG VAT cache invalidated for cart 565
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 228 created - invalidating VAT cache for cart 572
DEBUG VAT cache invalidated for cart 572
DEBUG CartItem 228 deleted - invalidating VAT cache for cart 572
DEBUG VAT cache invalidated for cart 572
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING Not Found: /api/cart/update_item/
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.................WARNING Unauthorized: /api/catalog/subjects/
..ERROR Internal Server Error: /api/catalog/products/bundle-contents/
.WARNING Bad Request: /api/catalog/products/bundle-contents/
.WARNING Not Found: /api/catalog/products/bundle-contents/
......................ERROR Internal Server Error: /api/catalog/search/
.......ERROR Internal Server Error: /api/catalog/products/bundles/
................................ERROR Internal Server Error: /api/catalog/navigation-data/
........WARNING Bad Request: /api/catalog/products/bulk-import/
.WARNING Bad Request: /api/catalog/products/bulk-import/
.WARNING Bad Request: /api/catalog/products/bulk-import/
................s..WARNING Forbidden: /api/catalog/products/
.WARNING Forbidden: /api/catalog/products/5268/
..WARNING Forbidden: /api/catalog/products/5276/
.WARNING Bad Request: /api/catalog/subjects/bulk-import/
.WARNING Bad Request: /api/catalog/subjects/bulk-import/
......................................WARNING Forbidden: /api/catalog/exam-sessions/
....WARNING Forbidden: /api/catalog/products/
....WARNING Unauthorized: /api/catalog/subjects/
.WARNING Forbidden: /api/catalog/subjects/
.WARNING Forbidden: /api/catalog/subjects/929/
...WARNING Forbidden: /api/catalog/subjects/929/
.......................................WARNING Method Not Allowed: /api/catalog/bundles/
...WARNING Forbidden: /api/catalog/exam-sessions/
...............WARNING Bad Request: /api/catalog/products/bulk-import/
.WARNING Forbidden: /api/catalog/products/bulk-import/
.WARNING Forbidden: /api/catalog/products/
.............WARNING Forbidden: /api/catalog/subjects/
..WARNING Forbidden: /api/catalog/subjects/929/
.......WARNING Forbidden: /api/catalog/subjects/929/
..WARNING Bad Request: /api/auth/activate/
.WARNING Bad Request: /api/auth/activate/
.....ERROR Account activation failed: Unexpected error
ERROR Internal Server Error: /api/auth/activate/
..ERROR Error sending password reset completion email to testuser@example.com: Email service crashed
.WARNING Failed to queue password reset completion email for user testuser@example.com
.ERROR Error during password reset confirmation: Unexpected error
ERROR Internal Server Error: /api/auth/password_reset_confirm/
..WARNING Bad Request: /api/auth/send_activation/
..WARNING Bad Request: /api/auth/send_email_verification/
.WARNING Could not update UserProfile for testuser: Profile database error
..WARNING Bad Request: /api/auth/activate/
.WARNING Invalid password reset attempt with uid: invalid_uid_format!!!
WARNING Bad Request: /api/auth/password_reset_confirm/
.ERROR Error during password reset request: Database connection lost
ERROR Internal Server Error: /api/auth/password_reset_request/
.ERROR Failed to queue password reset email for user testuser@example.com
ERROR Internal Server Error: /api/auth/password_reset_request/
.WARNING Bad Request: /api/auth/password_reset_request/
.WARNING reCAPTCHA verification failed for password reset: Low score
WARNING Bad Request: /api/auth/password_reset_request/
.ERROR Failed to send account activation email to: testuser@example.com
ERROR Internal Server Error: /api/auth/send_activation/
.ERROR Send account activation failed: Database error
ERROR Internal Server Error: /api/auth/send_activation/
.ERROR Failed to send email verification to: newemail@example.com for user: testuser@example.com
ERROR Internal Server Error: /api/auth/send_email_verification/
.ERROR Send email verification failed: Token generation failed
ERROR Internal Server Error: /api/auth/send_email_verification/
.ERROR Email verification failed: Database connection lost
ERROR Internal Server Error: /api/auth/verify_email/
.WARNING Invalid verification link with uid: malformed_uid!!!
WARNING Bad Request: /api/auth/verify_email/
.....EERROR Failed to send account activation email for user emailexc: SMTP connection refused
WARNING Creating token for inactive user: 4542. If this is not intentional, consider checking the user's status before calling the `for_user` method.
.ERROR Failed to create user account: Database constraint violation
ERROR Internal Server Error: /api/auth/register/
..ERROR Internal Server Error: /api/auth/test-email/
.ERROR Internal Server Error: /api/auth/test-email/
...WARNING Bad Request: /api/auth/send_email_verification/
.ERROR Send email verification failed: 'AnonymousUser' object has no attribute 'last_login'
ERROR Internal Server Error: /api/auth/send_email_verification/
.WARNING Email verification failed - taken@example.com already in use
WARNING Bad Request: /api/auth/verify_email/
.WARNING Token validation failed for user testuser with token invalid_to...
WARNING Bad Request: /api/auth/verify_email/
.WARNING Bad Request: /api/auth/verify_email/
..WARNING Unauthorized: /api/auth/login/
.WARNING Unauthorized: /api/auth/login/
.WARNING Unauthorized: /api/auth/login/
.....WARNING Invalid or expired token used for password reset: user testuser@example.com
WARNING Bad Request: /api/auth/password_reset_confirm/
.WARNING Bad Request: /api/auth/password_reset_confirm/
..WARNING Bad Request: /api/auth/password_reset_request/
.WARNING Password reset requested for non-existent email: nonexistent@example.com
.WARNING Bad Request: /api/auth/register/
.WARNING Account activation email failed to send to emailfail@example.com for user emailfail
WARNING Creating token for inactive user: 4572. If this is not intentional, consider checking the user's status before calling the `for_user` method.
.WARNING Bad Request: /api/auth/register/
.WARNING Creating token for inactive user: 4573. If this is not intentional, consider checking the user's status before calling the `for_user` method.
..WARNING Unauthorized: /api/auth/test-email/
.WARNING Unauthorized: /api/auth/token/refresh/
..WARNING Unauthorized: /api/auth/refresh/
...........................................................................................................................ERROR Error generating dynamic content for placeholder TUTORIAL_CONTENT: Test error
.DEBUG Rule 'Tutorial Rule' matched for placeholder 'TUTORIAL_CONTENT'
.DEBUG Rule 'Tutorial Rule' matched for placeholder 'TUTORIAL_CONTENT'
DEBUG Rule 'Second Rule' matched for placeholder 'TUTORIAL_CONTENT'
.DEBUG Rule 'Tutorial Rule' matched for placeholder 'TUTORIAL_CONTENT'
DEBUG Rule 'Second Rule' matched for placeholder 'TUTORIAL_CONTENT'
.WARNING Placeholder configuration not found for: NONEXISTENT_PLACEHOLDER
...ERROR Error fetching available placeholders: DB error
..ERROR Error fetching placeholder config for TUTORIAL_CONTENT: DB error
..WARNING Placeholder configuration not found for: TUTORIAL_CONTENT
.WARNING Placeholder configuration not found for: NONEXISTENT
..ERROR Error fetching content rules for template order_confirmation: DB error
......DEBUG Rule 'Tutorial Rule' matched for placeholder 'TUTORIAL_CONTENT'
.ERROR Error generating content preview: Test error
..ERROR Error processing template content for order_confirmation: Test error
...DEBUG Rule 'Tutorial Rule' matched for placeholder 'TUTORIAL_CONTENT'
..ERROR Error rendering content template: Invalid block tag on line 1: 'invalid_tag'. Did you forget to register or load this tag?
..ERROR Error summarizing context: argument of type 'NoneType' is not a container or iterable
..ERROR Error validating template placeholders: Test error
.WARNING Placeholder configuration not found for: UNKNOWN_PLACEHOLDER
....WARNING Converting non-serializable context item 'items': <class 'list'>
.WARNING Converting non-serializable context item 'outer': <class 'dict'>
WARNING Converting non-serializable context item 'inner_obj': <class 'email_system.tests.test_coverage_gaps.CleanContextListAndDictTest.test_nested_dict_cleaning.<locals>.Inner'>
.WARNING Converting non-serializable context item 'special': <class 'frozenset'>
.WARNING Converting non-serializable context item 'date': <class 'email_system.tests.test_coverage_gaps.CleanContextModelFieldsTest.test_isoformat_object_cleaned.<locals>.DateLike'>
.WARNING Converting non-serializable context item 'broken': <class 'email_system.tests.test_coverage_gaps.CleanContextModelFieldsTest.test_model_conversion_exception_fallback.<locals>.BadModel'>
.WARNING Converting non-serializable context item 'user': <class 'django.contrib.auth.models.User'>
.WARNING Failed to get placeholders for template order_confirmation: EmailTemplate matching query does not exist.
WARNING Failed to process dynamic content insertion: Insertion failed
..ERROR Error evaluating content rule Coverage Exception Rule: 'bad key'
.ERROR Error evaluating content rule Coverage Exception Rule: Broken
.INFO Email BCC monitoring enabled. BCC recipients: ['eugene.lo1030@gmail.com', 'eugenelo@bpp.com']
.ERROR MJML include file not found: /Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/templates/emails/mjml/nonexistent_include.mjml
INFO Email BCC monitoring enabled. BCC recipients: ['eugene.lo1030@gmail.com', 'eugenelo@bpp.com']
.ERROR Error loading MJML include test_include.mjml: Permission denied
INFO Email BCC monitoring enabled. BCC recipients: ['eugene.lo1030@gmail.com', 'eugenelo@bpp.com']
.WARNING Django template processing failed for tmpstw2fx__.mjml, using raw file: Template error
INFO Email BCC monitoring enabled. BCC recipients: ['eugene.lo1030@gmail.com', 'eugenelo@bpp.com']
.WARNING Some emails failed, scheduled retry for 158c5d9e-0a63-4116-9f37-15677d4ab388
.WARNING Some emails failed, scheduled retry for d95583e3-aa9f-4a91-b428-411f0e4f7a5a
.WARNING Some emails failed, scheduled retry for 247d7639-fce7-4e38-aa11-1c80a6e33d8e
.ERROR Failed to serialize context: Not serializable
........ERROR MJML include file not found: /Users/work/Documents/Code/Admin3/backend/django_Admin3/email_system/templates/emails/mjml/nonexistent.mjml
.ERROR Error loading MJML include test.mjml: Permission denied
...ERROR Failed to add placeholder 'PH' to template 'test': DB error
.........ERROR Attachment file not found: /nonexistent/file.txt
.WARNING Attachment missing required fields: {'mime_type': 'text/plain'}
.ERROR Attachment file not found: /nonexistent/file.txt
.ERROR Attachment file not found: /app/files/test.pdf
.ERROR Attachment file not found: /nonexistent/file.txt
ERROR Failed to attach file test.txt: Required attachment not found: /nonexistent/file.txt
.ERROR Attachment file not found: /nonexistent/file.txt
ERROR Failed to attach file test.txt: Required attachment not found: /nonexistent/file.txt
.ERROR Attachment file not found: /app/static/files/test.pdf
....WARNING Failed to enhance Outlook compatibility: Transform error, returning original HTML
..INFO Email BCC monitoring enabled. BCC recipients: ['monitor@test.com']
...WARNING Failed to get placeholders for template nonexistent: EmailTemplate matching query does not exist.
.......ERROR Failed to queue email: Queue error
.ERROR Failed to queue email: Queue error
..ERROR Failed to render email with master template: Template not found
........ERROR Failed to send HTML email to ['user@test.com']: emails/nonexistent_template.html
.....ERROR Failed to send dynamic MJML email to ['user@test.com']: MJML parse error
....ERROR SMTP error sending email to ['user@test.com']: SMTP error
ERROR Failed to send dynamic MJML email to ['user@test.com']: SMTP error
...ERROR Failed to send MJML email to ['user@test.com']: emails/mjml/totally_missing_template.mjml
..ERROR Order confirmation email failed for ORD-001 to user@test.com: First attempt failed
.....ERROR Order confirmation email failed for ORD-001 to user@test.com: First failed
ERROR Master template fallback also failed: Render failed
.............WARNING Error checking template queue setting: DB error
...................................................ERROR Error rendering content for rule Tutorial Rule: Invalid block tag on line 1: 'invalid_tag'. Did you forget to register or load this tag?
.WARNING No default content template found for placeholder TUTORIAL_CONTENT
....................................................................................ERROR Error in email queue processing cycle: DB connection lost
..................WARNING Converting non-serializable context item 'user': <class 'django.contrib.auth.models.User'>
.WARNING Converting non-serializable context item 'items': <class 'list'>
..WARNING Converting non-serializable context item 'custom': <class 'email_system.tests.test_queue_service.CleanContextForSerializationTest.test_clean_non_serializable_fallback_to_string.<locals>.CustomObj'>
.WARNING Converting non-serializable context item 'obj': <class 'email_system.tests.test_queue_service.CleanContextForSerializationTest.test_clean_object_with_dict_but_no_meta.<locals>.SimpleObj'>
............ERROR Failed to get template attachments: DB error
........ERROR Failed to process queue item cc9c050c-c031-42e5-b1e8-ee8de00b216e: Process error
.......ERROR Failed to process queue item 16ad3823-f9d9-4e21-88a9-95d1645070c7: Unexpected error
.ERROR Queue item 21d41844-1a69-437b-a166-e6674c12a860 failed after max attempts
.ERROR Queue item 775bfdb6-0af5-45e0-8cf2-a19314be8183 failed after max attempts
.ERROR Queue item c48f42d5-a14c-4208-ae0f-034311607f0b failed after max attempts
..ERROR Queue item da8e58f2-1144-4dac-9a1d-3d4241661e9c failed after max attempts
....WARNING No template configuration found for nonexistent_eqs_template_xyz, using defaults
....WARNING Failed to render template subject: Invalid block tag on line 1: 'invalid_tag'. Did you forget to register or load this tag?
.......WARNING No template configuration found for nonexistent_eqs_template, using defaults
.ERROR Exception sending email to eqs_exception@example.com: Send error
.ERROR Failed to send email to eqs_fail@example.com: Rejected
.ERROR Failed to send email to eqs_logfail@example.com: Log creation failed
..........WARNING Failed to evaluate attachment condition for eqs_incl_attach: 'int' object is not iterable
.WARNING Failed to evaluate attachment condition for eqs_incl_attach: 'int' object is not iterable
..................................ERROR Failed to preview template password_reset: Invalid output format: invalid_format
.ERROR MJML compilation error: MJML compile error
ERROR Failed to preview template order_confirmation: emails/order_confirmation.html
....ERROR Failed to preview template totally_nonexistent_template_xyz123: emails/totally_nonexistent_template_xyz123.html
......ERROR Failed to save preview for password_reset (html): Preview error
ERROR Failed to save preview for password_reset (text): Preview error
ERROR Failed to save preview for password_reset (inlined): Preview error
.......ERROR Failed to test Outlook compatibility for password_reset: Preview error
...ERROR Failed to send test email: Send failed
......ERROR Unknown template: completely_unknown_template
.........ERROR Failed to validate email compatibility: Preview failed
....................../Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/core/cache/backends/base.py:119: CacheKeyWarning: Cache key contains characters that will cause errors if used with memcached: ':1:filter_options_Product Types'
  warnings.warn(warning, CacheKeyWarning)
..........EEE......INFO setup_main_category_filter called - migration complete, no action needed
............................../Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/core/cache/backends/base.py:119: CacheKeyWarning: Cache key contains characters that will cause errors if used with memcached: ':1:filter_options_Tutorial Format'
  warnings.warn(warning, CacheKeyWarning)
.....ERROR Error getting options for Bundles: test error
.....WARNING Main category filter not found
.WARNING Main category filter not found
......................INFO Removing 3 format group assignments from ['categories', 'product_types'] configs
.EINFO Removing 3 format group assignments from ['categories', 'product_types'] configs
/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/core/cache/backends/base.py:119: CacheKeyWarning: Cache key contains characters that will cause errors if used with memcached: ':1:filter_options_Modes of Delivery'
  warnings.warn(warning, CacheKeyWarning)
.EEEEE................WARNING Not Found: /api/products/product-groups/999999/products/
...EEEEEEEEEEEEEEEEWARNING Bad Request: /api/markings/papers/bulk-deadlines/
.WARNING Bad Request: /api/markings/papers/bulk-deadlines/
..WARNING Bad Request: /api/markings/papers/bulk-deadlines/
.......WARNING Not Found: /api/markings/papers/deadlines/
.WARNING Not Found: /api/markings/papers/deadlines/
..EEEEEEEEEEEEEEEEEE.................................WARNING Bad Request: /api/marking-vouchers/add-to-cart/
.WARNING Bad Request: /api/marking-vouchers/add-to-cart/
.WARNING Unauthorized: /api/marking-vouchers/add-to-cart/
.WARNING Bad Request: /api/marking-vouchers/add-to-cart/
.WARNING Not Found: /api/marking-vouchers/add-to-cart/
..WARNING Not Found: /api/marking-vouchers/999999/
....EEEEEEEE............................................DEBUG CartItem 229 created - invalidating VAT cache for cart 577
DEBUG VAT cache invalidated for cart 577
WARNING Blocking rule check failed, proceeding: ORD Rule engine unavailable
ERROR Failed to send order confirmation for order 172: EmailService.send_order_confirmation() got an unexpected keyword argument 'to_email'
DEBUG CartItem 229 deleted - invalidating VAT cache for cart 577
DEBUG VAT cache invalidated for cart 577
.DEBUG CartItem 230 created - invalidating VAT cache for cart 578
DEBUG VAT cache invalidated for cart 578
ERROR Failed to send order confirmation for order 173: EmailService.send_order_confirmation() got an unexpected keyword argument 'to_email'
DEBUG CartItem 230 deleted - invalidating VAT cache for cart 578
DEBUG VAT cache invalidated for cart 578
.DEBUG CartItem 231 created - invalidating VAT cache for cart 579
DEBUG VAT cache invalidated for cart 579
ERROR Failed to send order confirmation for order 174: EmailService.send_order_confirmation() got an unexpected keyword argument 'to_email'
DEBUG CartItem 231 deleted - invalidating VAT cache for cart 579
DEBUG VAT cache invalidated for cart 579
.DEBUG CartItem 232 created - invalidating VAT cache for cart 580
DEBUG VAT cache invalidated for cart 580
ERROR Failed to send order confirmation for order 175: EmailService.send_order_confirmation() got an unexpected keyword argument 'to_email'
DEBUG CartItem 232 deleted - invalidating VAT cache for cart 580
DEBUG VAT cache invalidated for cart 580
.DEBUG CartItem 233 created - invalidating VAT cache for cart 581
DEBUG VAT cache invalidated for cart 581
ERROR Failed to send order confirmation for order 176: EmailService.send_order_confirmation() got an unexpected keyword argument 'to_email'
DEBUG CartItem 233 deleted - invalidating VAT cache for cart 581
DEBUG VAT cache invalidated for cart 581
.DEBUG CartItem 234 created - invalidating VAT cache for cart 582
DEBUG VAT cache invalidated for cart 582
ERROR Failed to send order confirmation for order 177: EmailService.send_order_confirmation() got an unexpected keyword argument 'to_email'
DEBUG CartItem 234 deleted - invalidating VAT cache for cart 582
DEBUG VAT cache invalidated for cart 582
.DEBUG CartItem 235 created - invalidating VAT cache for cart 583
DEBUG VAT cache invalidated for cart 583
ERROR Failed to send order confirmation for order 178: EmailService.send_order_confirmation() got an unexpected keyword argument 'to_email'
DEBUG CartItem 235 deleted - invalidating VAT cache for cart 583
DEBUG VAT cache invalidated for cart 583
.DEBUG CartItem 236 created - invalidating VAT cache for cart 584
DEBUG VAT cache invalidated for cart 584
WARNING Failed to save acknowledgments for order 179: ORD DB error
ERROR Failed to send order confirmation for order 179: EmailService.send_order_confirmation() got an unexpected keyword argument 'to_email'
DEBUG CartItem 236 deleted - invalidating VAT cache for cart 584
DEBUG VAT cache invalidated for cart 584
.DEBUG CartItem 237 created - invalidating VAT cache for cart 585
DEBUG VAT cache invalidated for cart 585
ERROR Failed to send order confirmation for order 180: EmailService.send_order_confirmation() got an unexpected keyword argument 'to_email'
DEBUG CartItem 237 deleted - invalidating VAT cache for cart 585
DEBUG VAT cache invalidated for cart 585
.DEBUG CartItem 238 created - invalidating VAT cache for cart 586
DEBUG VAT cache invalidated for cart 586
WARNING Failed to save contact for order 181: ORD Contact DB error
ERROR Failed to send order confirmation for order 181: EmailService.send_order_confirmation() got an unexpected keyword argument 'to_email'
DEBUG CartItem 238 deleted - invalidating VAT cache for cart 586
DEBUG VAT cache invalidated for cart 586
.DEBUG CartItem 239 created - invalidating VAT cache for cart 587
DEBUG VAT cache invalidated for cart 587
ERROR Failed to send order confirmation for order 182: EmailService.send_order_confirmation() got an unexpected keyword argument 'to_email'
DEBUG CartItem 239 deleted - invalidating VAT cache for cart 587
DEBUG VAT cache invalidated for cart 587
.DEBUG CartItem 240 created - invalidating VAT cache for cart 588
DEBUG VAT cache invalidated for cart 588
ERROR Failed to send order confirmation for order 183: EmailService.send_order_confirmation() got an unexpected keyword argument 'to_email'
DEBUG CartItem 240 deleted - invalidating VAT cache for cart 588
DEBUG VAT cache invalidated for cart 588
.DEBUG CartItem 241 created - invalidating VAT cache for cart 589
DEBUG VAT cache invalidated for cart 589
WARNING Failed to save delivery for order 184: ORD Delivery DB error
ERROR Failed to send order confirmation for order 184: EmailService.send_order_confirmation() got an unexpected keyword argument 'to_email'
DEBUG CartItem 241 deleted - invalidating VAT cache for cart 589
DEBUG VAT cache invalidated for cart 589
.DEBUG CartItem 242 created - invalidating VAT cache for cart 590
DEBUG VAT cache invalidated for cart 590
ERROR Failed to send order confirmation for order 185: EmailService.send_order_confirmation() got an unexpected keyword argument 'to_email'
DEBUG CartItem 242 deleted - invalidating VAT cache for cart 590
DEBUG VAT cache invalidated for cart 590
.DEBUG CartItem 243 created - invalidating VAT cache for cart 591
DEBUG VAT cache invalidated for cart 591
ERROR Failed to send order confirmation for order 186: EmailService.send_order_confirmation() got an unexpected keyword argument 'to_email'
DEBUG CartItem 243 deleted - invalidating VAT cache for cart 591
DEBUG VAT cache invalidated for cart 591
.DEBUG CartItem 244 created - invalidating VAT cache for cart 592
DEBUG VAT cache invalidated for cart 592
ERROR Failed to send order confirmation for order 187: EmailService.send_order_confirmation() got an unexpected keyword argument 'to_email'
DEBUG CartItem 244 deleted - invalidating VAT cache for cart 592
DEBUG VAT cache invalidated for cart 592
.DEBUG CartItem 245 created - invalidating VAT cache for cart 593
DEBUG VAT cache invalidated for cart 593
WARNING Failed to save preferences for order 188: ORD Preference DB error
ERROR Failed to send order confirmation for order 188: EmailService.send_order_confirmation() got an unexpected keyword argument 'to_email'
DEBUG CartItem 245 deleted - invalidating VAT cache for cart 593
DEBUG VAT cache invalidated for cart 593
.DEBUG CartItem 246 created - invalidating VAT cache for cart 594
DEBUG VAT cache invalidated for cart 594
ERROR Failed to send order confirmation for order 189: EmailService.send_order_confirmation() got an unexpected keyword argument 'to_email'
DEBUG CartItem 246 deleted - invalidating VAT cache for cart 594
DEBUG VAT cache invalidated for cart 594
.DEBUG CartItem 247 created - invalidating VAT cache for cart 595
DEBUG VAT cache invalidated for cart 595
ERROR Failed to send order confirmation for order 190: EmailService.send_order_confirmation() got an unexpected keyword argument 'to_email'
DEBUG CartItem 247 deleted - invalidating VAT cache for cart 595
DEBUG VAT cache invalidated for cart 595
.DEBUG CartItem 248 created - invalidating VAT cache for cart 596
DEBUG VAT cache invalidated for cart 596
ERROR VAT calculation failed for cart 596: ORD VAT service unavailable
ERROR Failed to send order confirmation for order 191: EmailService.send_order_confirmation() got an unexpected keyword argument 'to_email'
DEBUG CartItem 248 deleted - invalidating VAT cache for cart 596
DEBUG VAT cache invalidated for cart 596
.DEBUG CartItem 249 created - invalidating VAT cache for cart 597
DEBUG VAT cache invalidated for cart 597
WARNING Bad Request: /api/orders/checkout/
.DEBUG CartItem 250 created - invalidating VAT cache for cart 598
DEBUG VAT cache invalidated for cart 598
WARNING Bad Request: /api/orders/checkout/
.DEBUG CartItem 251 created - invalidating VAT cache for cart 599
DEBUG VAT cache invalidated for cart 599
DEBUG CartItem 251 deleted - invalidating VAT cache for cart 599
DEBUG VAT cache invalidated for cart 599
WARNING Bad Request: /api/orders/checkout/
.DEBUG CartItem 252 created - invalidating VAT cache for cart 600
DEBUG VAT cache invalidated for cart 600
WARNING Bad Request: /api/orders/checkout/
.DEBUG CartItem 253 created - invalidating VAT cache for cart 601
DEBUG VAT cache invalidated for cart 601
ERROR Failed to send order confirmation for order 193: EmailService.send_order_confirmation() got an unexpected keyword argument 'to_email'
DEBUG CartItem 253 deleted - invalidating VAT cache for cart 601
DEBUG VAT cache invalidated for cart 601
..F..WARNING Could not get user country: ORD DB error
.E.EERROR Failed to send order confirmation for order 203: ORD Email build failed
.INFO Order confirmation email queued for order 204
..........EE............EEEEE........ERROR Payment failed for order 232: Card authentication failed
.ERROR Error processing payment for order 233: Connection timeout
....EEEEEEEEEEDEBUG Rule test_pref_newsletter created, invalidating cache for user_preferences
INFO Invalidated rules cache for entry point: user_preferences (key: rules:user_preferences)
.DEBUG Rule test_aset_warning_rule created, invalidating cache for checkout_start
INFO Invalidated rules cache for entry point: checkout_start (key: rules:checkout_start)
DEBUG Cache miss for rules:checkout_start
DEBUG Cached 1 rules for checkout_start
DEBUG  Schema validation passed for checkout_context_test
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'test_aset_warning_rule' condition not matched
.DEBUG Cache hit for rules:checkout_start: 1 rules
DEBUG  Schema validation passed for checkout_context_test
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'test_aset_warning_rule' condition not matched
.DEBUG Cache hit for rules:checkout_start: 1 rules
DEBUG  Schema validation passed for checkout_context_test
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806664_ea7c4d7b
.DEBUG Cache hit for rules:checkout_start: 1 rules
DEBUG  Schema validation passed for checkout_context_test
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806664_c0a5163e
.DEBUG Cache hit for rules:checkout_start: 1 rules
DEBUG  Schema validation passed for checkout_context_test
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806664_2711505a
.DEBUG Rule admin_test_rule_1 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule admin_test_rule_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
..DEBUG Rule test_rule_create created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule test_rule_delete created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule test_rule_delete deleted, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
.DEBUG Rule test_rule_update created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule test_rule_update updated, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule test_rule_spaces created, invalidating cache for home page mount
INFO Invalidated rules cache for entry point: home page mount (key: rules:home_page_mount)
DEBUG Rule test_rule_spaces_2 created, invalidating cache for home page mount
INFO Invalidated rules cache for entry point: home page mount (key: rules:home_page_mount)
.DEBUG Rule cmd_test_rule_1 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cmd_test_rule_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cmd_test_rule_3 created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
...sssssssssssssssssssssDEBUG Rule RE_admin_b created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule RE_admin_a created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule RE_cache_1 created, invalidating cache for checkout_terms
DEBUG Rule RE_cache_2 created, invalidating cache for checkout_terms
DEBUG Rule RE_cache_3 created, invalidating cache for home_page_mount
.....ERROR DEBUG: Cart 999 not found
...ERROR DEBUG: Cart 1 not found
.......INFO VAT calculated for GB: 10.00
.INFO VAT calculated for GB: 30.00
.INFO VAT calculated for GB: 15.00
.ERROR Error in calculate_vat_for_context: Service unavailable
...INFO VAT calculated for GB: 10.00
.INFO VAT calculated for GB: 20.00
..WARNING Country not found: ZZ
.WARNING No region mapping found for country: XX
...WARNING Country not found: ZZ
.WARNING VAT percent is NULL for country: US
.........WARNING Unknown update target/operation: /
....WARNING Unknown update target/operation: unknown.target/unknown_op
.....................................DEBUG Rule RE_empty_actions created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule RE_plain_action created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
..DEBUG Rule RE_no_tpl created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule RE_enhanced created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule RE_null_fields created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule RE_no_fields created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule RE_fields_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule RE_read_mode created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule RE_repr_nested created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule RE_repr_nested_missing created, invalidating cache for RE_nonexistent_ep
INFO Invalidated rules cache for entry point: RE_nonexistent_ep (key: rules:re_nonexistent_ep)
.DEBUG Rule RE_repr_normal created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule RE_valid_create created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
............DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Could not fetch template invalid: Field 'id' expected a number but got 'invalid'.
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Stored function result in context: vat.amount = 20.00
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error calling function 'calculate_vat_amount': [<class 'decimal.ConversionSyntax'>]
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Function 'nonexistent_function' not found in FUNCTION_REGISTRY
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Could not fetch template 99999: MessageTemplate matching query does not exist.
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Unknown action type: nonexistent_action
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Updated context during dispatch: cart.vat_rate = 0.2
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Template 99999 not found, using fallback content
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Could not fetch template 1157: MessageTemplate matching query does not exist.
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error adding cart fee: Field 'id' expected a number but got 'invalid'.
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Updated context during dispatch: a.b.c.d = deep_value
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Updated context during dispatch: field = test
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Template 99999 not found, using fallback content
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Always-false condition evaluated to False
.DEBUG Always-true condition evaluated to True
.DEBUG Always-true type condition evaluated to True
.DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: False
..DEBUG  JSONLogic condition evaluated to: True
...DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: False
..DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic (type-wrapped) condition evaluated to: True
DEBUG  JSONLogic (type-wrapped) condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: False
..DEBUG  JSONLogic condition evaluated to: True
..DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: False
..DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: False
...DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: False
..WARNING Unknown JSONLogic operator: unknown_op
DEBUG  JSONLogic condition evaluated to: False
..DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Failed to store execution record: DB error
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Stored execution record: exec_1769806666_72dab87d
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Stored execution record: exec_1769806666_f7aa6a1e
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Stored execution record: exec_1769806666_7ae9724e
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_blocking_ack created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: []
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806666_ffa34f0e
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR  Rules Engine: Fatal error in 'checkout_terms': Fatal
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache miss for rules:nonexistent_entry
DEBUG Cached 0 rules for nonexistent_entry
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_optional_ack created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: []
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806666_e0f24629
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_exception_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: []
ERROR  Error processing rule 'cov_exception_rule': Eval boom
DEBUG Stored execution record: exec_1769806666_ad93d782
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_satisfied_ack created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: ['acknowledgments']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806666_85b106d4
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_schema_fail created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
WARNING  Schema validation failed for cov_engine_strict: 'must_have' is a required property
DEBUG Validation error path: root
WARNING Context validation failed for rule cov_schema_fail
ERROR Schema validation errors for entry point 'checkout_terms': 1 errors
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_update_incr created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: ['counter']
DEBUG  JSONLogic condition evaluated to: True
WARNING Unknown update target/operation: counter/increment
ERROR  Error processing rule 'cov_update_incr': 'RuleEngine' object has no attribute '_get_nested_value'
DEBUG Stored execution record: exec_1769806666_6992e444
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_update_collect created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: []
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: order.total = 120.0
DEBUG Updated context: order.total = 120.0
DEBUG Stored execution record: exec_1769806666_b86b7396
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_update_set created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: []
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: vat.rate = 0.2
DEBUG Updated context: vat.rate = 0.2
DEBUG Stored execution record: exec_1769806666_c9ba62f4
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_pref_action created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: []
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806666_1db33bd8
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_engine_match created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: []
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806666_5f283ca9
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_engine_no_match created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: ['x']
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'cov_engine_no_match' condition not matched
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_stop_first created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_stop_second created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 2 rules for checkout_terms
DEBUG No schema validation - context keys: []
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806666_0f7b3aff
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Failed to set nested value a.b.c = 42: 'str' object does not support item assignment
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_block_err created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: []
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806666_63e4b8c5
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_ctx_merge created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: ['existing']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: custom.field = merged
DEBUG Updated context: custom.field = merged
DEBUG Stored execution record: exec_1769806666_50fb5b51
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_incr_new created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: []
DEBUG  JSONLogic condition evaluated to: True
WARNING Unknown update target/operation: new_counter/increment
ERROR  Error processing rule 'cov_incr_new': 'RuleEngine' object has no attribute '_get_nested_value'
DEBUG Stored execution record: exec_1769806666_b59da673
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_multi_1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_multi_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 2 rules for checkout_terms
DEBUG No schema validation - context keys: []
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: calculated.value = 42
DEBUG Updated context: calculated.value = 42
DEBUG Stored execution record: exec_1769806666_b76448ff
DEBUG No schema validation - context keys: ['calculated']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806666_1a5af118
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_pref_alias created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: []
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806666_32bb2c5e
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_upd_collect created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: []
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: vat.rate = 0.2
DEBUG Updated context: vat.rate = 0.2
DEBUG Stored execution record: exec_1769806666_b8eff5d5
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache miss for rules:entry with spaces
DEBUG Cached 0 rules for entry with spaces
DEBUG Invalidated cache for entry with spaces
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_repo_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG Cache hit for rules:checkout_terms: 1 rules
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_repo_1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_repo_active created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_repo_inactive created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Invalidated cache for checkout_terms
.......WARNING Unknown function: unknown_func
...............WARNING Error generating expired deadlines list: 'str' object has no attribute 'get'
...........WARNING Error resolving variable 'broken_var': Boom
...................DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG No schema validation - context keys: ['key']
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Context is not a dict: <class 'str'>
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG  Schema validation passed for cov_cached_schema
DEBUG  Schema validation passed for cov_cached_schema
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING  Schema validation failed for cov_strict_schema: 'age' is a required property
DEBUG Validation error path: root
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR RulesFields schema not found: nonexistent_schema
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG  Schema validation passed for cov_valid_schema
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Unexpected error during schema validation: 'not_a_schema' is not of type 'object', 'boolean'

Failed validating 'type' in metaschema['allOf'][0]:
    {'$schema': 'https://json-schema.org/draft/2020-12/schema',
     '$id': 'https://json-schema.org/draft/2020-12/meta/core',
     '$vocabulary': {'https://json-schema.org/draft/2020-12/vocab/core': True},
     '$dynamicAnchor': 'meta',
     'title': 'Core vocabulary meta-schema',
     'type': ['object', 'boolean'],
     'properties': {'$id': {'$ref': '#/$defs/uriReferenceString',
                            '$comment': 'Non-empty fragments not allowed.',
                            'pattern': '^[^#]*#?$'},
                    '$schema': {'$ref': '#/$defs/uriString'},
                    '$ref': {'$ref': '#/$defs/uriReferenceString'},
                    '$anchor': {'$ref': '#/$defs/anchorString'},
                    '$dynamicRef': {'$ref': '#/$defs/uriReferenceString'},
                    '$dynamicAnchor': {'$ref': '#/$defs/anchorString'},
                    '$vocabulary': {'type': 'object',
                                    'propertyNames': {'$ref': '#/$defs/uriString'},
                                    'additionalProperties': {'type': 'boolean'}},
                    '$comment': {'type': 'string'},
                    '$defs': {'type': 'object',
                              'additionalProperties': {'$dynamicRef': '#meta'}}},
     '$defs': {'anchorString': {'type': 'string',
                                'pattern': '^[A-Za-z_][-A-Za-z0-9._]*$'},
               'uriString': {'type': 'string', 'format': 'uri'},
               'uriReferenceString': {'type': 'string',
                                      'format': 'uri-reference'}}}

On schema:
    'not_a_schema'
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/engine/accept-terms/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Unauthorized: /api/rules/engine/accept-terms/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_list_r1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_list_r2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_list_inactive created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_ep1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_ep2 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_soft_del created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_soft_del updated, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error calculating VAT: [<class 'decimal.ConversionSyntax'>]
ERROR Internal Server Error: /api/rules/engine/calculate-vat/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/engine/calculate-vat/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/engine/calculate-vat/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error calculating VAT: 
ERROR Internal Server Error: /api/rules/engine/calculate-vat/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING VAT calculation validation error: ['Bad input']
WARNING Bad Request: /api/rules/engine/calculate-vat/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/engine/checkout-terms-status/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Unauthorized: /api/rules/engine/checkout-terms-status/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error validating checkout: Cart matching query does not exist.
ERROR Internal Server Error: /api/rules/engine/checkout-validation/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error evaluating rules: 'NoneType' object has no attribute 'evaluate_rules'
ERROR Internal Server Error: /api/rules/engine/evaluate/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error evaluating rules: Invalid field name(s) given in select_related: 'product'. Choices are: exam_session_subject, product_product_variation
ERROR Internal Server Error: /api/rules/engine/evaluate/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/engine/evaluate/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error evaluating rules: 'NoneType' object has no attribute 'evaluate_rules'
ERROR Internal Server Error: /api/rules/engine/evaluate/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error evaluating rules: 'NoneType' object has no attribute 'evaluate_rules'
ERROR Internal Server Error: /api/rules/engine/evaluate/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache miss for rules:home_page_mount
DEBUG Cached 0 rules for home_page_mount
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR âŒ Rules Engine API error: Boom
ERROR Internal Server Error: /api/rules/engine/execute/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/engine/execute/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache miss for rules:home_page_mount
DEBUG Cached 0 rules for home_page_mount
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_schema_val_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
WARNING  Schema validation failed for strict_schema_cov: 'required_field' is a required property
DEBUG Validation error path: root
WARNING Context validation failed for rule cov_schema_val_rule
ERROR Schema validation errors for entry point 'checkout_terms': 1 errors
WARNING Schema validation errors for 'checkout_terms': 1 errors
WARNING Bad Request: /api/rules/engine/execute/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache miss for rules:home_page_mount
DEBUG Cached 0 rules for home_page_mount
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache miss for rules:home_page_mount
DEBUG Cached 0 rules for home_page_mount
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache miss for rules:home_page_mount
DEBUG Cached 0 rules for home_page_mount
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache miss for rules:home_page_mount
DEBUG Cached 0 rules for home_page_mount
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache miss for rules:home_page_mount
DEBUG Cached 0 rules for home_page_mount
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Schema validation errors for 'checkout_terms': 1 errors
WARNING Bad Request: /api/rules/engine/execute/
...DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error fetching template styles for template 1192: DB down
ERROR Internal Server Error: /api/rules/templates/template-styles/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/templates/template-styles/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error fetching template styles for template 99999: No MessageTemplate matches the given query.
ERROR Internal Server Error: /api/rules/templates/template-styles/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error fetching template styles for template 1195: name 'MessageTemplateStyle' is not defined
ERROR Internal Server Error: /api/rules/templates/template-styles/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Unauthorized: /api/rules/templates/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error getting pending acknowledgments: 'NoneType' object has no attribute 'get_pending_acknowledgments'
ERROR Internal Server Error: /api/rules/engine/pending-acknowledgments/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/acknowledge/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/acknowledge/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
INFO âœ… [Acknowledge] Created new session: k0anfptpdjrr3ml62nqe5vqbiszoy94n
INFO âœ… [Acknowledge] Session ID: k0anfptpdjrr3ml62nqe5vqbiszoy94n
INFO âœ… [Acknowledge] Stored ack_key: test_ack_key
INFO âœ… [Acknowledge] Total acknowledgments: 1
INFO âœ… [Acknowledge] All ack_keys in session: ['test_ack_key']
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
INFO âœ… [Acknowledge] Created new session: urqp3cv2v95jc1uy69xjqg9cn3zff927
INFO âœ… [Acknowledge] Session ID: urqp3cv2v95jc1uy69xjqg9cn3zff927
INFO âœ… [Acknowledge] Stored ack_key: ack_update_key
INFO âœ… [Acknowledge] Total acknowledgments: 1
INFO âœ… [Acknowledge] All ack_keys in session: ['ack_update_key']
INFO âœ… [Acknowledge] Session ID: urqp3cv2v95jc1uy69xjqg9cn3zff927
INFO âœ… [Acknowledge] Stored ack_key: ack_update_key
INFO âœ… [Acknowledge] Total acknowledgments: 1
INFO âœ… [Acknowledge] All ack_keys in session: ['ack_update_key']
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error getting rules for entry point checkout_terms: DB error
ERROR Internal Server Error: /api/rules/entrypoint/checkout_terms/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_ep_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_page_0 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_3 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_4 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_5 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_6 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_7 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_8 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_9 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_10 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_11 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_12 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_13 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_14 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error creating rule: Serializer error
ERROR Internal Server Error: /api/rules/create/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/create/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_new_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
..DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/preferences/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Rule with ID/rule_code nonexistent_rule_code not found for preference pref_key
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_pref_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Not Found: /api/rules/preferences/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_num_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
INFO ðŸ” [Comprehensive Validation] Session ID: None
INFO ðŸ” [Comprehensive Validation] Raw session acknowledgments: []
INFO ðŸ” [Comprehensive Validation] Ack keys in session: []
INFO ðŸ” [Comprehensive Validation] Acknowledgments dict keys: []
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 0 rules for checkout_terms
DEBUG Cache miss for rules:checkout_payment
DEBUG Cached 0 rules for checkout_payment
DEBUG Cache miss for rules:checkout_preference
DEBUG Cached 0 rules for checkout_preference
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
INFO ðŸ” [Comprehensive Validation] Session ID: None
INFO ðŸ” [Comprehensive Validation] Raw session acknowledgments: []
INFO ðŸ” [Comprehensive Validation] Ack keys in session: []
INFO ðŸ” [Comprehensive Validation] Acknowledgments dict keys: []
ERROR âŒ [Comprehensive Validation] Error: Fatal
ERROR Internal Server Error: /api/rules/validate-comprehensive-checkout/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
INFO ðŸ” [Comprehensive Validation] Session ID: None
INFO ðŸ” [Comprehensive Validation] Raw session acknowledgments: []
INFO ðŸ” [Comprehensive Validation] Ack keys in session: []
INFO ðŸ” [Comprehensive Validation] Acknowledgments dict keys: []
DEBUG Cache hit for rules:checkout_terms: 0 rules
DEBUG Cache hit for rules:checkout_payment: 0 rules
DEBUG Cache hit for rules:checkout_preference: 0 rules
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
INFO ðŸ” [Comprehensive Validation] Session ID: None
INFO ðŸ” [Comprehensive Validation] Raw session acknowledgments: []
INFO ðŸ” [Comprehensive Validation] Ack keys in session: []
INFO ðŸ” [Comprehensive Validation] Acknowledgments dict keys: []
DEBUG Cache hit for rules:checkout_terms: 0 rules
DEBUG Cache hit for rules:checkout_payment: 0 rules
DEBUG Cache hit for rules:checkout_preference: 0 rules
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_comprehensive_block created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
INFO ðŸ” [Comprehensive Validation] Session ID: None
INFO ðŸ” [Comprehensive Validation] Raw session acknowledgments: []
INFO ðŸ” [Comprehensive Validation] Ack keys in session: []
INFO ðŸ” [Comprehensive Validation] Acknowledgments dict keys: []
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: ['acknowledgments']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806687_dbc09dad
DEBUG Cache hit for rules:checkout_payment: 0 rules
DEBUG Cache hit for rules:checkout_preference: 0 rules
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_comp_satisfied created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
INFO ðŸ” [Comprehensive Validation] Session ID: 3bn4zbtidk4pcmd2wvkooewnvxszosyi
INFO ðŸ” [Comprehensive Validation] Raw session acknowledgments: [{'ack_key': 'satisfied_ack', 'acknowledged': True, 'entry_point_location': 'checkout_terms'}]
INFO ðŸ” [Comprehensive Validation] Ack keys in session: ['satisfied_ack']
INFO ðŸ” [Comprehensive Validation] Acknowledgments dict keys: ['satisfied_ack']
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: ['acknowledgments']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806687_fe6eb662
DEBUG Cache hit for rules:checkout_payment: 0 rules
DEBUG Cache hit for rules:checkout_preference: 0 rules
........WARNING Country not found: UNKNOWN
.WARNING Country not found: UNKNOWN
.....WARNING Bad Request: /api/rules/engine/accept-terms/
.WARNING Unauthorized: /api/rules/engine/accept-terms/
..WARNING Bad Request: /api/rules/engine/checkout-terms-status/
.ERROR Error validating checkout: Cart matching query does not exist.
ERROR Internal Server Error: /api/rules/engine/checkout-validation/
....WARNING Bad Request: /api/rules/templates/template-styles/
.INFO ðŸ” [Comprehensive Validation] Session ID: None
INFO ðŸ” [Comprehensive Validation] Raw session acknowledgments: []
INFO ðŸ” [Comprehensive Validation] Ack keys in session: []
INFO ðŸ” [Comprehensive Validation] Acknowledgments dict keys: []
...DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG Rule minimal_test created, invalidating cache for test
INFO Invalidated rules cache for entry point: test (key: rules:test)
.sssDEBUG Rule test_schema_validation_rule created, invalidating cache for checkout_start
INFO Invalidated rules cache for entry point: checkout_start (key: rules:checkout_start)
DEBUG Rule test_no_schema_rule created, invalidating cache for test_no_schema
INFO Invalidated rules cache for entry point: test_no_schema (key: rules:test_no_schema)
DEBUG Cache miss for rules:test_no_schema
DEBUG Cached 1 rules for test_no_schema
DEBUG No schema validation - context keys: ['arbitrary', 'can', 'request']
DEBUG Always-true condition evaluated to True
DEBUG Stored execution record: exec_1769806690_aa5d4bd0
.sDEBUG Rule test_schema_validation_rule created, invalidating cache for checkout_start
INFO Invalidated rules cache for entry point: checkout_start (key: rules:checkout_start)
DEBUG Cache miss for rules:checkout_start
DEBUG Cached 1 rules for checkout_start
DEBUG  Schema validation passed for test_schema_validation
DEBUG Always-true condition evaluated to True
DEBUG Stored execution record: exec_1769806690_76772113
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule premium_customer_check created, invalidating cache for cart_update
INFO Invalidated rules cache for entry point: cart_update (key: rules:cart_update)
DEBUG Rule base_discount created, invalidating cache for cart_update
INFO Invalidated rules cache for entry point: cart_update (key: rules:cart_update)
DEBUG Rule apply_final_discount created, invalidating cache for cart_update
INFO Invalidated rules cache for entry point: cart_update (key: rules:cart_update)
DEBUG Rule should_not_execute created, invalidating cache for cart_update
INFO Invalidated rules cache for entry point: cart_update (key: rules:cart_update)
DEBUG Cache miss for rules:cart_update
DEBUG Cached 4 rules for cart_update
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: cart.never_field = should_not_see_this
DEBUG Updated context: cart.never_field = should_not_see_this
DEBUG Stored execution record: exec_1769806691_0aa3d6a5
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'apply_final_discount' condition not matched
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: cart.base_discount = 10
DEBUG Updated context: cart.base_discount = 10
DEBUG Stored execution record: exec_1769806691_a292d9f4
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: cart.discount_multiplier = 1.5
DEBUG Updated context: cart.discount_multiplier = 1.5
DEBUG Stored execution record: exec_1769806691_8daf196e
DEBUG Cache hit for rules:cart_update: 4 rules
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: cart.never_field = should_not_see_this
DEBUG Updated context: cart.never_field = should_not_see_this
DEBUG Stored execution record: exec_1769806691_ad07ed1b
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'apply_final_discount' condition not matched
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: cart.base_discount = 10
DEBUG Updated context: cart.base_discount = 10
DEBUG Stored execution record: exec_1769806691_912b2a55
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'premium_customer_check' condition not matched
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule eu_terms_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule us_terms_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 2 rules for checkout_terms
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'us_terms_rule' condition not matched
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806691_ddb8b523
WARNING Bad Request: /api/rules/acknowledge/
DEBUG Cache hit for rules:checkout_terms: 2 rules
DEBUG No schema validation - context keys: ['user', 'cart', 'acknowledgments', 'request']
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'us_terms_rule' condition not matched
DEBUG No schema validation - context keys: ['user', 'cart', 'acknowledgments', 'request']
DEBUG  JSONLogic condition evaluated to: True
ERROR  Error processing rule 'eu_terms_rule': 'bool' object has no attribute 'get'
DEBUG Stored execution record: exec_1769806691_90cd57cc
DEBUG Cache hit for rules:checkout_terms: 2 rules
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806691_aa42bdef
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'eu_terms_rule' condition not matched
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule bulk_discount created, invalidating cache for cart_update
INFO Invalidated rules cache for entry point: cart_update (key: rules:cart_update)
DEBUG Cache miss for rules:cart_update
DEBUG Cached 1 rules for cart_update
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: cart.discount = 50.0
DEBUG Updated context: cart.discount = 50.0
DEBUG Stored execution record: exec_1769806692_880ddc82
DEBUG Cache hit for rules:cart_update: 1 rules
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'bulk_discount' condition not matched
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule home_preferences created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache miss for rules:home_page_mount
DEBUG Cached 1 rules for home_page_mount
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806692_1cec5361
DEBUG Cache hit for rules:checkout_terms: 2 rules
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'us_terms_rule' condition not matched
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806692_b48cf4c4
..DEBUG Rule rule_checkout_terms_lookup_1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule rule_checkout_terms_lookup_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule rule_home_page_lookup_1 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
..DEBUG Rule rule_perf_high_priority created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule rule_perf_low_priority created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule rule_perf_medium_priority created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.....DEBUG Rule rule_checkout_1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
................DEBUG Rule test_json_serialization created, invalidating cache for test
INFO Invalidated rules cache for entry point: test (key: rules:test)
.........DEBUG Rule active_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule inactive_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule high_priority_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule medium_priority_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule low_priority_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
..DEBUG Rule future_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule expired_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule current_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule context_validation_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.sDEBUG Rule stop_processing_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule later_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule integration_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule versioned_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule versioned_rule_v2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
...DEBUG Rule display_message_rule created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule display_modal_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule multiple_actions_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule custom_function_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule update_field_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule ack_checked_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule ack_required_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule preference_optional_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule execution_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule execution_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule error_execution_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule execution_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule execution_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule execution_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule execution_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule second_execution_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule third_execution_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule execution_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule checkout_discount_rule created, invalidating cache for checkout_start
INFO Invalidated rules cache for entry point: checkout_start (key: rules:checkout_start)
DEBUG Rule checkout_discount_banner created, invalidating cache for checkout_start
INFO Invalidated rules cache for entry point: checkout_start (key: rules:checkout_start)
DEBUG Rule checkout_terms_validation created, invalidating cache for checkout_start
INFO Invalidated rules cache for entry point: checkout_start (key: rules:checkout_start)
DEBUG Cache miss for rules:checkout_start
DEBUG Cached 3 rules for checkout_start
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806693_361a2e9f
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule eu_checkout_terms_given_test2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806693_1d572fc7
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule eu_checkout_terms_required_test1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_121c1ab5
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule homepage_newsletter_preference created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache miss for rules:home_page_mount
DEBUG Cached 1 rules for home_page_mount
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_24dd5c4c
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule performance_rule_0 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_3 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_4 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_5 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_6 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_7 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_8 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_9 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 10 rules for checkout_terms
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_dd8ed16e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_1edd2a2a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_40b7491e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_6edd0987
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_0648bff8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_fcb578ab
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_64c084dd
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_94ba83ce
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_0ddb6b74
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_1cba96e5
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_e578d165
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_8c23e96d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_0951dace
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_e94c136c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_590b4146
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_c87f470d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_eda0fc8b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_d9de325d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_2242ee05
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_0174e9fe
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_c14511e7
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_23d139d9
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_2f60e75d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_3302fd29
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_41d2184a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_3cb81f4b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_bcd1b3da
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_bd69747c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_f8098c78
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_69bed979
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_5f796b66
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_e35e5359
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_77606a45
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_70557751
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_07809773
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_479b3637
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_6006c0a6
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_dc418d60
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806694_04fca4c4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_9db6b1dd
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_7b84e31a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_4574e38a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_77725246
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_7e7d3cbd
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_5ab8a6fd
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_46715bea
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_4873964c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_09ba0da3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_f6ba58bd
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_1332773f
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_db8a17d8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_6b7f0274
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_6b58ca79
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_336ddf32
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_7f724080
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_e50df87e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_f9257057
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_809b42b7
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_2efad7e8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_8042b1aa
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_326e5dab
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_3dce3d66
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_4a4d56c6
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_08c022db
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_03c2f4c4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_66317ccb
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_3dbc5317
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_8a1a6bfe
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_9cf7e79d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_3a1dd283
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_e089368a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_8b1bd401
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_e01197de
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_35f43552
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_84c4d41c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_69d1f6a1
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_b00bf96a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_69a60683
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_f895368a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_7f52c995
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_885bbb0f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_321eaeff
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_3f6bfe0c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_d9a94abe
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_687857a3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_0362e1f0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_280442f2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_01655c2d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_8f4364d4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_07a1ac16
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_db65ce06
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_96e89fc7
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_fcbe5852
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_0bb506e0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_5519c175
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_42f26c97
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_dcfb5580
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_d02a2a13
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_888c248c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_f8c71510
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_fac0bcc4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_e1f43618
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_6c24388e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_1f07f855
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_2fcbce03
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_3de8b8b2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_3df84936
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_510f2fc1
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_9e796fe4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_6485a0df
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_41058be2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_7b6d50c4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_a5dd676d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_5b7927d8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_cb5ff2b4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_181139df
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_c283a2fd
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_767ad8e7
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_206a8c6a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_19aeae20
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_fe538b17
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_a53fbdc5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_56dfd917
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_cf293c66
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_73ec4f4e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_611f5e3a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_accb08b2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_8c53a2cb
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_85ae56d5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_f0f0b2da
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_f5beaf41
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_13b3e246
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_acc21130
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_5ebc8412
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_c23f49dd
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_e61bf8ff
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_01eff625
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_42bbb03c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_d1a1b339
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_c7b8ea24
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_73f7470f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_21fe32d6
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_512b57a6
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_78834e4e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_6b699efb
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_6dbae378
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_795bd044
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_dfb943cf
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_02db3678
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_1f799de4
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_9dde7d47
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_40877ecb
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_b7e55152
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_3499600b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_32eb33da
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_5776d5a4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_a057bceb
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_69bf3e60
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_ec704899
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_8a79240f
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_26e93919
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_9842e301
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_a1d8b571
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_252aed5e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_0c4524c8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_81513357
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_9de8d58d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_9873f402
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_44e11cfa
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_b0eacca6
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_ada90fea
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_ae8eeaf9
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_db31603c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_ee7b960f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_51cba782
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_54d1ad15
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_5f6cdf22
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_55ff5441
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_e6a8ced7
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_7a5f23bb
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_e6f68b91
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_52ceda43
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_12b58262
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_9a0aa6fd
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_a5a8c79e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_d01c0401
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_c60cea03
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_5f7d9b1e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_3d51374a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_ca7f1c1e
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_ef92f912
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_8a6dc6a8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_06aac626
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_8d9cd71a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_1883eb23
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_7610ce1d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_89071303
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_c296a685
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_409753ab
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_014d63ac
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_9aee7b8e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_654a3be3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_7d341639
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_a6507909
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_1045712b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_b160e45f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_7881fb3a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_b1f85cb1
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_916c6ef6
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_0433bfd2
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_cf0bdfb5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_ab53b120
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_75f7720c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_c157e90f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_40ddd1ec
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806695_b68c52eb
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_36dc1f8e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_245e9a67
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_545ed998
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_3c117acb
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_a01f7ae3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_42a18c74
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_52b5f1c2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_585c02c3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_14bc4eb6
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_ade14f27
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_ca5dac4a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_9a4e2ce1
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_ba6c8334
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_3ccc2a51
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_53198a0f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_2e5f5b88
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_2a41ad31
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_89d607e9
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_8c6c843d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_4f7fefb6
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_ea1d0851
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_c394cb06
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_288e0880
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_8298a12f
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_b38a1932
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_853ec457
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_28d11f05
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_29823341
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_74ba201e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_405315e0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_a7ff68a7
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_7b1a4ddd
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_897194f3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_42531c85
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_f23bd393
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_b63d8133
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_e9a76a53
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_7165d5c4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_a5f74f75
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_903b5ee3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_96ff94f0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_98107bff
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_b9b2e597
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_71152406
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_41343bc4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_0f7916be
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_7b61c51e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_50fddc8a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_ef46148f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_cd5f2824
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_13ed2836
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_a84ef21f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_0f062df5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_23734f3c
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_b105b837
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_7793b612
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_910cee8f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_d50e0292
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_80a5d655
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_f6b6088a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_93fb3192
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_df60f8f0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_b2c944bd
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_34ac17f4
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_710eaac0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_bcef5936
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_e43de273
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_c42c80c1
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_0d912a37
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_db6d9e60
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_a81ddd7d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_89dfa5ba
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_b9297c5d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_cb8885d0
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_1ba8264d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_4680d4a5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_18b169bc
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_246bd635
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_f254c340
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_e1ec157b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_b11af110
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_0d1a3153
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_365f9eff
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_46b2c00c
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_3aff195b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_f8deb7a2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_206841c9
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_90991c03
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_f0019f99
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_64338a7b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_380e2744
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_4432ca87
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_cf0170c7
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_1892ac26
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_ec4a7e80
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_b3e77817
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_25269fbf
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_c4f30b48
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_b84cd875
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_393fb6f8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_64a33a3c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_80cc3c35
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_619498ef
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_cdf6fb6f
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_1e398f18
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_240f1f1a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_6cd3ae12
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_d3971598
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_18c95589
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_c637f2d4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_7babc862
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_331341ee
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_2fcf697f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_1b40ab04
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_285c251a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_4dc9ebf0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_b0e9ae69
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_84248d68
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_92aad97d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_713431f2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_770191fa
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_72036ffb
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_7876f9b1
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_3ded1f69
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_c1f54884
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_e856babe
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_290b783a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_58e953e8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_4f7c960a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_c49342e1
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_265686f1
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_53f8af23
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_038c7094
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_b2912da0
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_056211dc
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_0bef98d5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_f32857a1
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_4b5c1143
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_af6b90df
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_43ac32c6
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_5ad9a64f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_0dec9949
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_330b4d4b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_8eb87138
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_7c718882
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_2d6b0636
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_0f81dcfa
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_70920690
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_b11d0f3b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_2d7136f8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_bc590a6c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_3fd25863
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_881e1b96
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_cbbf998e
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_2b376632
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_6a0ec2c7
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_802a5efa
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_84e656df
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_78e04207
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_e5975489
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_a1db38c9
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_53f9d63f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_5f446814
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_fcfccc26
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_06db157a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_ff5bf38a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_df74d0b2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_770379b0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_da5eacf6
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_4304249a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_a7a6e9f2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_4b71ecdc
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_dc9821f4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_89138f2c
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_5b197d70
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_d67aecf5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_2e5edf6b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_9ed049ca
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_81ff60fd
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_40f2359d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_d613b8d8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_6019b053
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_6a1e1710
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_95c9c8c2
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806696_246f1c72
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_7ead4d26
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_70668cf3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_9a26cf6a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_659297c7
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_5e2b9cc0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_e26c0286
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_7302bec2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_3c89c104
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_a264e1fe
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_43f91088
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_761a9bb6
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_701ca56e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_fab6080b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_2aec943f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_95b477b5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_aaf7075f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_b9380c4f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_1dde9423
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_32a8f98a
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_79b44a1c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_d727b594
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_f5fc5e7c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_a625e339
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_4d333a21
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_abb3b7d7
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_f72b96c2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_c29ac16b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_8c1fd56d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_5cf61414
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_fa5505bc
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_324b5584
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_ed57293e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_12476fc2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_ee160d0a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_009c49ea
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_9beba8b9
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_901e6e90
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_b5761877
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_10ac7505
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_0e9180c8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_5df08624
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_93fff971
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_4a7ad3b8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_1c87383e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_8290b9f8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_fcb4b92b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_9a1d601a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_f4a34ac7
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_7170600b
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_4f9c9f45
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_8d109726
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_17069bdd
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_30fccf21
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_044824f1
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_bf448271
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_5f41f23c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_8d8b0985
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_b7113e95
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_4046d3df
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_74851fc8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_83c7631f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_58e4c2cb
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_0914eeaf
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_afe4f300
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_be3dfb01
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_767a7c77
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_bc602117
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_626b55bb
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_9fb58c9d
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_fce7bb04
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_55befd8e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_656aac68
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_715319ab
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_b7dcad84
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_42f5dd8b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_b463b292
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_648587ab
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_0798c261
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_fa80fac5
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_d0340eb2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_c6bc4439
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_533d265c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_afeededd
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_9d2de085
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_c31a23cb
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_1e700b10
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_ff267cc3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_e0f1e426
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_3479cef3
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_73ac9690
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_cb0ed31c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_912ba14f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_fe97c683
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_4d77fbaa
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_ed49451c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_11e1f70c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_9f1bcf1e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_de7ae919
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806697_b9873d6d
.sDEBUG Rule bulk_rule_0 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule bulk_rule_1 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule bulk_rule_2 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule bulk_rule_3 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule bulk_rule_4 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule bulk_rule_5 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule bulk_rule_6 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule bulk_rule_7 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule bulk_rule_8 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule bulk_rule_9 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
....DEBUG Rule nested_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.sDEBUG Rule test_full_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule terms_ack_required created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
WARNING Bad Request: /api/rules/acknowledge/
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG  Schema validation passed for checkout_context_v1
DEBUG  JSONLogic condition evaluated to: True
ERROR  Error processing rule 'terms_ack_required': 'bool' object has no attribute 'get'
DEBUG Stored execution record: exec_1769806697_7f5b05d7
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule terms_ack_required created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG  Schema validation passed for checkout_context_v1
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806698_5f9bcda3
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule delete_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule delete_test_rule updated, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule marking_deadline_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG  Schema validation passed for checkout_context_v1
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'marking_deadline_rule' condition not matched
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule checkout_rule_1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule checkout_rule_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule home_rule_1 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule pagination_rule_0 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_3 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_4 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_5 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_6 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_7 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_8 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_9 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_10 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_11 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_12 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_13 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_14 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_15 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_16 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_17 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_18 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_19 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_20 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_21 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_22 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_23 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_24 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule new_checkout_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/create/
WARNING Bad Request: /api/rules/create/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule logged_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG  Schema validation passed for checkout_context_v1
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'logged_rule' condition not matched
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule update_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule update_test_rule updated, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.sDEBUG Cache miss for rules:checkout_start
DEBUG Cached 0 rules for checkout_start
.DEBUG Cache hit for rules:checkout_start: 0 rules
....WARNING Bad Request: /api/rules/engine/calculate-vat/
.WARNING Country not found: XX
.WARNING Method Not Allowed: /api/rules/engine/calculate-vat/
.WARNING Bad Request: /api/rules/engine/calculate-vat/
.WARNING Bad Request: /api/rules/engine/calculate-vat/
................WARNING No region mapping found for country: XX
....WARNING Country not found: UNKNOWN
.......WARNING Country not found: UNKNOWN
..ssssINFO VAT calculated for GB: 20.00
.WARNING Country not found: XX
INFO VAT calculated for XX: 0.00
..INFO VAT calculated for GB: 26.00
.INFO VAT calculated for US: 0.00
.INFO VAT calculated for GB: 20.00
..EEEEEEEEEE.........................E.............................................................WARNING [SEARCH] Error getting popular products: Query error
.WARNING [SEARCH] Error getting product groups: DB error
....WARNING [SEARCH] Error getting subjects: DB error
...................DEBUG [SEARCH] unified_search query="" filters={}
.DEBUG [SEARCH] unified_search query="" filters={'categories': ['Bundle']}
.DEBUG [SEARCH] unified_search query="" filters={'categories': ['Bundle', 'SUS Mat']}
.DEBUG [SEARCH] unified_search query="" filters={}
.DEBUG [SEARCH] unified_search query="" filters={}
.DEBUG [SEARCH] unified_search query="" filters={}
.DEBUG [SEARCH] unified_search query="" filters={}
.DEBUG [SEARCH] unified_search query="" filters={}
.DEBUG [SEARCH] unified_search query="" filters={}
.DEBUG [SEARCH] unified_search query="" filters={}
.DEBUG [SEARCH] unified_search query="zzzzxxxxqqqqwwww" filters={}
.DEBUG [SEARCH] unified_search query="" filters={}
.DEBUG [SEARCH] unified_search query="x" filters={}
.DEBUG [SEARCH] unified_search query="SUS1" filters={}
.DEBUG [SEARCH] unified_search query="SUS1 mat" filters={}
.DEBUG [SEARCH] unified_search query="" filters={}
.DEBUG [SEARCH] unified_search query="" filters={}
..............................EEEEEE.....................WARNING Bad Request: /api/search/fuzzy/
.......WARNING Bad Request: /api/search/advanced-fuzzy/
.WARNING Bad Request: /api/search/advanced-fuzzy/
....ERROR [SEARCH] Advanced fuzzy search error: Search error
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/views.py", line 261, in get
    result = search_service.advanced_fuzzy_search(
        query=query,
    ...<3 lines>...
        limit=limit
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1175, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1179, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1234, in _execute_mock_call
    raise effect
Exception: Search error
ERROR Internal Server Error: /api/search/advanced-fuzzy/
.....ERROR [SEARCH] Default search data error: DB error
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/views.py", line 148, in get
    result = search_service.get_default_search_data(limit=limit)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1175, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1179, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1234, in _execute_mock_call
    raise effect
Exception: DB error
ERROR Internal Server Error: /api/search/default-data/
.....WARNING Bad Request: /api/search/fuzzy/
.WARNING Bad Request: /api/search/fuzzy/
..ERROR [SEARCH] Fuzzy search error: Search failed
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/views.py", line 195, in get
    result = search_service.fuzzy_search(query, min_score, limit)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1175, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1179, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1234, in _execute_mock_call
    raise effect
Exception: Search failed
ERROR Internal Server Error: /api/search/fuzzy/
.WARNING Bad Request: /api/search/fuzzy/
........ERROR [SEARCH] Invalid request: {'filters': [ErrorDetail(string='Invalid filter type: invalid_key. Valid types: subjects, categories, product_types, products, essp_ids, product_ids, modes_of_delivery', code='invalid')]}
WARNING Bad Request: /api/search/unified/
.ERROR [SEARCH] Invalid request: {'pagination': [ErrorDetail(string='page must be a positive integer', code='invalid')]}
WARNING Bad Request: /api/search/unified/
.ERROR [SEARCH] Invalid request: {'pagination': [ErrorDetail(string='page must be a positive integer', code='invalid')]}
WARNING Bad Request: /api/search/unified/
.ERROR [SEARCH] Invalid request: {'pagination': [ErrorDetail(string='page_size must be between 1 and 100', code='invalid')]}
WARNING Bad Request: /api/search/unified/
.ERROR [SEARCH] Invalid request: {'pagination': [ErrorDetail(string='page must be a positive integer', code='invalid')]}
WARNING Bad Request: /api/search/unified/
...ERROR [SEARCH] Unified search error: DB error
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/views.py", line 83, in post
    result = search_service.unified_search(
        search_query=search_query,
    ...<3 lines>...
        navbar_filters=navbar_filters
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1175, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1179, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1234, in _execute_mock_call
    raise effect
Exception: DB error
ERROR Internal Server Error: /api/search/unified/
.............................F..........E.E...............................E.....EEEEE..WARNING Unauthorized: /api/auth/login/
............................./Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/rest_framework/pagination.py:207: UnorderedObjectListWarning: Pagination may yield inconsistent results with an unordered object_list: <class 'students.models.Student'> QuerySet.
  paginator = self.django_paginator_class(queryset, page_size)
.An error occurred in add_student: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(dup_user) already exists.

WARNING Unauthorized: /api/students/
.EEEEEEEEEEEEEEEEEEEEEEEE..EEEEEEEEEEEEEEEEE..EEEEEE.EEEE...............................................ERROR Error creating user: Database error
ERROR Internal Server Error: /api/users/
.ERROR Error sending activation email: Email service unavailable
.ERROR Error fetching user profile: 'UserProfile' instance needs to have a primary key value before this relationship can be used.
ERROR Internal Server Error: /api/users/profile/
.ERROR Error updating user profile: Database transaction failed
ERROR Internal Server Error: /api/users/update_profile/
..WARNING Unauthorized: /api/users/profile/
....WARNING Bad Request: /api/users/update_profile/
..WARNING Unauthorized: /api/users/update_profile/
.ERROR Error fetching user profile: 'UserProfileAddress' object has no attribute 'building'
ERROR Internal Server Error: /api/users/profile/
.EERROR Error fetching user profile: 'UserProfileAddress' object has no attribute 'building'
ERROR Internal Server Error: /api/users/profile/
..ERROR Error sending email verification: SMTP connection failed
.ERROR Failed to send email verification to newemail@example.com
....WARNING Bad Request: /api/users/
.WARNING Failed to send account activation email to emailfail@example.com
.WARNING Bad Request: /api/users/
..WARNING No template configuration found for account_activation, using defaults
ERROR Failed to queue email: null value in column "reply_to_email" of relation "utils_email_queue" violates not-null constraint
DETAIL:  Failing row contains (440, c8877e62-9f4a-4cb6-98de-8c624b1dc2e8, ["anonymous@example.com"], [], [], eugene.lo1030@gmail.com, null, Activate Your ActEd Account, {"user": {"id": 5147, "email": "anonymous@example.com", "usernam..., , , high, pending, 2026-01-30 20:59:07.753976+00, 2026-01-30 20:59:07.754022+00, null, 0, 3, null, null, null, , {}, 2026-01-30 20:59:07.75416+00, 2026-01-30 20:59:07.754163+00, [], 5147, null).

ERROR Failed to queue email: Failed to queue email: null value in column "reply_to_email" of relation "utils_email_queue" violates not-null constraint
DETAIL:  Failing row contains (440, c8877e62-9f4a-4cb6-98de-8c624b1dc2e8, ["anonymous@example.com"], [], [], eugene.lo1030@gmail.com, null, Activate Your ActEd Account, {"user": {"id": 5147, "email": "anonymous@example.com", "usernam..., , , high, pending, 2026-01-30 20:59:07.753976+00, 2026-01-30 20:59:07.754022+00, null, 0, 3, null, null, null, , {}, 2026-01-30 20:59:07.75416+00, 2026-01-30 20:59:07.754163+00, [], 5147, null).

WARNING Failed to get placeholders for template account_activation: EmailTemplate matching query does not exist.
ERROR	MediaQuery: No match: ('IDENT', 'mso', 240, 10)
ERROR MediaQuery: No match: ('IDENT', 'mso', 240, 10)
ERROR	MediaQuery: No match for None in Choice(Sequence(ONLY|NOT, media_type, Sequence(AND, Sequence(expression, media_feature, Sequence(colon, Choice(ColorValue, Dimension, Value)), expression END))), Sequence(Sequence(expression, media_feature, Sequence(colon, Choice(ColorValue, Dimension, Value)), expression END), Sequence(AND, Sequence(expression, media_feature, Sequence(colon, Choice(ColorValue, Dimension, Value)), expression END))))
ERROR MediaQuery: No match for None in Choice(Sequence(ONLY|NOT, media_type, Sequence(AND, Sequence(expression, media_feature, Sequence(colon, Choice(ColorValue, Dimension, Value)), expression END))), Sequence(Sequence(expression, media_feature, Sequence(colon, Choice(ColorValue, Dimension, Value)), expression END), Sequence(AND, Sequence(expression, media_feature, Sequence(colon, Choice(ColorValue, Dimension, Value)), expression END))))
ERROR	No content to parse.
ERROR No content to parse.
ERROR	MediaQuery: No content.
ERROR MediaQuery: No content.
INFO Email BCC monitoring enabled. BCC recipients: ['eugene.lo1030@gmail.com', 'eugenelo@bpp.com']
....WARNING Unauthorized: /api/users/5151/
.WARNING Unauthorized: /api/users/
./Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/rest_framework/pagination.py:207: UnorderedObjectListWarning: Pagination may yield inconsistent results with an unordered object_list: <class 'django.contrib.auth.models.User'> QuerySet.
  paginator = self.django_paginator_class(queryset, page_size)
.WARNING Unauthorized: /api/users/5154/
.WARNING Unauthorized: /api/users/5155/
.ssssssssINFO Cached addresses for postcode SW1A1AA (expires: 2026-02-13)
.ERROR Error caching addresses for postcode SW1A1AA: Database error
.INFO Cached addresses for postcode SW1A1AA (expires: 2026-02-06)
.INFO Cached addresses for postcode SW1A1AA (expires: 2026-02-06)
.INFO Cached addresses for postcode SW1A1AA (expires: 2026-02-06)
.INFO Cached addresses for postcode SW1A1AA (expires: 2026-02-06)
.INFO Cached addresses for postcode SW1A1AA (expires: 2026-02-06)
.INFO Cache MISS for postcode SW1A1AA
INFO Cached addresses for postcode SW1A1AA (expires: 2026-02-06)
INFO Cache HIT for postcode SW1A1AA (hits: 2)
INFO Cache MISS for postcode SW1A1AA
..INFO Cleaned up 2 expired cache entries
.INFO Cleaned up 0 expired cache entries
.ERROR Error cleaning up expired cache: Database error
.INFO Cleaned up 0 expired cache entries
..ERROR Error getting cache stats: Database error
..INFO Cache MISS for postcode SW1A1AA
.ERROR Error retrieving from cache for postcode SW1A1AA: Database error
.INFO Cache HIT for postcode SW1A1AA (hits: 2)
.INFO Cache HIT for postcode SW1A1AA (hits: 2)
.INFO Cache MISS for postcode SW1A1AA
.INFO Cache HIT for postcode SW1A1AA (hits: 2)
INFO Cache HIT for postcode SW1A1AA (hits: 3)
INFO Cache HIT for postcode SW1A1AA (hits: 4)
.INFO Cache HIT for postcode SW1A1AA (hits: 2)
.INFO Invalidated 1 cache entries for postcode SW1A1AA
.INFO Invalidated 3 cache entries for postcode SW1A1AA
.ERROR Error invalidating cache for postcode SW1A1AA: Database error
.INFO Invalidated 0 cache entries for postcode NONEXISTENT
.ERROR Error checking cache validity for postcode SW1A1AA: Database error
....INFO Cached addresses for postcode SW1A1AA (expires: 2026-02-06)
INFO Cached addresses for postcode OX449EL (expires: 2026-02-06)
INFO Cached addresses for postcode M13NQ (expires: 2026-02-06)
INFO Cache HIT for postcode SW1A1AA (hits: 2)
INFO Cache HIT for postcode OX449EL (hits: 2)
INFO Cache HIT for postcode M13NQ (hits: 2)
.INFO [POSTCODER] SUCCESS (API) SW1A1AA: 5 addresses in 300ms
INFO [POSTCODER] SUCCESS (cached) SW1A1AA: 5 addresses in 50ms
INFO [POSTCODER] FAILED (API) INVALID: 0 addresses in 5000ms
.......ERROR Error getting lookup stats: Database error
..INFO [POSTCODER] FAILED (API) SW1A1AA: 0 addresses in 5000ms
.INFO [POSTCODER] FAILED (API) SW1A1AA: 0 addresses in 5000ms
.INFO [POSTCODER] FAILED (API) SW1A1AA: 0 addresses in 5000ms
.INFO [POSTCODER] FAILED (API) SW1A1AA: 0 addresses in 5000ms
.INFO [POSTCODER] SUCCESS (cached) SW1A1AA: 3 addresses in 50ms
.INFO [POSTCODER] SUCCESS (API) SW1A1AA: 3 addresses in 300ms
.INFO [GETADDRESS] SUCCESS (API) SW1A1AA: 5 addresses in 250ms
.INFO [POSTCODER] SUCCESS (API) SW1A1AA: 5 addresses in 250ms
.INFO [POSTCODER] SUCCESS (API) SW1A1AA: 5 addresses in 250ms
.ERROR Failed to log address lookup for SW1A1AA: Database error
..INFO [POSTCODER] SUCCESS (API) SW1A1AA: 5 addresses in 250ms
.INFO [POSTCODER] FAILED (API) SW1A1AA: 0 addresses in 5000ms
.INFO [POSTCODER] SUCCESS (cached) SW1A1AA: 3 addresses in 100ms
.INFO [POSTCODER] SUCCESS (API) SW1A1AA: 5 addresses in 250ms
.INFO [POSTCODER] SUCCESS (API) SW1A1AA: 5 addresses in 250ms
.INFO [POSTCODER] SUCCESS (API) POST1: 5 addresses in 250ms
INFO [GETADDRESS] SUCCESS (API) GET1: 4 addresses in 350ms
.INFO Calling Postcoder API for GB postcode: SW1A1AA
ERROR Postcoder API request failed for GB postcode SW1A1AA: API error
ERROR Lookup failed: API error
.INFO Calling Postcoder API for GB postcode: OX449EL
INFO Successfully retrieved 1 addresses for GB
WARNING Country code GB not found in UtilsCountrys, using code as fallback
.INFO Calling Postcoder API for GB postcode: SW1A1AA
INFO Successfully retrieved 1 addresses for GB
WARNING Country code GB not found in UtilsCountrys, using code as fallback
.INFO Calling Postcoder API for GB postcode: SW1A1AA
ERROR Postcoder API HTTP error for GB postcode SW1A1AA: 
.INFO Calling Postcoder API for GB postcode: SW1A1AA
ERROR Postcoder API error for GB: Invalid API key
ERROR Postcoder API request failed for GB postcode SW1A1AA: Postcoder API error: Invalid API key
.INFO Calling Postcoder API for GB postcode: SW1A1AA
INFO Successfully retrieved 0 addresses for GB
..INFO Calling Postcoder API for GB postcode: SW1A1AA
ERROR Postcoder API HTTP error for GB postcode SW1A1AA: 
.WARNING POSTCODER_API_KEY not configured
..INFO Calling Postcoder API for GB postcode: SW1A1AA
INFO Successfully retrieved 1 addresses for GB
.INFO Calling Postcoder API for GB postcode: SW1A1AA
ERROR Postcoder API timeout for GB postcode SW1A1AA: Request timed out
.INFO Retrieving full address details for ID: invalid_id
ERROR Postcoder Retrieve API error for GB: Invalid ID
ERROR âŒ Postcoder Retrieve API error for ID invalid_id: Postcoder API error: Invalid ID
..INFO Retrieving full address details for ID: test_id
INFO âœ… Retrieved address data: {'id': 'test_id', 'postcode': '12345', 'street': 'Main Street', 'posttown': 'New York'}
INFO âœ… Successfully retrieved full address for ID: test_id
.WARNING POSTCODER_API_KEY not configured
..INFO Retrieving full address details for ID: test_id_123
INFO âœ… Retrieved address data: {'id': 'test_id_123', 'postcode': 'SW1A1AA', 'summaryline': '10 Downing Street, Westminster, London', 'organisation': '', 'buildingname': '', 'number': '10', 'premise': '10', 'street': 'Downing Street', 'dependentlocality': 'Westminster', 'posttown': 'LONDON', 'county': 'Greater London', 'latitude': 51.503396, 'longitude': -0.127784}
INFO âœ… Successfully retrieved full address for ID: test_id_123
.INFO Retrieving full address details for ID: test_id
ERROR âŒ Postcoder Retrieve API timeout for ID test_id
....WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
ERROR Error transforming address item: 'NoneType' object has no attribute 'get'
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
WARNING Postcoder response is not a list (type=<class 'dict'>), returning empty addresses
WARNING Country code GB not found in UtilsCountrys, using code as fallback
WARNING Postcoder response is not a list (type=<class 'NoneType'>), returning empty addresses
WARNING Country code GB not found in UtilsCountrys, using code as fallback
WARNING Postcoder response is not a list (type=<class 'str'>), returning empty addresses
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
........................................................................................................................................................ssssssssssss..............sINFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO [POSTCODER] FAILED (API) SW1A1AA: 0 addresses in 0ms
.ssssssssINFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 2 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 2 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 2 addresses in 109ms
..sssINFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 169ms
.
  [OK] Cache miss response time: 177.83ms (target: <500ms)
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO Calling Postcoder Autocomplete Find API for GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO Calling Postcoder Autocomplete Find API for GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO Calling Postcoder Autocomplete Find API for GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 51ms
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 61ms
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 70ms
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 81ms
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 87ms
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 94ms
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 96ms
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 102ms
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 105ms
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 108ms
..
  [OK] Concurrent requests performance:
    - Average: 91.49ms
    - Min: 59.30ms
    - Max: 111.97ms
    - Requests: 10

  âœ“ Database query performance:
    - Query time: 1.93ms
    - Queries executed: 1
    - Total cache entries: 101
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='EC1A1BB', postcode='EC1A1BB', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) EC1A1BB: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='OX449EL', postcode='OX449EL', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) OX449EL: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='M13NQ', postcode='M13NQ', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) M13NQ: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='G28DN', postcode='G28DN', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) G28DN: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='EH11YZ', postcode='EH11YZ', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) EH11YZ: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='CF101AA', postcode='CF101AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) CF101AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='BT11AA', postcode='BT11AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) BT11AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='AB101AA', postcode='AB101AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) AB101AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='PL11AA', postcode='PL11AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) PL11AA: 1 addresses in 0ms
.
  âœ“ Different postcode performance:
    - Average: 0.84ms
    - Min: 0.77ms
    - Max: 1.12ms
    - Postcodes tested: 10
INFO ðŸ” Address lookup request: query='SW00AA', postcode='SW00AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW00AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW01AA', postcode='SW01AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW01AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW02AA', postcode='SW02AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW02AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW03AA', postcode='SW03AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW03AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW04AA', postcode='SW04AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW04AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW05AA', postcode='SW05AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW05AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW06AA', postcode='SW06AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW06AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW07AA', postcode='SW07AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW07AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW08AA', postcode='SW08AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW08AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW09AA', postcode='SW09AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW09AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW10AA', postcode='SW10AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW10AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW11AA', postcode='SW11AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW11AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW12AA', postcode='SW12AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW12AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW13AA', postcode='SW13AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW13AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW14AA', postcode='SW14AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW14AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW15AA', postcode='SW15AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW15AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW16AA', postcode='SW16AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW16AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW17AA', postcode='SW17AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW17AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW18AA', postcode='SW18AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW18AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW19AA', postcode='SW19AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW19AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW20AA', postcode='SW20AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW20AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW21AA', postcode='SW21AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW21AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW22AA', postcode='SW22AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW22AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW23AA', postcode='SW23AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW23AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW24AA', postcode='SW24AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW24AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW25AA', postcode='SW25AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW25AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW26AA', postcode='SW26AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW26AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW27AA', postcode='SW27AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW27AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW28AA', postcode='SW28AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW28AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW29AA', postcode='SW29AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW29AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW30AA', postcode='SW30AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW30AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW31AA', postcode='SW31AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW31AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW32AA', postcode='SW32AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW32AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW33AA', postcode='SW33AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW33AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW34AA', postcode='SW34AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW34AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW35AA', postcode='SW35AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW35AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW36AA', postcode='SW36AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW36AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW37AA', postcode='SW37AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW37AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW38AA', postcode='SW38AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW38AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW39AA', postcode='SW39AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW39AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW40AA', postcode='SW40AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW40AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW41AA', postcode='SW41AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW41AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW42AA', postcode='SW42AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW42AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW43AA', postcode='SW43AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW43AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW44AA', postcode='SW44AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW44AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW45AA', postcode='SW45AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW45AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW46AA', postcode='SW46AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW46AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW47AA', postcode='SW47AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW47AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW48AA', postcode='SW48AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW48AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW49AA', postcode='SW49AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW49AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW50AA', postcode='SW50AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW50AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW51AA', postcode='SW51AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW51AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW52AA', postcode='SW52AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW52AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW53AA', postcode='SW53AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW53AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW54AA', postcode='SW54AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW54AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW55AA', postcode='SW55AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW55AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW56AA', postcode='SW56AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW56AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW57AA', postcode='SW57AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW57AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW58AA', postcode='SW58AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW58AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW59AA', postcode='SW59AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW59AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW60AA', postcode='SW60AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW60AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW61AA', postcode='SW61AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW61AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW62AA', postcode='SW62AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW62AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW63AA', postcode='SW63AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW63AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW64AA', postcode='SW64AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW64AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW65AA', postcode='SW65AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW65AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW66AA', postcode='SW66AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW66AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW67AA', postcode='SW67AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW67AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW68AA', postcode='SW68AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW68AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW69AA', postcode='SW69AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW69AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW70AA', postcode='SW70AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW70AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW71AA', postcode='SW71AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW71AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW72AA', postcode='SW72AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW72AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW73AA', postcode='SW73AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW73AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW74AA', postcode='SW74AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW74AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW75AA', postcode='SW75AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW75AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW76AA', postcode='SW76AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW76AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW77AA', postcode='SW77AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW77AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW78AA', postcode='SW78AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW78AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW79AA', postcode='SW79AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW79AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW80AA', postcode='SW80AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW80AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW81AA', postcode='SW81AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW81AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW82AA', postcode='SW82AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW82AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW83AA', postcode='SW83AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW83AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW84AA', postcode='SW84AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW84AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW85AA', postcode='SW85AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW85AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW86AA', postcode='SW86AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW86AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW87AA', postcode='SW87AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW87AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW88AA', postcode='SW88AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW88AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW89AA', postcode='SW89AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW89AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW90AA', postcode='SW90AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW90AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW91AA', postcode='SW91AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW91AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW92AA', postcode='SW92AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW92AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW93AA', postcode='SW93AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW93AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW94AA', postcode='SW94AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW94AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW95AA', postcode='SW95AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW95AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW96AA', postcode='SW96AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW96AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW97AA', postcode='SW97AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW97AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW98AA', postcode='SW98AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW98AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW99AA', postcode='SW99AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW99AA: 1 addresses in 2ms
.
  âœ“ Memory leak test:
    - Baseline: 0.00MB
    - Final: 0.72MB
    - Growth: 0.72MB
    - Requests: 100
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 4ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
.
  âœ“ Sequential request consistency:
    - Average: 1.26ms
    - Std Dev: 0.87ms
    - Variation: 68.85%
    - Requests: 20
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 1ms
.sss
[OK] Analytics log created with correct metadata
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 1ms
.
[OK] Cache miss response time: 2.05ms (target: <500ms)
INFO ðŸ” Address lookup request: query='TEST01', postcode='TEST01', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) TEST01: 1 addresses in 59ms
INFO ðŸ” Address lookup request: query='TEST01', postcode='TEST01', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) TEST01: 1 addresses in 62ms
.
============================================================
PERFORMANCE TEST SUMMARY
============================================================
Cache Miss (API Call):  61.31ms
Cache Hit (Database):   63.31ms
Performance Gain:       0.97x faster
============================================================

[OK] All performance targets met

INFO Calling Postcoder Autocomplete Find API for GB
ERROR Postcoder Autocomplete API error for GB: UTL bad request
ERROR âŒ Postcoder Autocomplete API error for GB: Postcoder API error: UTL bad request
.INFO Calling Postcoder Autocomplete Find API for GB
ERROR âŒ Postcoder Autocomplete API error for GB: UTL connection error
.INFO Calling Postcoder Autocomplete Find API for GB
ERROR âŒ Postcoder Autocomplete API timeout for GB
.INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 0 address suggestions for GB
..WARNING POSTCODER_API_KEY not configured
.INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
..INFO Calling Postcoder API for U5 postcode: UTLERR
ERROR Postcoder API request failed for U5 postcode UTLERR: UTL execute error
ERROR Lookup failed: UTL execute error
.INFO Calling Postcoder API for U5 postcode: UTL11AA
INFO Successfully retrieved 1 addresses for U5
.INFO Calling Postcoder API for U5 postcode: UTLTMO
ERROR Postcoder API timeout for U5 postcode UTLTMO: UTL execute timeout
ERROR Lookup failed: Postcoder API request timed out: UTL execute timeout
..INFO Calling Postcoder API for GB postcode: UTLBAD
ERROR Postcoder API error for GB: UTL invalid postcode
ERROR Postcoder API request failed for GB postcode UTLBAD: Postcoder API error: UTL invalid postcode
.INFO Calling Postcoder API for GB postcode: UTLNONE
ERROR Postcoder API HTTP error for GB postcode UTLNONE: 
.INFO Calling Postcoder API for GB postcode: UTLERR
ERROR Postcoder API HTTP error for GB postcode UTLERR: 
.INFO Calling Postcoder API for GB postcode: UTL456
ERROR Postcoder API request failed for GB postcode UTL456: UTL lookup conn error
.INFO Calling Postcoder API for GB postcode: UTL123
ERROR Postcoder API timeout for GB postcode UTL123: UTL lookup timeout
.WARNING POSTCODER_API_KEY not configured
..INFO Calling Postcoder API for GB postcode: SW1A1AA
INFO Successfully retrieved 1 addresses for GB
.....WARNING POSTCODER_API_KEY not configured
.INFO Retrieving full address details for ID: UTL_BAD_ID
ERROR Postcoder Retrieve API error for GB: UTL invalid ID
ERROR âŒ Postcoder Retrieve API error for ID UTL_BAD_ID: Postcoder API error: UTL invalid ID
.INFO Retrieving full address details for ID: UTL_ID3
ERROR âŒ Postcoder Retrieve API error for ID UTL_ID3: UTL connection failed
.INFO Retrieving full address details for ID: UTL_ID2
ERROR âŒ Postcoder Retrieve API timeout for ID UTL_ID2
.INFO Retrieving full address details for ID: UTL_ID1
INFO âœ… Retrieved address data: [{'postcode': 'SW1A1AA', 'number': '10', 'street': 'Downing Street'}]
INFO âœ… Successfully retrieved full address for ID: UTL_ID1
...........ERROR Error transforming address item: 'str' object has no attribute 'get'
.WARNING Postcoder response is not a list (type=<class 'dict'>), returning empty addresses
.WARNING Postcoder response is not a list (type=<class 'NoneType'>), returning empty addresses
..WARNING Country code ZZ not found in UtilsCountrys, using code as fallback
.INFO ðŸ” Address retrieve request: id='invalid', country=GB
ERROR âŒ Validation error: Invalid ID
...INFO ðŸ” Address retrieve request: id='test_id_123', country=US
INFO âœ… Successfully retrieved address for ID: test_id_123
.INFO ðŸ” Address retrieve request: id='test_id_123', country=GB
INFO âœ… Successfully retrieved address for ID: test_id_123
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=US
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
..INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
WARNING âš ï¸ Failed to log address lookup: Logging failed
..INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
..INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='10 Downing Street', postcode='', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
..INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
............WARNING reCAPTCHA verification failed. Error codes: ['invalid-input-response']
.ERROR Network error during reCAPTCHA verification: 403 Forbidden
..ERROR Invalid JSON response from reCAPTCHA verification: No JSON
.ERROR Network error during reCAPTCHA verification: Connection refused
..ERROR RECAPTCHA_SECRET_KEY not configured in settings
...ERROR Unexpected error during reCAPTCHA verification: Something unexpected
..WARNING reCAPTCHA action 'register' does not match expected 'login'
.WARNING reCAPTCHA score 0.2 below threshold 0.5
.....WARNING Bad Request: /api/utils/address-lookup/
.INFO ðŸ” Address lookup request: query='10 Downing Street', postcode='', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) 10 Downing: 1 addresses in 2ms
.WARNING Bad Request: /api/utils/address-retrieve/
.INFO ðŸ” Address retrieve request: id='ABC123', country=GB
INFO âœ… Successfully retrieved address for ID: ABC123
.....https://api.getAddress.io/v2/private-address?api-key=-A-yR_lwoE2LJiIoDzrf_Q46686
INFO ðŸ” Address lookup request: query='Test Address', postcode='', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) Test Addre: 1 addresses in 2ms
.INFO ðŸ” Address retrieve request: id='UTL_ERR', country=GB
ERROR âŒ API error: API down
ERROR Internal Server Error: /api/utils/address-retrieve/
.WARNING Bad Request: /api/utils/address-retrieve/
.INFO ðŸ” Address retrieve request: id='UTL_OK', country=GB
INFO âœ… Successfully retrieved address for ID: UTL_OK
.INFO ðŸ” Address retrieve request: id='UTL_TIMEOUT', country=GB
ERROR âŒ API timeout: Timed out
ERROR Internal Server Error: /api/utils/address-retrieve/
.INFO ðŸ” Address retrieve request: id='UTL_BAD', country=GB
ERROR âŒ Validation error: Invalid ID
ERROR Internal Server Error: /api/utils/address-retrieve/
..INFO ðŸ” Address lookup request: query='UTL error query', postcode='', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
ERROR Internal Server Error: /api/utils/address-lookup/
.INFO ðŸ” Address lookup request: query='UTL log test', postcode='', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO âœ… Transformed 1 autocomplete suggestions
WARNING âš ï¸ Failed to log address lookup: DB log failure
.WARNING Bad Request: /api/utils/address-lookup/
.WARNING Bad Request: /api/utils/address-lookup/
.INFO ðŸ” Address lookup request: query='SW1A 1AA', postcode='SW1A 1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO âœ… Transformed 0 autocomplete suggestions
.WARNING Bad Request: /api/utils/address-lookup/
.INFO ðŸ” Address lookup request: query='UTL test', postcode='', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO âœ… Transformed 1 autocomplete suggestions
.INFO ðŸ” Address lookup request: query='UTL timeout query', postcode='', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
ERROR Internal Server Error: /api/utils/address-lookup/
.INFO ðŸ” Address lookup request: query='UTL test query', postcode='', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
ERROR Internal Server Error: /api/utils/address-lookup/
..INFO âœ… Transformed 0 autocomplete suggestions
.INFO âœ… Transformed 2 autocomplete suggestions
.INFO âœ… Transformed 0 autocomplete suggestions
.INFO âœ… Transformed 1 autocomplete suggestions
.WARNING Country code ZZ not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
.sWARNING Unauthorized: /api/auth/login/
/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/core/cache/backends/base.py:119: CacheKeyWarning: Cache key contains characters that will cause errors if used with memcached: ':1:filter_options_Product Types'
  warnings.warn(warning, CacheKeyWarning)
WARNING Not Found: /api/products/product-group-filters/
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
DEBUG Cache miss for rules:home_page_mount
DEBUG Cached 1 rules for home_page_mount
DEBUG No schema validation - context keys: ['request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769806766_bf2fdfc5
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
WARNING No template configuration found for account_activation, using defaults
ERROR Failed to queue email: null value in column "reply_to_email" of relation "utils_email_queue" violates not-null constraint
DETAIL:  Failing row contains (441, 271d0986-b669-459c-bb63-94f80c602bf1, ["newuser@example.com"], [], [], eugene.lo1030@gmail.com, null, Activate Your ActEd Account, {"user": {"id": null, "email": "", "username": "", "is_active": ..., , , high, pending, 2026-01-30 20:59:28.218949+00, 2026-01-30 20:59:28.219016+00, null, 0, 3, null, null, null, , {}, 2026-01-30 20:59:28.219191+00, 2026-01-30 20:59:28.219194+00, [], 5181, null).

ERROR Failed to queue email: Failed to queue email: null value in column "reply_to_email" of relation "utils_email_queue" violates not-null constraint
DETAIL:  Failing row contains (441, 271d0986-b669-459c-bb63-94f80c602bf1, ["newuser@example.com"], [], [], eugene.lo1030@gmail.com, null, Activate Your ActEd Account, {"user": {"id": null, "email": "", "username": "", "is_active": ..., , , high, pending, 2026-01-30 20:59:28.218949+00, 2026-01-30 20:59:28.219016+00, null, 0, 3, null, null, null, , {}, 2026-01-30 20:59:28.219191+00, 2026-01-30 20:59:28.219194+00, [], 5181, null).

WARNING Failed to get placeholders for template account_activation: EmailTemplate matching query does not exist.
INFO Email BCC monitoring enabled. BCC recipients: ['eugene.lo1030@gmail.com', 'eugenelo@bpp.com']
WARNING Creating token for inactive user: 5181. If this is not intentional, consider checking the user's status before calling the `for_user` method.

Verifying a pact between [1mAdmin3Frontend[0m and [1mAdmin3Backend[0m

  a fuzzy search request for CM2 (5ms loading, 348ms verification)
     Given searchable products exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a fuzzy search request with no matches (5ms loading, 308ms verification)
     Given searchable products exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a login request with wrong password (5ms loading, 904ms verification)
     Given a registered user exists
    returns a response which
      has status code [1m401[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a logout request (5ms loading, 258ms verification)
     Given an authenticated user
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for acted rules (5ms loading, 292ms verification)
     Given acted rules exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for all tutorial products (5ms loading, 301ms verification)
     Given tutorial products exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for available store products (5ms loading, 310ms verification)
     Given store products exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for bundles (5ms loading, 316ms verification)
     Given exam session bundles exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for catalog exam sessions (5ms loading, 295ms verification)
     Given catalog exam sessions exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for catalog products (5ms loading, 305ms verification)
     Given catalog products exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for catalog subjects (5ms loading, 295ms verification)
     Given catalog subjects exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for default search data (5ms loading, 322ms verification)
     Given products exist for default search
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for filter configuration (5ms loading, 328ms verification)
     Given filter configuration exists
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for navigation data (5ms loading, 305ms verification)
     Given catalog data exists
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for product group filters (5ms loading, 258ms verification)
     Given product groups exist
    returns a response which
      has status code [1m200[0m ([31mFAILED[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([31mFAILED[0m)
      has a matching body ([31mFAILED[0m)

  a request for tutorial events list (5ms loading, 297ms verification)
     Given tutorial events exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request to calculate VAT (5ms loading, 293ms verification)
     Given VAT configuration exists
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request to clear the cart (5ms loading, 313ms verification)
     Given an authenticated user with empty cart
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request to execute rules for home_page_mount (5ms loading, 294ms verification)
     Given rules for home_page_mount exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request to fetch an empty cart (5ms loading, 301ms verification)
     Given an authenticated user with empty cart
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a valid login request (5ms loading, 601ms verification)
     Given a registered user exists
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a valid registration request (5ms loading, 625ms verification)
     Given no user with email newuser@example.com exists
    returns a response which
      has status code [1m201[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  an advanced search request with subject filter (5ms loading, 307ms verification)
     Given searchable products exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)


Failures:

1) Verifying a pact between Admin3Frontend and Admin3Backend Given product groups exist - a request for product group filters
    1.1) has a matching body
           expected a body of '[31mapplication/json[0m' but the actual content type was '[32mtext/html;charset=utf-8[0m'
    1.2) has status code 200
           expected [31m200[0m but was [32m404[0m
    1.3) includes header 'Content-Type' with value 'application/json'
           Expected header '[1mContent-Type[0m' to have value '[31mapplication/json[0m' but was '[32mtext/html; charset=utf-8[0m'

There were 1 pact failures

E..........................................................................................................Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/management/commands/export_to_dbf.py", line 131, in handle
    data, field_definitions = self.get_model_data(options)
                              ~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/management/commands/export_to_dbf.py", line 149, in get_model_data
    model = apps.get_model(app_label, model_name)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1175, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1179, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1234, in _execute_mock_call
    raise effect
Exception: DB error
.......................An error occurred in add_student: Database threaded connections to 'default' are not allowed in SimpleTestCase subclasses. Either subclass TestCase or TransactionTestCase to ensure proper test isolation or add 'default' to students.tests.test_coverage.TestAddStudentUtil.databases to silence this failure.
An error occurred in add_student: Database threaded connections to 'default' are not allowed in SimpleTestCase subclasses. Either subclass TestCase or TransactionTestCase to ensure proper test isolation or add 'default' to students.tests.test_coverage.TestAddStudentUtil.databases to silence this failure.
WARNING Failed to get country from IP 203.0.113.1: network error
....WARNING IP geolocation failed for 203.0.113.1: reserved range
.DEBUG Localhost IP detected: , defaulting to UK
DEBUG Localhost IP detected: None, defaulting to UK
.DEBUG Localhost IP detected: 127.0.0.1, defaulting to UK
.DEBUG Localhost IP detected: ::1, defaulting to UK
.DEBUG Localhost IP detected: localhost, defaulting to UK
..WARNING IP geolocation request failed for 203.0.113.1: conn error
..WARNING IP geolocation timeout for 203.0.113.1
.ERROR Unexpected error in IP geolocation for 203.0.113.1: unexpected
........WARNING Converting non-serializable context item 'model': <class 'utils.tests.test_queue_service.TestCleanContextForSerialization.test_clean_django_model_instance.<locals>.FakeModel'>
.WARNING Converting non-serializable context item 'value': <class 'set'>
.WARNING Converting non-serializable context item 'items': <class 'list'>
..WARNING Converting non-serializable context item 'obj': <class 'utils.tests.test_queue_service.TestCleanContextForSerialization.test_clean_object_with_dict.<locals>.SimpleObj'>
.........ERROR Failed to process queue item test-123: boom
.ERROR Queue item <MagicMock name='mock.queue_id' id='4707818464'> failed after max attempts
..WARNING Some emails failed, scheduled retry for <MagicMock name='mock.queue_id' id='4707822496'>
..WARNING Some emails failed, scheduled retry for <MagicMock name='mock.queue_id' id='4702882512'>
.WARNING No template configuration found for missing_template, using defaults
..WARNING No template configuration found for test, using defaults
.ERROR Exception sending email to test@example.com: SMTP error
.ERROR Failed to send email to test@example.com: Send failed
.ERROR Failed to send email to test@example.com: DB error
.......WARNING Failed to evaluate attachment condition for test.pdf: 'NoneType' object has no attribute 'get'
...........
======================================================================
ERROR: test_add_item_creates_cart_item (cart.tests.test_cart_service.CartServiceTest.test_add_item_creates_cart_item)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_add_item_product_not_found (cart.tests.test_cart_service.CartServiceTest.test_add_item_product_not_found)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_clear (cart.tests.test_cart_service.CartServiceTest.test_clear)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_or_create_authenticated (cart.tests.test_cart_service.CartServiceTest.test_get_or_create_authenticated)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_merge_guest_cart (cart.tests.test_cart_service.CartServiceTest.test_merge_guest_cart)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_merge_guest_cart_no_guest (cart.tests.test_cart_service.CartServiceTest.test_merge_guest_cart_no_guest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_remove_item (cart.tests.test_cart_service.CartServiceTest.test_remove_item)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_update_cart_flags (cart.tests.test_cart_service.CartServiceTest.test_update_cart_flags)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_update_cart_flags_empty_cart (cart.tests.test_cart_service.CartServiceTest.test_update_cart_flags_empty_cart)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_update_item (cart.tests.test_cart_service.CartServiceTest.test_update_item)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_update_item_not_found (cart.tests.test_cart_service.CartServiceTest.test_update_item_not_found)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_calculate_vat_calls_rule_engine_with_correct_context (cart.tests.test_cart_service_vat.CartServiceVATTest.test_calculate_vat_calls_rule_engine_with_correct_context)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_calculate_vat_multiple_items (cart.tests.test_cart_service_vat.CartServiceVATTest.test_calculate_vat_multiple_items)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_calculate_vat_row_customer (cart.tests.test_cart_service_vat.CartServiceVATTest.test_calculate_vat_row_customer)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_calculate_vat_stores_result_on_cart (cart.tests.test_cart_service_vat.CartServiceVATTest.test_calculate_vat_stores_result_on_cart)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_calculate_vat_uk_customer (cart.tests.test_cart_service_vat.CartServiceVATTest.test_calculate_vat_uk_customer)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_calculate_vat_updates_cart_item_fields (cart.tests.test_cart_service_vat.CartServiceVATTest.test_calculate_vat_updates_cart_item_fields)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_item_product_code_no_product (cart.tests.test_cart_service_vat.CartServiceVATTest.test_get_item_product_code_no_product)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_item_product_type_default (cart.tests.test_cart_service_vat.CartServiceVATTest.test_get_item_product_type_default)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_item_product_type_fee (cart.tests.test_cart_service_vat.CartServiceVATTest.test_get_item_product_type_fee)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_item_product_type_from_metadata (cart.tests.test_cart_service_vat.CartServiceVATTest.test_get_item_product_type_from_metadata)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_resolve_user_context_anonymous (cart.tests.test_cart_service_vat.CartServiceVATTest.test_resolve_user_context_anonymous)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_resolve_user_context_authenticated (cart.tests.test_cart_service_vat.CartServiceVATTest.test_resolve_user_context_authenticated)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_trigger_vat_calculation_error_handling (cart.tests.test_cart_service_vat.CartServiceVATTest.test_trigger_vat_calculation_error_handling)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_user_context_profile_no_addresses (cart.tests.test_coverage_gaps.CartSerializerUserContextAddressTest.test_user_context_profile_no_addresses)
get_user_context handles missing addresses (lines 194-195, 204-205).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "acted_user_profile_user_id_key"
DETAIL:  Key (user_id)=(4133) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_coverage_gaps.py", line 1469, in test_user_context_profile_no_addresses
    UserProfile.objects.create(user=self.user)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "acted_user_profile_user_id_key"
DETAIL:  Key (user_id)=(4133) already exists.


======================================================================
ERROR: test_user_context_with_home_and_work_address (cart.tests.test_coverage_gaps.CartSerializerUserContextAddressTest.test_user_context_with_home_and_work_address)
get_user_context includes home_country and work_country (lines 193, 203).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "acted_user_profile_user_id_key"
DETAIL:  Key (user_id)=(4134) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_coverage_gaps.py", line 1443, in test_user_context_with_home_and_work_address
    profile = UserProfile.objects.create(user=self.user)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "acted_user_profile_user_id_key"
DETAIL:  Key (user_id)=(4134) already exists.


======================================================================
ERROR: test_resolve_user_country_with_profile (cart.tests.test_coverage_gaps.CartServiceMarkingFlagsTest.test_resolve_user_country_with_profile)
_resolve_user_country resolves from HOME address (lines 506-515).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "acted_user_profile_user_id_key"
DETAIL:  Key (user_id)=(4187) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_coverage_gaps.py", line 1554, in test_resolve_user_country_with_profile
    profile = UserProfile.objects.create(user=self.user)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "acted_user_profile_user_id_key"
DETAIL:  Key (user_id)=(4187) already exists.


======================================================================
ERROR: test_logout_successful_blacklist (core_auth.tests.test_auth_views.CoverageGapTestCase.test_logout_successful_blacklist)
Logout returns success when token blacklisting works (line 212).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1429, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1411, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1503, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1473, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <class 'rest_framework_simplejwt.tokens.RefreshToken'> does not have the attribute 'blacklist'

======================================================================
ERROR: test_categories_and_product_types_are_distinct (filtering.tests.test_filter_partitioning.TestFilterPartitioning.test_categories_and_product_types_are_distinct)
Categories and product_types contain non-overlapping group sets.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_filter_partitioning.py", line 61, in setUp
    deps = create_catalog_dependencies('CM2', '2025-04')
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 210, in create_catalog_dependencies
    subject = create_subject(subject_code)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_dual_assignment_respected (filtering.tests.test_filter_partitioning.TestFilterPartitioning.test_dual_assignment_respected)
A group assigned to both configs appears in both sections.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_filter_partitioning.py", line 61, in setUp
    deps = create_catalog_dependencies('CM2', '2025-04')
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 210, in create_catalog_dependencies
    subject = create_subject(subject_code)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_unassigned_groups_excluded (filtering.tests.test_filter_partitioning.TestFilterPartitioning.test_unassigned_groups_excluded)
Groups not assigned to any FilterConfigurationGroup do not appear.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_filter_partitioning.py", line 61, in setUp
    deps = create_catalog_dependencies('CM2', '2025-04')
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 210, in create_catalog_dependencies
    subject = create_subject(subject_code)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_modes_uses_variation_type (filtering.tests.test_format_cleanup.TestFormatCleanup.test_modes_uses_variation_type)
T060: modes_of_delivery counts use variation_type, not filter groups.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_format_cleanup.py", line 148, in test_modes_uses_variation_type
    cm2 = create_subject('CM2')
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_grandparent_includes_all_descendants (filtering.tests.test_hierarchy_resolution.TestHierarchyResolution.test_grandparent_includes_all_descendants)
T029: Multi-level hierarchy resolves all descendants.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_hierarchy_resolution.py", line 72, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_hierarchy_aware_counts (filtering.tests.test_hierarchy_resolution.TestHierarchyResolution.test_hierarchy_aware_counts)
T032: Filter counts reflect descendant products.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_hierarchy_resolution.py", line 72, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_leaf_returns_direct_only (filtering.tests.test_hierarchy_resolution.TestHierarchyResolution.test_leaf_returns_direct_only)
T030: Leaf group returns only directly assigned products.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_hierarchy_resolution.py", line 72, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_parent_includes_children (filtering.tests.test_hierarchy_resolution.TestHierarchyResolution.test_parent_includes_children)
T028: Selecting parent group includes child group products.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_hierarchy_resolution.py", line 72, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_parent_with_direct_products (filtering.tests.test_hierarchy_resolution.TestHierarchyResolution.test_parent_with_direct_products)
T031: Group with direct products AND children returns both.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_hierarchy_resolution.py", line 72, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_cascade_delete_store_product (marking.tests.test_models.MarkingPaperTestCase.test_cascade_delete_store_product)
Test cascading delete - deleting store product deletes marking papers.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_date_timezone_awareness (marking.tests.test_models.MarkingPaperTestCase.test_date_timezone_awareness)
Test deadline and recommended_submit_date are timezone-aware.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_db_table_name (marking.tests.test_models.MarkingPaperTestCase.test_db_table_name)
Test custom database table name.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_deadline_date_validation (marking.tests.test_models.MarkingPaperTestCase.test_deadline_date_validation)
Test deadline date can be set to future dates.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_deadline_required (marking.tests.test_models.MarkingPaperTestCase.test_deadline_required)
Test deadline is a required field.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_foreign_key_relationship_to_store_product (marking.tests.test_models.MarkingPaperTestCase.test_foreign_key_relationship_to_store_product)
Test ForeignKey relationship with store.Product.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_marking_paper_creation_with_required_fields (marking.tests.test_models.MarkingPaperTestCase.test_marking_paper_creation_with_required_fields)
Test MarkingPaper creation with all required fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_multiple_papers_for_same_store_product (marking.tests.test_models.MarkingPaperTestCase.test_multiple_papers_for_same_store_product)
Test creating multiple marking papers for same store product.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_name_field_uniqueness_not_enforced (marking.tests.test_models.MarkingPaperTestCase.test_name_field_uniqueness_not_enforced)
Test name field has no unique constraint (duplicates allowed).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_name_max_length_validation (marking.tests.test_models.MarkingPaperTestCase.test_name_max_length_validation)
Test name field respects 10 character maximum.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_query_by_deadline_range (marking.tests.test_models.MarkingPaperTestCase.test_query_by_deadline_range)
Test querying marking papers by deadline range.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_query_by_store_product (marking.tests.test_models.MarkingPaperTestCase.test_query_by_store_product)
Test querying marking papers by store product.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_recommended_date_after_deadline_warning (marking.tests.test_models.MarkingPaperTestCase.test_recommended_date_after_deadline_warning)
Test recommended_submit_date can be after deadline (illogical but allowed).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_recommended_date_before_deadline (marking.tests.test_models.MarkingPaperTestCase.test_recommended_date_before_deadline)
Test recommended_submit_date can be before deadline.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_recommended_submit_date_required (marking.tests.test_models.MarkingPaperTestCase.test_recommended_submit_date_required)
Test recommended_submit_date is a required field.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_str_method_formatting (marking.tests.test_models.MarkingPaperTestCase.test_str_method_formatting)
Test __str__ method returns name and store product.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_deadlines_action_mixed_valid_invalid_ids (marking.tests.test_views.MarkingPaperAPITestCase.test_bulk_deadlines_action_mixed_valid_invalid_ids)
Test POST /api/markings/papers/bulk-deadlines/ with mixed valid/invalid IDs.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_deadlines_action_with_empty_list (marking.tests.test_views.MarkingPaperAPITestCase.test_bulk_deadlines_action_with_empty_list)
Test POST /api/markings/papers/bulk-deadlines/ with empty list.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_deadlines_action_with_invalid_ids_type (marking.tests.test_views.MarkingPaperAPITestCase.test_bulk_deadlines_action_with_invalid_ids_type)
Test POST /api/markings/papers/bulk-deadlines/ with non-list store_product_ids.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_deadlines_action_with_nonexistent_ids (marking.tests.test_views.MarkingPaperAPITestCase.test_bulk_deadlines_action_with_nonexistent_ids)
Test POST /api/markings/papers/bulk-deadlines/ with nonexistent IDs.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_deadlines_action_with_valid_store_product_ids (marking.tests.test_views.MarkingPaperAPITestCase.test_bulk_deadlines_action_with_valid_store_product_ids)
Test POST /api/markings/papers/bulk-deadlines/ with valid store product ids.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_deadlines_action_without_any_ids (marking.tests.test_views.MarkingPaperAPITestCase.test_bulk_deadlines_action_without_any_ids)
Test POST /api/markings/papers/bulk-deadlines/ without any ids.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_deadlines_response_structure (marking.tests.test_views.MarkingPaperAPITestCase.test_bulk_deadlines_response_structure)
Test bulk deadlines action response structure.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_deadlines_action_with_invalid_store_product_id (marking.tests.test_views.MarkingPaperAPITestCase.test_deadlines_action_with_invalid_store_product_id)
Test GET /api/markings/papers/deadlines/?store_product_id={invalid_id}.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_deadlines_action_with_store_product_no_papers (marking.tests.test_views.MarkingPaperAPITestCase.test_deadlines_action_with_store_product_no_papers)
Test deadlines action for store product with no marking papers.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_deadlines_action_with_valid_store_product_id (marking.tests.test_views.MarkingPaperAPITestCase.test_deadlines_action_with_valid_store_product_id)
Test GET /api/markings/papers/deadlines/?store_product_id={id}.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_deadlines_action_without_any_id (marking.tests.test_views.MarkingPaperAPITestCase.test_deadlines_action_without_any_id)
Test GET /api/markings/papers/deadlines/ without any id parameter.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_deadlines_response_structure (marking.tests.test_views.MarkingPaperAPITestCase.test_deadlines_response_structure)
Test deadlines action response contains expected fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_marking_papers (marking.tests.test_views.MarkingPaperAPITestCase.test_list_marking_papers)
Test GET /api/markings/papers/ (if list endpoint exists).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_permission_classes_allow_any (marking.tests.test_views.MarkingPaperAPITestCase.test_permission_classes_allow_any)
Test API endpoints are accessible without authentication (AllowAny).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_readonly_viewset_no_create (marking.tests.test_views.MarkingPaperAPITestCase.test_readonly_viewset_no_create)
Test ReadOnlyModelViewSet does not allow POST to create papers.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_readonly_viewset_no_delete (marking.tests.test_views.MarkingPaperAPITestCase.test_readonly_viewset_no_delete)
Test ReadOnlyModelViewSet does not allow DELETE.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_readonly_viewset_no_update (marking.tests.test_views.MarkingPaperAPITestCase.test_readonly_viewset_no_update)
Test ReadOnlyModelViewSet does not allow PUT/PATCH updates.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_retrieve_marking_paper (marking.tests.test_views.MarkingPaperAPITestCase.test_retrieve_marking_paper)
Test GET /api/markings/papers/{id}/.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_blocked_rules_raise_error (orders.tests.test_checkout_orchestrator.CheckoutOrchestratorTest.test_blocked_rules_raise_error)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_checkout_orchestrator.py", line 33, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_card_without_card_data_raises_validation_error (orders.tests.test_checkout_orchestrator.CheckoutOrchestratorTest.test_card_without_card_data_raises_validation_error)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_checkout_orchestrator.py", line 33, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_empty_cart_raises_validation_error (orders.tests.test_checkout_orchestrator.CheckoutOrchestratorTest.test_empty_cart_raises_validation_error)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_checkout_orchestrator.py", line 33, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_invoice_without_employer_code_raises_validation_error (orders.tests.test_checkout_orchestrator.CheckoutOrchestratorTest.test_invoice_without_employer_code_raises_validation_error)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_checkout_orchestrator.py", line 33, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_payment_failure_deletes_order (orders.tests.test_checkout_orchestrator.CheckoutOrchestratorTest.test_payment_failure_deletes_order)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_checkout_orchestrator.py", line 33, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_saves_acknowledgments (orders.tests.test_checkout_orchestrator.CheckoutOrchestratorTest.test_saves_acknowledgments)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_checkout_orchestrator.py", line 33, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_successful_card_checkout (orders.tests.test_checkout_orchestrator.CheckoutOrchestratorTest.test_successful_card_checkout)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_checkout_orchestrator.py", line 33, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_successful_invoice_checkout (orders.tests.test_checkout_orchestrator.CheckoutOrchestratorTest.test_successful_invoice_checkout)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_checkout_orchestrator.py", line 33, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_user_country_no_home_address (orders.tests.test_coverage_services.OrderNotificationCoverageTest.test_get_user_country_no_home_address)
_get_user_country returns UK default when no home address.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "acted_user_profile_user_id_key"
DETAIL:  Key (user_id)=(4844) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_coverage_services.py", line 846, in test_get_user_country_no_home_address
    profile = UserProfile.objects.create(user=user2)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "acted_user_profile_user_id_key"
DETAIL:  Key (user_id)=(4844) already exists.


======================================================================
ERROR: test_get_user_country_with_profile (orders.tests.test_coverage_services.OrderNotificationCoverageTest.test_get_user_country_with_profile)
_get_user_country returns country from user profile home address.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "acted_user_profile_user_id_key"
DETAIL:  Key (user_id)=(4846) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_coverage_services.py", line 826, in test_get_user_country_with_profile
    profile = UserProfile.objects.create(user=self.user)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "acted_user_profile_user_id_key"
DETAIL:  Key (user_id)=(4846) already exists.


======================================================================
ERROR: test_order_item_creation (orders.tests.test_models.OrderItemModelTest.test_order_item_creation)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_models.py", line 65, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_order_item_db_table (orders.tests.test_models.OrderItemModelTest.test_order_item_db_table)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_models.py", line 65, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_build_atomic_transaction (orders.tests.test_order_builder.OrderBuilderTest.test_build_atomic_transaction)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_order_builder.py", line 24, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_build_creates_order_with_totals (orders.tests.test_order_builder.OrderBuilderTest.test_build_creates_order_with_totals)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_order_builder.py", line 24, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_build_transfers_fees (orders.tests.test_order_builder.OrderBuilderTest.test_build_transfers_fees)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_order_builder.py", line 24, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_build_transfers_items (orders.tests.test_order_builder.OrderBuilderTest.test_build_transfers_items)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_order_builder.py", line 24, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_build_with_zero_vat (orders.tests.test_order_builder.OrderBuilderTest.test_build_with_zero_vat)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_order_builder.py", line 24, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_checkout_card_success (orders.tests.test_views.CheckoutViewTest.test_checkout_card_success)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_views.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_checkout_empty_cart (orders.tests.test_views.CheckoutViewTest.test_checkout_empty_cart)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_views.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_checkout_invoice_success (orders.tests.test_views.CheckoutViewTest.test_checkout_invoice_success)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_views.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_checkout_missing_card_data (orders.tests.test_views.CheckoutViewTest.test_checkout_missing_card_data)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_views.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_checkout_unauthenticated (orders.tests.test_views.CheckoutViewTest.test_checkout_unauthenticated)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_views.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_cannot_access_other_users_order (orders.tests.test_views.OrderViewSetTest.test_cannot_access_other_users_order)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_views.py", line 123, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_only_own_orders (orders.tests.test_views.OrderViewSetTest.test_list_only_own_orders)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_views.py", line 123, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_orders (orders.tests.test_views.OrderViewSetTest.test_list_orders)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_views.py", line 123, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_retrieve_order_detail (orders.tests.test_views.OrderViewSetTest.test_retrieve_order_detail)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_views.py", line 123, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_unauthenticated_access_blocked (orders.tests.test_views.OrderViewSetTest.test_unauthenticated_access_blocked)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_views.py", line 123, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bundle_count_reflects_filters (search.tests.test_bundle_filtering.TestBundleFiltering.test_bundle_count_reflects_filters)
T040: Bundle count in filter_counts reflects filtered bundle count.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_bundle_filtering.py", line 76, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_category_filter_applied_to_bundles (search.tests.test_bundle_filtering.TestBundleFiltering.test_category_filter_applied_to_bundles)
T036: Bundles filtered by category â€” not just subject.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_bundle_filtering.py", line 76, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_mode_of_delivery_filter_applied (search.tests.test_bundle_filtering.TestBundleFiltering.test_mode_of_delivery_filter_applied)
T037: Bundles filtered by mode of delivery.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_bundle_filtering.py", line 76, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_no_filters_returns_all_bundles (search.tests.test_bundle_filtering.TestBundleFiltering.test_no_filters_returns_all_bundles)
T039: With no filters, all active bundles are returned.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_bundle_filtering.py", line 76, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_single_product_matches_all_dimensions (search.tests.test_bundle_filtering.TestBundleFiltering.test_single_product_matches_all_dimensions)
T038: Single-product matching â€” one product must match ALL dimensions.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_bundle_filtering.py", line 76, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_dimension_excludes_own_filter (search.tests.test_disjunctive_faceting.TestDisjunctiveFaceting.test_dimension_excludes_own_filter)
T020: Subject dimension counts exclude subject filter.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_disjunctive_faceting.py", line 64, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_multi_filter_disjunctive_counts (search.tests.test_disjunctive_faceting.TestDisjunctiveFaceting.test_multi_filter_disjunctive_counts)
T019: With subject=CM2 + category=Material, product_type counts
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_disjunctive_faceting.py", line 64, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_no_filters_counts_total_catalog (search.tests.test_disjunctive_faceting.TestDisjunctiveFaceting.test_no_filters_counts_total_catalog)
T017: With no filters, counts reflect entire catalog.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_disjunctive_faceting.py", line 64, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_subject_filter_affects_category_counts (search.tests.test_disjunctive_faceting.TestDisjunctiveFaceting.test_subject_filter_affects_category_counts)
T018: With subject=CM2, category counts reflect only CM2 products.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_disjunctive_faceting.py", line 64, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_zero_count_entries_included (search.tests.test_disjunctive_faceting.TestDisjunctiveFaceting.test_zero_count_entries_included)
T021: Zero-count entries ARE included in API response.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_disjunctive_faceting.py", line 64, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_distance_learning_filter (search.tests.test_search_service_coverage.TestApplyNavbarFilters.test_distance_learning_filter)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_search_service_coverage.py", line 383, in test_distance_learning_filter
    result = self.service._apply_navbar_filters(qs, {'distance_learning': 'true'})
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/services/search_service.py", line 358, in _apply_navbar_filters
    dl_group = FilterGroup.objects.get(name='Material')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 642, in get
    raise self.model.MultipleObjectsReturned(
    ...<5 lines>...
    )
filtering.models.filter_group.FilterGroup.MultipleObjectsReturned: get() returned more than one FilterGroup -- it returned 2!

======================================================================
ERROR: test_empty_list_returns_empty (search.tests.test_serializers.TestStoreProductListSerializerGroupedProducts.test_empty_list_returns_empty)
Empty input produces empty output.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_serializers.py", line 42, in setUp
    self.subject = create_subject('CM2')
                   ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_groups_same_catalog_product_variations (search.tests.test_serializers.TestStoreProductListSerializerGroupedProducts.test_groups_same_catalog_product_variations)
Variations of the same catalog product should be grouped together.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_serializers.py", line 42, in setUp
    self.subject = create_subject('CM2')
                   ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_multiple_catalog_products_separate_groups (search.tests.test_serializers.TestStoreProductListSerializerGroupedProducts.test_multiple_catalog_products_separate_groups)
Different catalog products produce separate groups.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_serializers.py", line 42, in setUp
    self.subject = create_subject('CM2')
                   ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_serialized_fields_present (search.tests.test_serializers.TestStoreProductListSerializerGroupedProducts.test_serialized_fields_present)
All required fields should be present in serialized output.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_serializers.py", line 42, in setUp
    self.subject = create_subject('CM2')
                   ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_variation_fields_present (search.tests.test_serializers.TestStoreProductListSerializerGroupedProducts.test_variation_fields_present)
Variation data should have all expected fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_serializers.py", line 42, in setUp
    self.subject = create_subject('CM2')
                   ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_variation_includes_prices (search.tests.test_serializers.TestStoreProductListSerializerGroupedProducts.test_variation_includes_prices)
Variations should serialize associated prices.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_serializers.py", line 42, in setUp
    self.subject = create_subject('CM2')
                   ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_group_store_products_marking_type (store.tests.test_coverage.TestSearchSerializer.test_group_store_products_marking_type)
group_store_products_for_search detects 'Markings' type.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_coverage.py", line 562, in test_group_store_products_marking_type
    ProductProductGroup.objects.create(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        product=self.catalog_product,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        filter_group=self.marking_group
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 667, in create
    obj = self.model(**kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 590, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: ProductProductGroup() got unexpected keyword arguments: 'filter_group'

======================================================================
ERROR: test_group_store_products_tutorial_type (store.tests.test_coverage.TestSearchSerializer.test_group_store_products_tutorial_type)
group_store_products_for_search detects 'Tutorial' type.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_coverage.py", line 528, in test_group_store_products_tutorial_type
    ProductProductGroup.objects.create(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        product=self.catalog_product,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        filter_group=self.tutorial_group
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 667, in create
    obj = self.model(**kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 590, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: ProductProductGroup() got unexpected keyword arguments: 'filter_group'

======================================================================
ERROR: setUpClass (store.tests.test_models.TestProductModelCreation)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_models.py", line 104, in setUpTestData
    cls.subject = Subject.objects.create(
                  ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Actuarial Mathematics',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: setUpClass (store.tests.test_views.TestBundleProductEndpoint)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_views.py", line 39, in setUpTestData
    cls.subject = Subject.objects.create(
                  ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Actuarial Mathematics',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: setUpClass (store.tests.test_views.TestBundleViewSet)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_views.py", line 39, in setUpTestData
    cls.subject = Subject.objects.create(
                  ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Actuarial Mathematics',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: setUpClass (store.tests.test_views.TestPriceViewSet)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_views.py", line 39, in setUpTestData
    cls.subject = Subject.objects.create(
                  ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Actuarial Mathematics',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: setUpClass (store.tests.test_views.TestProductViewSet)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_views.py", line 39, in setUpTestData
    cls.subject = Subject.objects.create(
                  ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Actuarial Mathematics',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: setUpClass (store.tests.test_views.TestStoreAPIReadOnly)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_views.py", line 39, in setUpTestData
    cls.subject = Subject.objects.create(
                  ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Actuarial Mathematics',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_auto_timestamp_fields (tutorials.tests.test_models.TutorialEventTestCase.test_auto_timestamp_fields)
Test created_at and updated_at are automatically set.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_cascade_delete_essp_variation (tutorials.tests.test_models.TutorialEventTestCase.test_cascade_delete_essp_variation)
Test cascading delete - deleting ESSP variation deletes tutorial events.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_code_max_length_validation (tutorials.tests.test_models.TutorialEventTestCase.test_code_max_length_validation)
Test code field respects 100 character maximum.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_code_unique_constraint (tutorials.tests.test_models.TutorialEventTestCase.test_code_unique_constraint)
Test code field has unique constraint.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_date_field_validation (tutorials.tests.test_models.TutorialEventTestCase.test_date_field_validation)
Test start_date and end_date are DateField types.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_db_table_name (tutorials.tests.test_models.TutorialEventTestCase.test_db_table_name)
Test custom database table name.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_end_date_required (tutorials.tests.test_models.TutorialEventTestCase.test_end_date_required)
Test end_date is a required field.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_finalisation_date_optional (tutorials.tests.test_models.TutorialEventTestCase.test_finalisation_date_optional)
Test finalisation_date is optional (null=True, blank=True).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_foreign_key_relationship_to_essp_variation (tutorials.tests.test_models.TutorialEventTestCase.test_foreign_key_relationship_to_essp_variation)
Test ForeignKey relationship with ExamSessionSubjectProductVariation.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_is_soldout_default_value (tutorials.tests.test_models.TutorialEventTestCase.test_is_soldout_default_value)
Test is_soldout defaults to False.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_ordering_by_start_date_and_code (tutorials.tests.test_models.TutorialEventTestCase.test_ordering_by_start_date_and_code)
Test default ordering is by start_date, then code.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_query_available_events (tutorials.tests.test_models.TutorialEventTestCase.test_query_available_events)
Test querying available (not soldout) tutorial events.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_query_by_date_range (tutorials.tests.test_models.TutorialEventTestCase.test_query_by_date_range)
Test querying tutorial events by date range.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_query_by_essp_variation (tutorials.tests.test_models.TutorialEventTestCase.test_query_by_essp_variation)
Test querying tutorial events by ESSP variation.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_remain_space_default_value (tutorials.tests.test_models.TutorialEventTestCase.test_remain_space_default_value)
Test remain_space defaults to 0.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_start_date_required (tutorials.tests.test_models.TutorialEventTestCase.test_start_date_required)
Test start_date is a required field.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_str_method_formatting (tutorials.tests.test_models.TutorialEventTestCase.test_str_method_formatting)
Test __str__ method returns code and venue.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_subject_code_property (tutorials.tests.test_models.TutorialEventTestCase.test_subject_code_property)
Test subject_code property returns correct subject code.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_tutorial_event_creation_with_all_fields (tutorials.tests.test_models.TutorialEventTestCase.test_tutorial_event_creation_with_all_fields)
Test TutorialEvent creation with all fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_tutorial_event_creation_with_required_fields (tutorials.tests.test_models.TutorialEventTestCase.test_tutorial_event_creation_with_required_fields)
Test TutorialEvent creation with all required fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_updated_at_changes_on_save (tutorials.tests.test_models.TutorialEventTestCase.test_updated_at_changes_on_save)
Test updated_at changes when record is saved.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_venue_max_length_validation (tutorials.tests.test_models.TutorialEventTestCase.test_venue_max_length_validation)
Test venue field respects 255 character maximum.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_verbose_name (tutorials.tests.test_models.TutorialEventTestCase.test_verbose_name)
Test model verbose name is set correctly.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_verbose_name_plural (tutorials.tests.test_models.TutorialEventTestCase.test_verbose_name_plural)
Test model verbose name plural is set correctly.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_comprehensive_data_uses_cache (tutorials.tests.test_views.TutorialComprehensiveDataViewTestCase.test_comprehensive_data_uses_cache)
Test that comprehensive data view uses cache.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 694, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_comprehensive_data (tutorials.tests.test_views.TutorialComprehensiveDataViewTestCase.test_get_comprehensive_data)
Test GET /api/tutorials/data/comprehensive/.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 694, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_create_tutorial_event (tutorials.tests.test_views.TutorialEventAPITestCase.test_create_tutorial_event)
Test POST /api/tutorials/events/ to create new event.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_create_tutorial_event_duplicate_code (tutorials.tests.test_views.TutorialEventAPITestCase.test_create_tutorial_event_duplicate_code)
Test POST /api/tutorials/events/ with duplicate code.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_create_tutorial_event_missing_required_fields (tutorials.tests.test_views.TutorialEventAPITestCase.test_create_tutorial_event_missing_required_fields)
Test POST /api/tutorials/events/ with missing required fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_delete_tutorial_event (tutorials.tests.test_views.TutorialEventAPITestCase.test_delete_tutorial_event)
Test DELETE /api/tutorials/events/{id}/.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_tutorial_events (tutorials.tests.test_views.TutorialEventAPITestCase.test_list_tutorial_events)
Test GET /api/tutorials/events/.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_tutorial_events_response_structure (tutorials.tests.test_views.TutorialEventAPITestCase.test_list_tutorial_events_response_structure)
Test tutorial event list response contains expected fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_permission_classes_allow_any (tutorials.tests.test_views.TutorialEventAPITestCase.test_permission_classes_allow_any)
Test API endpoints are accessible without authentication (AllowAny).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_retrieve_tutorial_event (tutorials.tests.test_views.TutorialEventAPITestCase.test_retrieve_tutorial_event)
Test GET /api/tutorials/events/{id}/.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_retrieve_tutorial_event_nonexistent (tutorials.tests.test_views.TutorialEventAPITestCase.test_retrieve_tutorial_event_nonexistent)
Test GET /api/tutorials/events/{id}/ for nonexistent event.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_retrieve_tutorial_event_response_structure (tutorials.tests.test_views.TutorialEventAPITestCase.test_retrieve_tutorial_event_response_structure)
Test tutorial event retrieve response contains expected fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_tutorial_event_ordering (tutorials.tests.test_views.TutorialEventAPITestCase.test_tutorial_event_ordering)
Test tutorial events ordering in list response.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_update_tutorial_event_patch (tutorials.tests.test_views.TutorialEventAPITestCase.test_update_tutorial_event_patch)
Test PATCH /api/tutorials/events/{id}/ to partially update event.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_update_tutorial_event_put (tutorials.tests.test_views.TutorialEventAPITestCase.test_update_tutorial_event_put)
Test PUT /api/tutorials/events/{id}/ to update event.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_all_tutorial_events (tutorials.tests.test_views.TutorialEventListViewTestCase.test_list_all_tutorial_events)
Test GET /api/tutorials/list/ without filters.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 288, in setUp
    self.subject1 = Subject.objects.create(
                    ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_tutorial_events_filter_by_subject (tutorials.tests.test_views.TutorialEventListViewTestCase.test_list_tutorial_events_filter_by_subject)
Test GET /api/tutorials/list/?subject_code=CM2.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 288, in setUp
    self.subject1 = Subject.objects.create(
                    ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_all_tutorial_products (tutorials.tests.test_views.TutorialProductListAllViewTestCase.test_list_all_tutorial_products)
Test GET /api/tutorials/products/all/ returns all tutorial products.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 478, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_all_tutorial_products_cache_cleared (tutorials.tests.test_views.TutorialProductListAllViewTestCase.test_list_all_tutorial_products_cache_cleared)
Test that cache can be cleared.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 478, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_all_tutorial_products_uses_cache (tutorials.tests.test_views.TutorialProductListAllViewTestCase.test_list_all_tutorial_products_uses_cache)
Test that subsequent requests use cached data.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 478, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_tutorial_products_missing_exam_session (tutorials.tests.test_views.TutorialProductListViewTestCase.test_list_tutorial_products_missing_exam_session)
Test GET /api/tutorials/products/ without exam_session parameter.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 410, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_tutorial_products_missing_subject_code (tutorials.tests.test_views.TutorialProductListViewTestCase.test_list_tutorial_products_missing_subject_code)
Test GET /api/tutorials/products/ without subject_code parameter.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 410, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_tutorial_products_with_required_params (tutorials.tests.test_views.TutorialProductListViewTestCase.test_list_tutorial_products_with_required_params)
Test GET /api/tutorials/products/?exam_session={id}&subject_code={code}.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 410, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_product_variations (tutorials.tests.test_views.TutorialProductVariationListViewTestCase.test_list_product_variations)
Test GET /api/tutorials/products/{id}/variations/.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 584, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_product_variations_coverage_detection (tutorials.tests.test_views.TutorialProductVariationListViewTestCase.test_list_product_variations_coverage_detection)
GET /api/tutorials/products/999999/variations/ with nonexistent product returns empty.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 584, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_product_variations_no_results (tutorials.tests.test_views.TutorialProductVariationListViewTestCase.test_list_product_variations_no_results)
Test listing variations for product with no variations.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 584, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_product_variations_with_subject_filter (tutorials.tests.test_views.TutorialProductVariationListViewTestCase.test_list_product_variations_with_subject_filter)
Test filtering variations by subject_code.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 584, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_profile_home_address_none_address_data (users.tests.test_views.UserProfileAddressFallbackTestCase.test_get_profile_home_address_none_address_data)
Test GET /api/users/profile/ with home address that has None address_data.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "address_data" of relation "user_profile_address" violates not-null constraint
DETAIL:  Failing row contains (117, HOME, null, UK, null, null, 5149).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/users/tests/test_views.py", line 853, in test_get_profile_home_address_none_address_data
    UserProfileAddress.objects.filter(pk=address.pk).update(address_data=None)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1300, in update
    rows = query.get_compiler(self.db).execute_sql(ROW_COUNT)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 2111, in execute_sql
    row_count = super().execute_sql(result_type)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1624, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "address_data" of relation "user_profile_address" violates not-null constraint
DETAIL:  Failing row contains (117, HOME, null, UK, null, null, 5149).


======================================================================
ERROR: test_provider_honours_pact_with_consumer (pact_tests.test_provider_verification.PactProviderVerificationTest.test_provider_honours_pact_with_consumer)
Replay all consumer interactions and verify responses match.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/pact_tests/test_provider_verification.py", line 95, in test_provider_honours_pact_with_consumer
    verifier.verify()
    ~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/pact/v3/verifier.py", line 769, in verify
    pact.v3.ffi.verifier_execute(self._handle)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/pact/v3/ffi.py", line 7330, in verifier_execute
    raise RuntimeError(msg)
RuntimeError: Failed to execute verifier for VerifierHandle(0x119f971b0).

======================================================================
FAIL: test_is_material_product_ppv_not_found (cart.tests.test_coverage_gaps.CartServiceEdgeCaseTest.test_is_material_product_ppv_not_found)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_coverage_gaps.py", line 1120, in test_is_material_product_ppv_not_found
    self.assertFalse(self.service._is_material_product(item))
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: True is not false

======================================================================
FAIL: test_build_order_email_data_generic_item (orders.tests.test_coverage_services.OrderNotificationCoverageTest.test_build_order_email_data_generic_item)
_build_order_email_data handles items without product or fee type.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_coverage_services.py", line 942, in test_build_order_email_data_generic_item
    self.assertEqual(len(data['items']), 1)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 0 != 1

======================================================================
FAIL: test_tutorial_product_code_generation (store.tests.test_coverage.TestProductModelProperties.test_tutorial_product_code_generation)
Product code generation for tutorial/other type (lines 88-89).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_coverage.py", line 320, in test_tutorial_product_code_generation
    self.assertIn(str(product.pk), product.product_code)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: '830' not found in 'CS1/TCSM01LON/2025-09-None'

----------------------------------------------------------------------
Ran 3137 tests in 410.471s

FAILED (failures=3, errors=176, skipped=70)
Preserving test database for alias 'default'...
