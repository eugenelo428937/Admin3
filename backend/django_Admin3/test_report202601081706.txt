DJANGO_ENV None
DJANGO_ENV development
DJANGO_SETTINGS_MODULE django_Admin3.settings.development
DJANGO_ENV FILE /Users/work/Documents/Code/Admin3/backend/django_Admin3/.env.development
Loading environment from: /Users/work/Documents/Code/Admin3/backend/django_Admin3/.env.development
Rows in test table: [(1, 'Test1'), (2, 'Test1'), (3, 'Test1'), (4, 'Test1'), (5, 'Test1'), (6, 'Test1'), (7, 'Test1'), (8, 'Test1'), (9, 'Test1'), (10, 'Test1'), (11, 'Test1'), (12, 'Test1'), (13, 'Test1'), (14, 'Test1'), (15, 'Test1'), (16, 'Test1'), (17, 'Test1'), (18, 'Test1'), (19, 'Test1'), (20, 'Test1'), (21, 'Test1'), (22, 'Test1'), (23, 'Test1'), (24, 'Test1'), (25, 'Test1'), (26, 'Test1'), (27, 'Test1'), (28, 'Test1'), (29, 'Test1'), (30, 'Test1'), (31, 'Test1'), (32, 'Test1'), (33, 'Test1'), (34, 'Test1'), (35, 'Test1'), (36, 'Test1'), (37, 'Test1'), (38, 'Test1'), (39, 'Test1')]
Database test completed successfully
DEBUG Read environment variables from: /Users/work/Documents/Code/Admin3/backend/django_Admin3/.env.development
=== Environment Variables from .env.development ===
DEBUG get 'DATABASE_URL' casted as 'None' with default 'Not set'
DATABASE_URL: postgres://actedadmin:Act3d@dm1n0EEoo@127.0.0.1:5432/ACTEDDBDEV01
DEBUG get 'DB_NAME' casted as 'None' with default 'Not set'
DB_NAME: ACTEDDBDEV01
DEBUG get 'DB_USER' casted as 'None' with default 'Not set'
DB_USER: actedadmin
DEBUG get 'DB_PASSWORD' casted as 'None' with default 'Not set'
DB_PASSWORD: Act3d@dm1n0EEoo
DEBUG get 'DB_HOST' casted as 'None' with default 'Not set'
DB_HOST: 127.0.0.1
DEBUG get 'DB_PORT' casted as 'None' with default 'Not set'
DB_PORT: 5432
DEBUG get 'SECRET_KEY' casted as 'None' with default 'Not set'
SECRET_KEY: Not set
DEBUG get 'DEBUG' casted as 'None' with default 'False'
DEBUG: False
DEBUG get 'DJANGO_ENVIRONMENT' casted as 'None' with default 'Not set'
DJANGO_ENVIRONMENT: Not set
DEBUG get 'ALLOWED_HOSTS' casted as 'None' with default 'Not set'
ALLOWED_HOSTS: 127.0.0.1,localhost
DEBUG get 'ADMINISTRATE_API_URL' casted as 'None' with default 'Not set'
ADMINISTRATE_API_URL: https://api.getadministrate.com/graphql
DEBUG get 'ADMINISTRATE_API_KEY' casted as 'None' with default 'Not set'
ADMINISTRATE_API_KEY: bJC4yEzW7dICQin2JbgwU0gsbN9kuaDC
DEBUG get 'DB_NAME' casted as 'None' with default '<NoValue>'

âœ… SUCCESS: Successfully read DB_NAME: ACTEDDBDEV01 from .env.development
Creating test database for alias 'default'...
.........................................FFFound 1275 test(s).
System check identified no issues (0 silenced).
get_events called 3 times
set_event_soldout called 20 times
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
FWARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
EDEBUG CartItem 1 created - invalidating VAT cache for cart 5
DEBUG VAT cache invalidated for cart 5
.DEBUG CartItem 2 created - invalidating VAT cache for cart 6
DEBUG VAT cache invalidated for cart 6
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 3 created - invalidating VAT cache for cart 7
DEBUG VAT cache invalidated for cart 7
DEBUG CartItem 3 deleted - invalidating VAT cache for cart 7
DEBUG VAT cache invalidated for cart 7
.DEBUG CartItem 4 created - invalidating VAT cache for cart 8
DEBUG VAT cache invalidated for cart 8
DEBUG CartItem 5 created - invalidating VAT cache for cart 8
DEBUG VAT cache invalidated for cart 8
DEBUG CartItem 4 deleted - invalidating VAT cache for cart 8
DEBUG VAT cache invalidated for cart 8
INFO Executing VAT calculation for cart 8 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 5, using default: Digital
DEBUG Processing cart item 5
DEBUG Cache miss for rules:cart_calculate_vat
DEBUG Cached 0 rules for cart_calculate_vat
INFO Stored VAT result in cart 8
INFO Created VAT audit record for cart 8
INFO VAT calculation successful for cart 8: UNKNOWN
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
FDEBUG CartItem 6 created - invalidating VAT cache for cart 9
DEBUG VAT cache invalidated for cart 9
DEBUG CartItem 6 updated - invalidating VAT cache for cart 9
DEBUG VAT cache invalidated for cart 9
.DEBUG CartItem 7 created - invalidating VAT cache for cart 10
DEBUG VAT cache invalidated for cart 10
DEBUG CartItem 7 updated - invalidating VAT cache for cart 10
DEBUG VAT cache invalidated for cart 10
INFO Executing VAT calculation for cart 10 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 7, using default: Digital
DEBUG Processing cart item 7
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
INFO Stored VAT result in cart 10
INFO Created VAT audit record for cart 10
INFO VAT calculation successful for cart 10: UNKNOWN
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.INFO Executing VAT calculation for cart 11 at entry point 'cart_calculate_vat'
INFO Stored VAT result in cart 11
INFO Created VAT audit record for cart 11
INFO VAT calculation successful for cart 11: UNKNOWN
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
FINFO Executing VAT calculation for cart 12 at entry point 'cart_calculate_vat'
INFO Stored VAT result in cart 12
INFO Created VAT audit record for cart 12
INFO VAT calculation successful for cart 12: UNKNOWN
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.INFO Executing VAT calculation for cart 13 at entry point 'cart_calculate_vat'
INFO Stored VAT result in cart 13
INFO Created VAT audit record for cart 13
INFO VAT calculation successful for cart 13: UNKNOWN
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.INFO Executing VAT calculation for cart 14 at entry point 'cart_calculate_vat'
INFO Stored VAT result in cart 14
INFO Created VAT audit record for cart 14
INFO VAT calculation successful for cart 14: UNKNOWN
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
FINFO Executing VAT calculation for cart 15 at entry point 'cart_calculate_vat'
INFO Stored VAT result in cart 15
INFO Created VAT audit record for cart 15
INFO VAT calculation successful for cart 15: UNKNOWN
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
EEDEBUG CartItem 8 created - invalidating VAT cache for cart 16
DEBUG VAT cache invalidated for cart 16
.DEBUG CartItem 9 created - invalidating VAT cache for cart 17
DEBUG VAT cache invalidated for cart 17
.DEBUG CartItem 10 created - invalidating VAT cache for cart 18
DEBUG VAT cache invalidated for cart 18
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 11 created - invalidating VAT cache for cart 27
DEBUG VAT cache invalidated for cart 27
DEBUG CartItem 12 created - invalidating VAT cache for cart 27
DEBUG VAT cache invalidated for cart 27
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 13 created - invalidating VAT cache for cart 28
DEBUG VAT cache invalidated for cart 28
.DEBUG CartItem 14 created - invalidating VAT cache for cart 29
DEBUG VAT cache invalidated for cart 29
DEBUG CartItem 14 deleted - invalidating VAT cache for cart 29
DEBUG VAT cache invalidated for cart 29
.DEBUG CartItem 15 created - invalidating VAT cache for cart 30
DEBUG VAT cache invalidated for cart 30
DEBUG CartItem 15 updated - invalidating VAT cache for cart 30
DEBUG VAT cache invalidated for cart 30
.DEBUG CartItem 16 created - invalidating VAT cache for cart 31
DEBUG VAT cache invalidated for cart 31
DEBUG CartItem 17 created - invalidating VAT cache for cart 31
DEBUG VAT cache invalidated for cart 31
.DEBUG CartItem 18 created - invalidating VAT cache for cart 32
DEBUG VAT cache invalidated for cart 32
DEBUG CartItem 18 updated - invalidating VAT cache for cart 32
DEBUG VAT cache invalidated for cart 32
.DEBUG CartItem 19 created - invalidating VAT cache for cart 33
DEBUG VAT cache invalidated for cart 33
DEBUG CartItem 19 updated - invalidating VAT cache for cart 33
DEBUG VAT cache invalidated for cart 33
.DEBUG CartItem 20 created - invalidating VAT cache for cart 34
DEBUG VAT cache invalidated for cart 34
.DEBUG CartItem 21 created - invalidating VAT cache for cart 35
DEBUG VAT cache invalidated for cart 35
.DEBUG CartItem 22 created - invalidating VAT cache for cart 37
DEBUG VAT cache invalidated for cart 37
..DEBUG CartItem 23 created - invalidating VAT cache for cart 39
DEBUG VAT cache invalidated for cart 39
..DEBUG CartItem 24 created - invalidating VAT cache for cart 41
DEBUG VAT cache invalidated for cart 41
DEBUG CartItem 25 created - invalidating VAT cache for cart 41
DEBUG VAT cache invalidated for cart 41
...DEBUG CartItem 26 created - invalidating VAT cache for cart 44
DEBUG VAT cache invalidated for cart 44
.DEBUG CartItem 27 created - invalidating VAT cache for cart 45
DEBUG VAT cache invalidated for cart 45
WARNING Country not found: XX
.DEBUG CartItem 28 created - invalidating VAT cache for cart 46
DEBUG VAT cache invalidated for cart 46
.DEBUG CartItem 29 created - invalidating VAT cache for cart 47
DEBUG VAT cache invalidated for cart 47
DEBUG CartItem 29 updated - invalidating VAT cache for cart 47
DEBUG VAT cache invalidated for cart 47
.DEBUG CartItem 30 created - invalidating VAT cache for cart 48
DEBUG VAT cache invalidated for cart 48
ERROR VAT calculation failed for cart 48: Rules engine connection failed
.DEBUG CartItem 31 created - invalidating VAT cache for cart 49
DEBUG VAT cache invalidated for cart 49
DEBUG CartItem 32 created - invalidating VAT cache for cart 49
DEBUG VAT cache invalidated for cart 49
DEBUG CartItem 31 deleted - invalidating VAT cache for cart 49
DEBUG VAT cache invalidated for cart 49
.DEBUG CartItem 33 created - invalidating VAT cache for cart 50
DEBUG VAT cache invalidated for cart 50
DEBUG CartItem 33 updated - invalidating VAT cache for cart 50
DEBUG VAT cache invalidated for cart 50
.DEBUG CartItem 34 created - invalidating VAT cache for cart 51
DEBUG VAT cache invalidated for cart 51
.DEBUG CartItem 35 created - invalidating VAT cache for cart 52
DEBUG VAT cache invalidated for cart 52
DEBUG CartItem 36 created - invalidating VAT cache for cart 52
DEBUG VAT cache invalidated for cart 52
.DEBUG CartItem 37 created - invalidating VAT cache for cart 53
DEBUG VAT cache invalidated for cart 53
..DEBUG CartItem 38 created - invalidating VAT cache for cart 55
DEBUG VAT cache invalidated for cart 55
ERROR VAT calculation failed for cart 55: Rules engine error
.DEBUG CartItem 39 created - invalidating VAT cache for cart 56
DEBUG VAT cache invalidated for cart 56
DEBUG CartItem 40 created - invalidating VAT cache for cart 56
DEBUG VAT cache invalidated for cart 56
.DEBUG CartItem 41 created - invalidating VAT cache for cart 57
DEBUG VAT cache invalidated for cart 57
.DEBUG CartItem 42 created - invalidating VAT cache for cart 58
DEBUG VAT cache invalidated for cart 58
..DEBUG CartItem 43 created - invalidating VAT cache for cart 60
DEBUG VAT cache invalidated for cart 60
ERROR VAT calculation failed for cart 60: Rules engine connection failed
.DEBUG CartItem 44 created - invalidating VAT cache for cart 61
DEBUG VAT cache invalidated for cart 61
.DEBUG CartItem 45 created - invalidating VAT cache for cart 62
DEBUG VAT cache invalidated for cart 62
INFO Executing VAT calculation for cart 62 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 45, using default: Digital
DEBUG Processing cart item 45
INFO Stored VAT result in cart 62
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
INFO VAT calculation successful for cart 62: UNKNOWN
FINFO Executing VAT calculation for cart 63 at entry point 'cart_calculate_vat'
INFO Stored VAT result in cart 63
INFO Created VAT audit record for cart 63
INFO VAT calculation successful for cart 63: UNKNOWN
.DEBUG CartItem 46 created - invalidating VAT cache for cart 64
DEBUG VAT cache invalidated for cart 64
DEBUG CartItem 47 created - invalidating VAT cache for cart 64
DEBUG VAT cache invalidated for cart 64
INFO Executing VAT calculation for cart 64 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 46, using default: Digital
DEBUG Processing cart item 46
WARNING No variation type found for cart item 47, using default: Digital
DEBUG Processing cart item 47
INFO Stored VAT result in cart 64
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
INFO VAT calculation successful for cart 64: UNKNOWN
FDEBUG CartItem 48 created - invalidating VAT cache for cart 65
DEBUG VAT cache invalidated for cart 65
INFO Executing VAT calculation for cart 65 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 48, using default: Digital
DEBUG Processing cart item 48
INFO Stored VAT result in cart 65
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
INFO VAT calculation successful for cart 65: UNKNOWN
FDEBUG CartItem 49 created - invalidating VAT cache for cart 66
DEBUG VAT cache invalidated for cart 66
ERROR VAT calculation failed for cart 66: Rules Engine connection failed
.WARNING Not Found: /api/cart/add/
FDEBUG CartItem 50 created - invalidating VAT cache for cart 68
DEBUG VAT cache invalidated for cart 68
DEBUG CartItem 50 updated - invalidating VAT cache for cart 68
DEBUG VAT cache invalidated for cart 68
INFO Executing VAT calculation for cart 68 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 50, using default: Digital
DEBUG Processing cart item 50
INFO Stored VAT result in cart 68
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
INFO VAT calculation successful for cart 68: UNKNOWN
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
DEBUG CartItem 50 updated - invalidating VAT cache for cart 68
DEBUG VAT cache invalidated for cart 68
INFO Executing VAT calculation for cart 68 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 50, using default: Digital
DEBUG Processing cart item 50
INFO Stored VAT result in cart 68
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
INFO VAT calculation successful for cart 68: UNKNOWN
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
DEBUG CartItem 50 updated - invalidating VAT cache for cart 68
DEBUG VAT cache invalidated for cart 68
INFO Executing VAT calculation for cart 68 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 50, using default: Digital
DEBUG Processing cart item 50
INFO Stored VAT result in cart 68
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
INFO VAT calculation successful for cart 68: UNKNOWN
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
DEBUG CartItem 50 updated - invalidating VAT cache for cart 68
DEBUG VAT cache invalidated for cart 68
INFO Executing VAT calculation for cart 68 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 50, using default: Digital
DEBUG Processing cart item 50
INFO Stored VAT result in cart 68
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
INFO VAT calculation successful for cart 68: UNKNOWN
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 51 created - invalidating VAT cache for cart 70
DEBUG VAT cache invalidated for cart 70
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 52 created - invalidating VAT cache for cart 71
DEBUG VAT cache invalidated for cart 71
DEBUG CartItem 53 created - invalidating VAT cache for cart 71
DEBUG VAT cache invalidated for cart 71
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 54 created - invalidating VAT cache for cart 72
DEBUG VAT cache invalidated for cart 72
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 55 created - invalidating VAT cache for cart 73
DEBUG VAT cache invalidated for cart 73
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 56 created - invalidating VAT cache for cart 74
DEBUG VAT cache invalidated for cart 74
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 57 created - invalidating VAT cache for cart 75
DEBUG VAT cache invalidated for cart 75
DEBUG CartItem 57 deleted - invalidating VAT cache for cart 75
DEBUG VAT cache invalidated for cart 75
INFO Executing VAT calculation for cart 75 at entry point 'cart_calculate_vat'
INFO Stored VAT result in cart 75
INFO Created VAT audit record for cart 75
INFO VAT calculation successful for cart 75: UNKNOWN
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
FDEBUG CartItem 58 created - invalidating VAT cache for cart 76
DEBUG VAT cache invalidated for cart 76
DEBUG CartItem 58 updated - invalidating VAT cache for cart 76
DEBUG VAT cache invalidated for cart 76
INFO Executing VAT calculation for cart 76 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 58, using default: Digital
DEBUG Processing cart item 58
INFO Stored VAT result in cart 76
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
INFO VAT calculation successful for cart 76: UNKNOWN
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
FWARNING Not Found: /api/cart/add/
FWARNING Not Found: /api/cart/add/
FDEBUG CartItem 59 created - invalidating VAT cache for cart 79
DEBUG VAT cache invalidated for cart 79
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 60 created - invalidating VAT cache for cart 80
DEBUG VAT cache invalidated for cart 80
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
EDEBUG CartItem 61 created - invalidating VAT cache for cart 81
DEBUG VAT cache invalidated for cart 81
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
FDEBUG CartItem 62 created - invalidating VAT cache for cart 82
DEBUG VAT cache invalidated for cart 82
INFO Executing VAT calculation for cart 82 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 62, using default: Digital
DEBUG Processing cart item 62
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
INFO Stored VAT result in cart 82
INFO Created VAT audit record for cart 82
INFO VAT calculation successful for cart 82: UNKNOWN
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
EDEBUG CartItem 63 created - invalidating VAT cache for cart 83
DEBUG VAT cache invalidated for cart 83
INFO Executing VAT calculation for cart 83 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 63, using default: Digital
DEBUG Processing cart item 63
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
INFO Stored VAT result in cart 83
INFO Created VAT audit record for cart 83
INFO VAT calculation successful for cart 83: UNKNOWN
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
FDEBUG CartItem 64 created - invalidating VAT cache for cart 84
DEBUG VAT cache invalidated for cart 84
DEBUG CartItem 65 created - invalidating VAT cache for cart 84
DEBUG VAT cache invalidated for cart 84
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
EDEBUG CartItem 66 created - invalidating VAT cache for cart 85
DEBUG VAT cache invalidated for cart 85
DEBUG CartItem 67 created - invalidating VAT cache for cart 85
DEBUG VAT cache invalidated for cart 85
DEBUG CartItem 66 deleted - invalidating VAT cache for cart 85
DEBUG VAT cache invalidated for cart 85
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
EDEBUG CartItem 68 created - invalidating VAT cache for cart 86
DEBUG VAT cache invalidated for cart 86
DEBUG CartItem 68 updated - invalidating VAT cache for cart 86
DEBUG VAT cache invalidated for cart 86
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
E/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/fields/__init__.py:1671: RuntimeWarning: DateTimeField CartItem.vat_calculated_at received a naive datetime (2025-01-12 10:30:00) while time zone support is active.
  warnings.warn(
DEBUG CartItem 69 created - invalidating VAT cache for cart 87
DEBUG VAT cache invalidated for cart 87
..DEBUG CartItem 71 created - invalidating VAT cache for cart 89
DEBUG VAT cache invalidated for cart 89
DEBUG CartItem 72 created - invalidating VAT cache for cart 89
DEBUG VAT cache invalidated for cart 89
..DEBUG CartItem 74 created - invalidating VAT cache for cart 91
DEBUG VAT cache invalidated for cart 91
DEBUG CartItem 75 created - invalidating VAT cache for cart 91
DEBUG VAT cache invalidated for cart 91
.DEBUG CartItem 76 created - invalidating VAT cache for cart 92
DEBUG VAT cache invalidated for cart 92
.DEBUG CartItem 77 created - invalidating VAT cache for cart 93
DEBUG VAT cache invalidated for cart 93
...DEBUG CartItem 80 created - invalidating VAT cache for cart 96
DEBUG VAT cache invalidated for cart 96
DEBUG CartItem 81 created - invalidating VAT cache for cart 96
DEBUG VAT cache invalidated for cart 96
DEBUG CartItem 82 created - invalidating VAT cache for cart 96
DEBUG VAT cache invalidated for cart 96
..DEBUG CartItem 83 created - invalidating VAT cache for cart 98
DEBUG VAT cache invalidated for cart 98
DEBUG CartItem 84 created - invalidating VAT cache for cart 98
DEBUG VAT cache invalidated for cart 98
.DEBUG CartItem 85 created - invalidating VAT cache for cart 99
DEBUG VAT cache invalidated for cart 99
./Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/fields/__init__.py:1671: RuntimeWarning: DateTimeField Cart.vat_last_calculated_at received a naive datetime (2025-01-12 10:30:00) while time zone support is active.
  warnings.warn(
.......DEBUG CartItem 86 created - invalidating VAT cache for cart 108
DEBUG VAT cache invalidated for cart 108
DEBUG CartItem 87 created - invalidating VAT cache for cart 108
DEBUG VAT cache invalidated for cart 108
.DEBUG CartItem 88 created - invalidating VAT cache for cart 109
DEBUG VAT cache invalidated for cart 109
DEBUG CartItem 89 created - invalidating VAT cache for cart 109
DEBUG VAT cache invalidated for cart 109
.DEBUG CartItem 91 created - invalidating VAT cache for cart 110
DEBUG VAT cache invalidated for cart 110
DEBUG CartItem 92 created - invalidating VAT cache for cart 110
DEBUG VAT cache invalidated for cart 110
.DEBUG CartItem 94 created - invalidating VAT cache for cart 111
DEBUG VAT cache invalidated for cart 111
DEBUG CartItem 95 created - invalidating VAT cache for cart 111
DEBUG VAT cache invalidated for cart 111
DEBUG CartItem 94 updated - invalidating VAT cache for cart 111
DEBUG VAT cache invalidated for cart 111
.DEBUG CartItem 96 created - invalidating VAT cache for cart 112
DEBUG VAT cache invalidated for cart 112
.DEBUG CartItem 97 created - invalidating VAT cache for cart 113
DEBUG VAT cache invalidated for cart 113
DEBUG CartItem 98 created - invalidating VAT cache for cart 113
DEBUG VAT cache invalidated for cart 113
DEBUG CartItem 99 created - invalidating VAT cache for cart 113
DEBUG VAT cache invalidated for cart 113
.DEBUG CartItem 102 created - invalidating VAT cache for cart 114
DEBUG VAT cache invalidated for cart 114
DEBUG CartItem 103 created - invalidating VAT cache for cart 114
DEBUG VAT cache invalidated for cart 114
DEBUG CartItem 104 created - invalidating VAT cache for cart 114
DEBUG VAT cache invalidated for cart 114
DEBUG CartItem 105 created - invalidating VAT cache for cart 114
DEBUG VAT cache invalidated for cart 114
DEBUG CartItem 106 created - invalidating VAT cache for cart 114
DEBUG VAT cache invalidated for cart 114
.DEBUG CartItem 107 created - invalidating VAT cache for cart 115
DEBUG VAT cache invalidated for cart 115
DEBUG CartItem 107 updated - invalidating VAT cache for cart 115
DEBUG VAT cache invalidated for cart 115
.EEEE...F.DEBUG Rule test_order_pref_rule created, invalidating cache for checkout_preference
INFO Invalidated rules cache for entry point: checkout_preference (key: rules:checkout_preference)
.DEBUG Rule test_order_pref_rule created, invalidating cache for checkout_preference
INFO Invalidated rules cache for entry point: checkout_preference (key: rules:checkout_preference)
DEBUG Rule test_checkbox_order_rule created, invalidating cache for checkout_preference
INFO Invalidated rules cache for entry point: checkout_preference (key: rules:checkout_preference)
DEBUG Rule test_text_order_rule created, invalidating cache for checkout_preference
INFO Invalidated rules cache for entry point: checkout_preference (key: rules:checkout_preference)
.DEBUG Rule test_order_pref_rule created, invalidating cache for checkout_preference
INFO Invalidated rules cache for entry point: checkout_preference (key: rules:checkout_preference)
DEBUG Rule test_modal_order_rule created, invalidating cache for checkout_preference
INFO Invalidated rules cache for entry point: checkout_preference (key: rules:checkout_preference)
.DEBUG Rule test_order_pref_rule created, invalidating cache for checkout_preference
INFO Invalidated rules cache for entry point: checkout_preference (key: rules:checkout_preference)
DEBUG Rule test_not_submitted_rule created, invalidating cache for checkout_preference
INFO Invalidated rules cache for entry point: checkout_preference (key: rules:checkout_preference)
.DEBUG Rule test_order_pref_rule created, invalidating cache for checkout_preference
INFO Invalidated rules cache for entry point: checkout_preference (key: rules:checkout_preference)
.DEBUG Rule test_order_pref_rule created, invalidating cache for checkout_preference
INFO Invalidated rules cache for entry point: checkout_preference (key: rules:checkout_preference)
DEBUG Rule test_comm_rule created, invalidating cache for checkout_preference
INFO Invalidated rules cache for entry point: checkout_preference (key: rules:checkout_preference)
DEBUG Rule test_delivery_rule created, invalidating cache for checkout_preference
INFO Invalidated rules cache for entry point: checkout_preference (key: rules:checkout_preference)
DEBUG Rule test_custom_rule created, invalidating cache for checkout_preference
INFO Invalidated rules cache for entry point: checkout_preference (key: rules:checkout_preference)
.DEBUG Rule test_order_pref_rule created, invalidating cache for checkout_preference
INFO Invalidated rules cache for entry point: checkout_preference (key: rules:checkout_preference)
.DEBUG Rule test_order_pref_rule created, invalidating cache for checkout_preference
INFO Invalidated rules cache for entry point: checkout_preference (key: rules:checkout_preference)
.DEBUG CartItem 108 created - invalidating VAT cache for cart 116
DEBUG VAT cache invalidated for cart 116
EDEBUG CartItem 109 created - invalidating VAT cache for cart 117
DEBUG VAT cache invalidated for cart 117
EDEBUG CartItem 110 created - invalidating VAT cache for cart 118
DEBUG VAT cache invalidated for cart 118
DEBUG CartItem 110 deleted - invalidating VAT cache for cart 118
DEBUG VAT cache invalidated for cart 118
WARNING Bad Request: /api/cart/checkout/
.DEBUG CartItem 111 created - invalidating VAT cache for cart 119
DEBUG VAT cache invalidated for cart 119
EDEBUG CartItem 112 created - invalidating VAT cache for cart 120
DEBUG VAT cache invalidated for cart 120
WARNING Bad Request: /api/cart/checkout/
.DEBUG CartItem 113 created - invalidating VAT cache for cart 121
DEBUG VAT cache invalidated for cart 121
.DEBUG CartItem 114 created - invalidating VAT cache for cart 122
DEBUG VAT cache invalidated for cart 122
.DEBUG CartItem 115 created - invalidating VAT cache for cart 123
DEBUG VAT cache invalidated for cart 123
.DEBUG CartItem 116 created - invalidating VAT cache for cart 124
DEBUG VAT cache invalidated for cart 124
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 117 created - invalidating VAT cache for cart 131
DEBUG VAT cache invalidated for cart 131
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 118 created - invalidating VAT cache for cart 132
DEBUG VAT cache invalidated for cart 132
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 119 created - invalidating VAT cache for cart 133
DEBUG VAT cache invalidated for cart 133
DEBUG CartItem 120 created - invalidating VAT cache for cart 133
DEBUG VAT cache invalidated for cart 133
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
EWARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 121 created - invalidating VAT cache for cart 136
DEBUG VAT cache invalidated for cart 136
DEBUG CartItem 122 created - invalidating VAT cache for cart 136
DEBUG VAT cache invalidated for cart 136
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
EDEBUG CartItem 123 created - invalidating VAT cache for cart 137
DEBUG VAT cache invalidated for cart 137
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 124 created - invalidating VAT cache for cart 138
DEBUG VAT cache invalidated for cart 138
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
EDEBUG CartItem 125 created - invalidating VAT cache for cart 139
DEBUG VAT cache invalidated for cart 139
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
DEBUG CartItem 125 deleted - invalidating VAT cache for cart 139
DEBUG VAT cache invalidated for cart 139
DEBUG CartItem 126 created - invalidating VAT cache for cart 139
DEBUG VAT cache invalidated for cart 139
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
DEBUG CartItem 126 deleted - invalidating VAT cache for cart 139
DEBUG VAT cache invalidated for cart 139
DEBUG CartItem 127 created - invalidating VAT cache for cart 139
DEBUG VAT cache invalidated for cart 139
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
DEBUG CartItem 127 deleted - invalidating VAT cache for cart 139
DEBUG VAT cache invalidated for cart 139
DEBUG CartItem 128 created - invalidating VAT cache for cart 139
DEBUG VAT cache invalidated for cart 139
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
DEBUG CartItem 128 deleted - invalidating VAT cache for cart 139
DEBUG VAT cache invalidated for cart 139
DEBUG CartItem 129 created - invalidating VAT cache for cart 139
DEBUG VAT cache invalidated for cart 139
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
DEBUG CartItem 129 deleted - invalidating VAT cache for cart 139
DEBUG VAT cache invalidated for cart 139
.DEBUG CartItem 130 created - invalidating VAT cache for cart 140
DEBUG VAT cache invalidated for cart 140
DEBUG CartItem 130 deleted - invalidating VAT cache for cart 140
DEBUG VAT cache invalidated for cart 140
.DEBUG CartItem 131 created - invalidating VAT cache for cart 141
DEBUG VAT cache invalidated for cart 141
.DEBUG CartItem 132 created - invalidating VAT cache for cart 142
DEBUG VAT cache invalidated for cart 142
DEBUG CartItem 132 updated - invalidating VAT cache for cart 142
DEBUG VAT cache invalidated for cart 142
.DEBUG CartItem 133 created - invalidating VAT cache for cart 143
DEBUG VAT cache invalidated for cart 143
.DEBUG CartItem 134 created - invalidating VAT cache for cart 144
DEBUG VAT cache invalidated for cart 144
.DEBUG CartItem 135 created - invalidating VAT cache for cart 146
DEBUG VAT cache invalidated for cart 146
DEBUG CartItem 135 deleted - invalidating VAT cache for cart 146
DEBUG VAT cache invalidated for cart 146
.DEBUG CartItem 136 created - invalidating VAT cache for cart 147
DEBUG VAT cache invalidated for cart 147
DEBUG CartItem 137 created - invalidating VAT cache for cart 147
DEBUG VAT cache invalidated for cart 147
INFO Executing VAT calculation for cart 147 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 136, using default: Digital
DEBUG Processing cart item 136
WARNING No variation type found for cart item 137, using default: Digital
DEBUG Processing cart item 137
INFO Stored VAT result in cart 147
INFO Created VAT audit record for cart 147
.DEBUG CartItem 138 created - invalidating VAT cache for cart 148
DEBUG VAT cache invalidated for cart 148
INFO Executing VAT calculation for cart 148 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 138, using default: Digital
DEBUG Processing cart item 138
INFO Stored VAT result in cart 148
INFO Created VAT audit record for cart 148
.DEBUG CartItem 139 created - invalidating VAT cache for cart 149
DEBUG VAT cache invalidated for cart 149
DEBUG CartItem 140 created - invalidating VAT cache for cart 149
DEBUG VAT cache invalidated for cart 149
WARNING No variation type found for cart item 139, using default: Digital
WARNING No variation type found for cart item 140, using default: Digital
.DEBUG CartItem 141 created - invalidating VAT cache for cart 150
DEBUG VAT cache invalidated for cart 150
WARNING No variation type found for cart item 141, using default: Digital
.DEBUG CartItem 142 created - invalidating VAT cache for cart 151
DEBUG VAT cache invalidated for cart 151
INFO Executing VAT calculation for cart 151 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 142, using default: Digital
DEBUG Processing cart item 142
INFO Stored VAT result in cart 151
INFO Created VAT audit record for cart 151
.DEBUG CartItem 143 created - invalidating VAT cache for cart 152
DEBUG VAT cache invalidated for cart 152
INFO Executing VAT calculation for cart 152 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 143, using default: Digital
DEBUG Processing cart item 143
INFO Stored VAT result in cart 152
INFO Created VAT audit record for cart 152
.DEBUG CartItem 144 created - invalidating VAT cache for cart 153
DEBUG VAT cache invalidated for cart 153
INFO Executing VAT calculation for cart 153 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 144, using default: Digital
DEBUG Processing cart item 144
INFO Stored VAT result in cart 153
INFO Created VAT audit record for cart 153
.DEBUG CartItem 145 created - invalidating VAT cache for cart 154
DEBUG VAT cache invalidated for cart 154
INFO Executing VAT calculation for cart 154 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 145, using default: Digital
DEBUG Processing cart item 145
INFO Stored VAT result in cart 154
INFO Created VAT audit record for cart 154
.DEBUG CartItem 146 created - invalidating VAT cache for cart 155
DEBUG VAT cache invalidated for cart 155
INFO Executing VAT calculation for cart 155 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 146, using default: Digital
DEBUG Processing cart item 146
INFO Stored VAT result in cart 155
INFO Created VAT audit record for cart 155
.DEBUG CartItem 147 created - invalidating VAT cache for cart 156
DEBUG VAT cache invalidated for cart 156
INFO Executing VAT calculation for cart 156 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 147, using default: Digital
DEBUG Processing cart item 147
ERROR VAT calculation failed for cart 156: Rules Engine connection failed
.DEBUG CartItem 148 created - invalidating VAT cache for cart 157
DEBUG VAT cache invalidated for cart 157
INFO Executing VAT calculation for cart 157 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 148, using default: Digital
DEBUG Processing cart item 148
INFO Stored VAT result in cart 157
INFO Created VAT audit record for cart 157
.DEBUG CartItem 149 created - invalidating VAT cache for cart 158
DEBUG VAT cache invalidated for cart 158
DEBUG CartItem 150 created - invalidating VAT cache for cart 158
DEBUG VAT cache invalidated for cart 158
DEBUG CartItem 151 created - invalidating VAT cache for cart 158
DEBUG VAT cache invalidated for cart 158
DEBUG CartItem 152 created - invalidating VAT cache for cart 158
DEBUG VAT cache invalidated for cart 158
DEBUG CartItem 153 created - invalidating VAT cache for cart 158
DEBUG VAT cache invalidated for cart 158
INFO Executing VAT calculation for cart 158 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 149, using default: Digital
DEBUG Processing cart item 149
WARNING No variation type found for cart item 150, using default: Digital
DEBUG Processing cart item 150
WARNING No variation type found for cart item 151, using default: Digital
DEBUG Processing cart item 151
WARNING No variation type found for cart item 152, using default: Digital
DEBUG Processing cart item 152
WARNING No variation type found for cart item 153, using default: Digital
DEBUG Processing cart item 153
INFO Stored VAT result in cart 158
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
.[PASS] Regression baseline: 4.97ms
DEBUG CartItem 154 created - invalidating VAT cache for cart 159
DEBUG VAT cache invalidated for cart 159
INFO Executing VAT calculation for cart 159 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 154, using default: Digital
DEBUG Processing cart item 154
INFO Stored VAT result in cart 159
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
.[PASS] JSONB storage performance: 9.86ms
DEBUG CartItem 155 created - invalidating VAT cache for cart 160
DEBUG VAT cache invalidated for cart 160
DEBUG CartItem 156 created - invalidating VAT cache for cart 160
DEBUG VAT cache invalidated for cart 160
DEBUG CartItem 157 created - invalidating VAT cache for cart 160
DEBUG VAT cache invalidated for cart 160
DEBUG CartItem 158 created - invalidating VAT cache for cart 160
DEBUG VAT cache invalidated for cart 160
DEBUG CartItem 159 created - invalidating VAT cache for cart 160
DEBUG VAT cache invalidated for cart 160
DEBUG CartItem 160 created - invalidating VAT cache for cart 160
DEBUG VAT cache invalidated for cart 160
DEBUG CartItem 161 created - invalidating VAT cache for cart 160
DEBUG VAT cache invalidated for cart 160
DEBUG CartItem 162 created - invalidating VAT cache for cart 160
DEBUG VAT cache invalidated for cart 160
DEBUG CartItem 163 created - invalidating VAT cache for cart 160
DEBUG VAT cache invalidated for cart 160
DEBUG CartItem 164 created - invalidating VAT cache for cart 160
DEBUG VAT cache invalidated for cart 160
INFO Executing VAT calculation for cart 160 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 155, using default: Digital
DEBUG Processing cart item 155
WARNING No variation type found for cart item 156, using default: Digital
DEBUG Processing cart item 156
WARNING No variation type found for cart item 157, using default: Digital
DEBUG Processing cart item 157
WARNING No variation type found for cart item 158, using default: Digital
DEBUG Processing cart item 158
WARNING No variation type found for cart item 159, using default: Digital
DEBUG Processing cart item 159
WARNING No variation type found for cart item 160, using default: Digital
DEBUG Processing cart item 160
WARNING No variation type found for cart item 161, using default: Digital
DEBUG Processing cart item 161
WARNING No variation type found for cart item 162, using default: Digital
DEBUG Processing cart item 162
WARNING No variation type found for cart item 163, using default: Digital
DEBUG Processing cart item 163
WARNING No variation type found for cart item 164, using default: Digital
DEBUG Processing cart item 164
INFO Stored VAT result in cart 160
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
.[PASS] 10 item VAT calculation: 4.23ms
DEBUG CartItem 165 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 166 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 167 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 168 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 169 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 170 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 171 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 172 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 173 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 174 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 175 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 176 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 177 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 178 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 179 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 180 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 181 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 182 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 183 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 184 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 185 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 186 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 187 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 188 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 189 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 190 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 191 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 192 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 193 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 194 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 195 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 196 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 197 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 198 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 199 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 200 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 201 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 202 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 203 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 204 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 205 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 206 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 207 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 208 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 209 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 210 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 211 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 212 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 213 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
DEBUG CartItem 214 created - invalidating VAT cache for cart 161
DEBUG VAT cache invalidated for cart 161
INFO Executing VAT calculation for cart 161 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 165, using default: Digital
DEBUG Processing cart item 165
WARNING No variation type found for cart item 166, using default: Digital
DEBUG Processing cart item 166
WARNING No variation type found for cart item 167, using default: Digital
DEBUG Processing cart item 167
WARNING No variation type found for cart item 168, using default: Digital
DEBUG Processing cart item 168
WARNING No variation type found for cart item 169, using default: Digital
DEBUG Processing cart item 169
WARNING No variation type found for cart item 170, using default: Digital
DEBUG Processing cart item 170
WARNING No variation type found for cart item 171, using default: Digital
DEBUG Processing cart item 171
WARNING No variation type found for cart item 172, using default: Digital
DEBUG Processing cart item 172
WARNING No variation type found for cart item 173, using default: Digital
DEBUG Processing cart item 173
WARNING No variation type found for cart item 174, using default: Digital
DEBUG Processing cart item 174
WARNING No variation type found for cart item 175, using default: Digital
DEBUG Processing cart item 175
WARNING No variation type found for cart item 176, using default: Digital
DEBUG Processing cart item 176
WARNING No variation type found for cart item 177, using default: Digital
DEBUG Processing cart item 177
WARNING No variation type found for cart item 178, using default: Digital
DEBUG Processing cart item 178
WARNING No variation type found for cart item 179, using default: Digital
DEBUG Processing cart item 179
WARNING No variation type found for cart item 180, using default: Digital
DEBUG Processing cart item 180
WARNING No variation type found for cart item 181, using default: Digital
DEBUG Processing cart item 181
WARNING No variation type found for cart item 182, using default: Digital
DEBUG Processing cart item 182
WARNING No variation type found for cart item 183, using default: Digital
DEBUG Processing cart item 183
WARNING No variation type found for cart item 184, using default: Digital
DEBUG Processing cart item 184
WARNING No variation type found for cart item 185, using default: Digital
DEBUG Processing cart item 185
WARNING No variation type found for cart item 186, using default: Digital
DEBUG Processing cart item 186
WARNING No variation type found for cart item 187, using default: Digital
DEBUG Processing cart item 187
WARNING No variation type found for cart item 188, using default: Digital
DEBUG Processing cart item 188
WARNING No variation type found for cart item 189, using default: Digital
DEBUG Processing cart item 189
WARNING No variation type found for cart item 190, using default: Digital
DEBUG Processing cart item 190
WARNING No variation type found for cart item 191, using default: Digital
DEBUG Processing cart item 191
WARNING No variation type found for cart item 192, using default: Digital
DEBUG Processing cart item 192
WARNING No variation type found for cart item 193, using default: Digital
DEBUG Processing cart item 193
WARNING No variation type found for cart item 194, using default: Digital
DEBUG Processing cart item 194
WARNING No variation type found for cart item 195, using default: Digital
DEBUG Processing cart item 195
WARNING No variation type found for cart item 196, using default: Digital
DEBUG Processing cart item 196
WARNING No variation type found for cart item 197, using default: Digital
DEBUG Processing cart item 197
WARNING No variation type found for cart item 198, using default: Digital
DEBUG Processing cart item 198
WARNING No variation type found for cart item 199, using default: Digital
DEBUG Processing cart item 199
WARNING No variation type found for cart item 200, using default: Digital
DEBUG Processing cart item 200
WARNING No variation type found for cart item 201, using default: Digital
DEBUG Processing cart item 201
WARNING No variation type found for cart item 202, using default: Digital
DEBUG Processing cart item 202
WARNING No variation type found for cart item 203, using default: Digital
DEBUG Processing cart item 203
WARNING No variation type found for cart item 204, using default: Digital
DEBUG Processing cart item 204
WARNING No variation type found for cart item 205, using default: Digital
DEBUG Processing cart item 205
WARNING No variation type found for cart item 206, using default: Digital
DEBUG Processing cart item 206
WARNING No variation type found for cart item 207, using default: Digital
DEBUG Processing cart item 207
WARNING No variation type found for cart item 208, using default: Digital
DEBUG Processing cart item 208
WARNING No variation type found for cart item 209, using default: Digital
DEBUG Processing cart item 209
WARNING No variation type found for cart item 210, using default: Digital
DEBUG Processing cart item 210
WARNING No variation type found for cart item 211, using default: Digital
DEBUG Processing cart item 211
WARNING No variation type found for cart item 212, using default: Digital
DEBUG Processing cart item 212
WARNING No variation type found for cart item 213, using default: Digital
DEBUG Processing cart item 213
WARNING No variation type found for cart item 214, using default: Digital
DEBUG Processing cart item 214
INFO Stored VAT result in cart 161
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
.[WARN] 50 item VAT calculation: 8.95ms (edge case)
DEBUG CartItem 215 created - invalidating VAT cache for cart 162
DEBUG VAT cache invalidated for cart 162
DEBUG CartItem 216 created - invalidating VAT cache for cart 162
DEBUG VAT cache invalidated for cart 162
DEBUG CartItem 217 created - invalidating VAT cache for cart 162
DEBUG VAT cache invalidated for cart 162
DEBUG CartItem 218 created - invalidating VAT cache for cart 162
DEBUG VAT cache invalidated for cart 162
DEBUG CartItem 219 created - invalidating VAT cache for cart 162
DEBUG VAT cache invalidated for cart 162
INFO Executing VAT calculation for cart 162 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 215, using default: Digital
DEBUG Processing cart item 215
WARNING No variation type found for cart item 216, using default: Digital
DEBUG Processing cart item 216
WARNING No variation type found for cart item 217, using default: Digital
DEBUG Processing cart item 217
WARNING No variation type found for cart item 218, using default: Digital
DEBUG Processing cart item 218
WARNING No variation type found for cart item 219, using default: Digital
DEBUG Processing cart item 219
INFO Stored VAT result in cart 162
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
INFO Executing VAT calculation for cart 162 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 215, using default: Digital
DEBUG Processing cart item 215
WARNING No variation type found for cart item 216, using default: Digital
DEBUG Processing cart item 216
WARNING No variation type found for cart item 217, using default: Digital
DEBUG Processing cart item 217
WARNING No variation type found for cart item 218, using default: Digital
DEBUG Processing cart item 218
WARNING No variation type found for cart item 219, using default: Digital
DEBUG Processing cart item 219
INFO Stored VAT result in cart 162
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
INFO Executing VAT calculation for cart 162 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 215, using default: Digital
DEBUG Processing cart item 215
WARNING No variation type found for cart item 216, using default: Digital
DEBUG Processing cart item 216
WARNING No variation type found for cart item 217, using default: Digital
DEBUG Processing cart item 217
WARNING No variation type found for cart item 218, using default: Digital
DEBUG Processing cart item 218
WARNING No variation type found for cart item 219, using default: Digital
DEBUG Processing cart item 219
INFO Stored VAT result in cart 162
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
INFO Executing VAT calculation for cart 162 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 215, using default: Digital
DEBUG Processing cart item 215
WARNING No variation type found for cart item 216, using default: Digital
DEBUG Processing cart item 216
WARNING No variation type found for cart item 217, using default: Digital
DEBUG Processing cart item 217
WARNING No variation type found for cart item 218, using default: Digital
DEBUG Processing cart item 218
WARNING No variation type found for cart item 219, using default: Digital
DEBUG Processing cart item 219
INFO Stored VAT result in cart 162
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
INFO Executing VAT calculation for cart 162 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 215, using default: Digital
DEBUG Processing cart item 215
WARNING No variation type found for cart item 216, using default: Digital
DEBUG Processing cart item 216
WARNING No variation type found for cart item 217, using default: Digital
DEBUG Processing cart item 217
WARNING No variation type found for cart item 218, using default: Digital
DEBUG Processing cart item 218
WARNING No variation type found for cart item 219, using default: Digital
DEBUG Processing cart item 219
INFO Stored VAT result in cart 162
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
INFO Executing VAT calculation for cart 162 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 215, using default: Digital
DEBUG Processing cart item 215
WARNING No variation type found for cart item 216, using default: Digital
DEBUG Processing cart item 216
WARNING No variation type found for cart item 217, using default: Digital
DEBUG Processing cart item 217
WARNING No variation type found for cart item 218, using default: Digital
DEBUG Processing cart item 218
WARNING No variation type found for cart item 219, using default: Digital
DEBUG Processing cart item 219
INFO Stored VAT result in cart 162
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
INFO Executing VAT calculation for cart 162 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 215, using default: Digital
DEBUG Processing cart item 215
WARNING No variation type found for cart item 216, using default: Digital
DEBUG Processing cart item 216
WARNING No variation type found for cart item 217, using default: Digital
DEBUG Processing cart item 217
WARNING No variation type found for cart item 218, using default: Digital
DEBUG Processing cart item 218
WARNING No variation type found for cart item 219, using default: Digital
DEBUG Processing cart item 219
INFO Stored VAT result in cart 162
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
INFO Executing VAT calculation for cart 162 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 215, using default: Digital
DEBUG Processing cart item 215
WARNING No variation type found for cart item 216, using default: Digital
DEBUG Processing cart item 216
WARNING No variation type found for cart item 217, using default: Digital
DEBUG Processing cart item 217
WARNING No variation type found for cart item 218, using default: Digital
DEBUG Processing cart item 218
WARNING No variation type found for cart item 219, using default: Digital
DEBUG Processing cart item 219
INFO Stored VAT result in cart 162
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
INFO Executing VAT calculation for cart 162 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 215, using default: Digital
DEBUG Processing cart item 215
WARNING No variation type found for cart item 216, using default: Digital
DEBUG Processing cart item 216
WARNING No variation type found for cart item 217, using default: Digital
DEBUG Processing cart item 217
WARNING No variation type found for cart item 218, using default: Digital
DEBUG Processing cart item 218
WARNING No variation type found for cart item 219, using default: Digital
DEBUG Processing cart item 219
INFO Stored VAT result in cart 162
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
INFO Executing VAT calculation for cart 162 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 215, using default: Digital
DEBUG Processing cart item 215
WARNING No variation type found for cart item 216, using default: Digital
DEBUG Processing cart item 216
WARNING No variation type found for cart item 217, using default: Digital
DEBUG Processing cart item 217
WARNING No variation type found for cart item 218, using default: Digital
DEBUG Processing cart item 218
WARNING No variation type found for cart item 219, using default: Digital
DEBUG Processing cart item 219
INFO Stored VAT result in cart 162
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
.
[BENCHMARK] VAT Calculation Benchmark (10 runs):
   Average:  3.52ms
   Min:      2.40ms
   Max:      7.34ms
   P99:      7.34ms
DEBUG CartItem 220 created - invalidating VAT cache for cart 163
DEBUG VAT cache invalidated for cart 163
DEBUG CartItem 221 created - invalidating VAT cache for cart 163
DEBUG VAT cache invalidated for cart 163
DEBUG CartItem 222 created - invalidating VAT cache for cart 163
DEBUG VAT cache invalidated for cart 163
DEBUG CartItem 223 created - invalidating VAT cache for cart 163
DEBUG VAT cache invalidated for cart 163
DEBUG CartItem 224 created - invalidating VAT cache for cart 163
DEBUG VAT cache invalidated for cart 163
INFO Executing VAT calculation for cart 163 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 220, using default: Digital
DEBUG Processing cart item 220
WARNING No variation type found for cart item 221, using default: Digital
DEBUG Processing cart item 221
WARNING No variation type found for cart item 222, using default: Digital
DEBUG Processing cart item 222
WARNING No variation type found for cart item 223, using default: Digital
DEBUG Processing cart item 223
WARNING No variation type found for cart item 224, using default: Digital
DEBUG Processing cart item 224
INFO Stored VAT result in cart 163
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
.[PASS] Mixed quantity VAT calculation: 4.90ms
DEBUG CartItem 225 created - invalidating VAT cache for cart 164
DEBUG VAT cache invalidated for cart 164
INFO Executing VAT calculation for cart 164 at entry point 'cart_calculate_vat'
WARNING No variation type found for cart item 225, using default: Digital
DEBUG Processing cart item 225
INFO Stored VAT result in cart 164
ERROR Failed to create VAT audit record: 'str' object has no attribute 'get'
.............................................................................................[PASS] Single item VAT calculation: 3.32ms
WARNING Forbidden: /api/catalog/exam-sessions/
....WARNING Forbidden: /api/catalog/products/
....WARNING Unauthorized: /api/catalog/subjects/
.WARNING Forbidden: /api/catalog/subjects/
.WARNING Forbidden: /api/catalog/subjects/80/
...WARNING Forbidden: /api/catalog/subjects/89/
.................................ERROR Internal Server Error: /api/catalog/advanced-search/
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: function similarity(character varying, unknown) does not exist
LINE 1: ...active", "acted"."catalog_products"."buy_both", ((SIMILARITY...
                                                             ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/views/navigation_views.py", line 413, in advanced_product_search
    'results': ProductSerializer(products, many=True).data,
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 797, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 716, in to_representation
    self.child.to_representation(item) for item in iterable
                                                   ^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 384, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1949, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1623, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: function similarity(character varying, unknown) does not exist
LINE 1: ...active", "acted"."catalog_products"."buy_both", ((SIMILARITY...
                                                             ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.

EWARNING Method Not Allowed: /api/catalog/bundles/
...WARNING Forbidden: /api/catalog/exam-sessions/
......ERROR Internal Server Error: /api/catalog/search/
F.ERROR Internal Server Error: /api/catalog/search/
FERROR Internal Server Error: /api/catalog/search/
FERROR Internal Server Error: /api/catalog/search/
F....WARNING Forbidden: /api/catalog/products/
............WARNING Forbidden: /api/catalog/subjects/
..WARNING Forbidden: /api/catalog/subjects/276/
.......WARNING Forbidden: /api/catalog/subjects/298/
..WARNING Bad Request: /api/auth/activate/
.WARNING Bad Request: /api/auth/activate/
.....ERROR Account activation failed: Unexpected error
ERROR Internal Server Error: /api/auth/activate/
..ERROR Error sending password reset completion email to testuser@example.com: Email service crashed
.WARNING Failed to queue password reset completion email for user testuser@example.com
.ERROR Error during password reset confirmation: Unexpected error
ERROR Internal Server Error: /api/auth/password_reset_confirm/
..WARNING Bad Request: /api/auth/send_activation/
..WARNING Bad Request: /api/auth/send_email_verification/
.WARNING Could not update UserProfile for testuser: Profile database error
..WARNING Bad Request: /api/auth/activate/
.WARNING Invalid password reset attempt with uid: invalid_uid_format!!!
WARNING Bad Request: /api/auth/password_reset_confirm/
.ERROR Error during password reset request: Database connection lost
ERROR Internal Server Error: /api/auth/password_reset_request/
.ERROR Failed to queue password reset email for user testuser@example.com
ERROR Internal Server Error: /api/auth/password_reset_request/
.WARNING Bad Request: /api/auth/password_reset_request/
.WARNING reCAPTCHA verification failed for password reset: Low score
WARNING Bad Request: /api/auth/password_reset_request/
.ERROR Failed to send account activation email to: testuser@example.com
ERROR Internal Server Error: /api/auth/send_activation/
.ERROR Send account activation failed: Database error
ERROR Internal Server Error: /api/auth/send_activation/
.ERROR Failed to send email verification to: newemail@example.com for user: testuser@example.com
ERROR Internal Server Error: /api/auth/send_email_verification/
.ERROR Send email verification failed: Token generation failed
ERROR Internal Server Error: /api/auth/send_email_verification/
.ERROR Email verification failed: Database connection lost
ERROR Internal Server Error: /api/auth/verify_email/
.WARNING Invalid verification link with uid: malformed_uid!!!
WARNING Bad Request: /api/auth/verify_email/
...WARNING Bad Request: /api/auth/send_email_verification/
.ERROR Send email verification failed: 'AnonymousUser' object has no attribute 'last_login'
ERROR Internal Server Error: /api/auth/send_email_verification/
.WARNING Email verification failed - taken@example.com already in use
WARNING Bad Request: /api/auth/verify_email/
.WARNING Token validation failed for user testuser with token invalid_to...
WARNING Bad Request: /api/auth/verify_email/
.WARNING Bad Request: /api/auth/verify_email/
..WARNING Unauthorized: /api/auth/login/
.WARNING Unauthorized: /api/auth/login/
.WARNING Unauthorized: /api/auth/login/
.....WARNING Invalid or expired token used for password reset: user testuser@example.com
WARNING Bad Request: /api/auth/password_reset_confirm/
.WARNING Bad Request: /api/auth/password_reset_confirm/
..WARNING Bad Request: /api/auth/password_reset_request/
.WARNING Password reset requested for non-existent email: nonexistent@example.com
.WARNING Bad Request: /api/auth/register/
.WARNING Account activation email failed to send to emailfail@example.com for user emailfail
.WARNING Bad Request: /api/auth/register/
..WARNING Unauthorized: /api/auth/refresh/
.........................WARNING Bad Request: /api/exam-sessions/
.WARNING Unauthorized: /api/exam-sessions/
..WARNING Unauthorized: /api/exam-sessions/237/
.......WARNING Not Found: /api/exam-sessions/999999/
....WARNING Unauthorized: /api/exam-sessions/258/
...................ERROR Error finding bundles containing filtered products: Unsupported lookup 'product_id__in' for ForeignKey or join on the field not permitted.
.ERROR Error finding bundles containing filtered products: Unsupported lookup 'product_id__in' for ForeignKey or join on the field not permitted.
.ERROR Error finding bundles containing filtered products: Unsupported lookup 'product_id__in' for ForeignKey or join on the field not permitted.
.ERROR Error finding bundles containing filtered products: Unsupported lookup 'product_id__in' for ForeignKey or join on the field not permitted.
.DEBUG [SEARCH] Received filters: {}
DEBUG [SEARCH] Products filter: NOT SET
INFO ðŸ” [SEARCH-START] Query: "bundle" | Min score: 60 | Limit: 1000
INFO ================================================================================
INFO ================================================================================
INFO ðŸŽ¯ [SEARCH-RESULTS] Query: "bundle"
INFO    Total scanned: 3 | Matches found: 0 | Returned: 0
INFO    No products matched the query (min_score: 60)
INFO ================================================================================

DEBUG [FUZZY-SEARCH] Query: "bundle" found 0 matches
DEBUG [BUNDLES] Bundle keyword detected in search query "bundle" - showing all bundles
DEBUG [BUNDLES] Bundle keyword search - showing all subject-filtered bundles
INFO Unified Product Search - Duration: 0.042s, Queries: 0
.DEBUG [SEARCH] Received filters: {'categories': ['Tutorial']}
DEBUG [SEARCH] Products filter: NOT SET
DEBUG [BUNDLES] Content-based filtering: 1 matching products -> 1 bundles
DEBUG [BUNDLES] Content-based filtering applied - 1 matching products
INFO Unified Product Search - Duration: 0.020s, Queries: 0
.DEBUG [SEARCH] Received filters: {}
DEBUG [SEARCH] Products filter: NOT SET
INFO ðŸ” [SEARCH-START] Query: "marking voucher" | Min score: 60 | Limit: 1000
INFO ================================================================================
INFO ================================================================================
INFO ðŸŽ¯ [SEARCH-RESULTS] Query: "marking voucher"
INFO    Total scanned: 3 | Matches found: 0 | Returned: 0
INFO    No products matched the query (min_score: 60)
INFO ================================================================================

DEBUG [FUZZY-SEARCH] Query: "marking voucher" found 0 matches
DEBUG [BUNDLES] Fuzzy search returned no results - excluding all bundles
INFO Unified Product Search - Duration: 0.012s, Queries: 0
.DEBUG [SEARCH] Received filters: {'subjects': ['CM2'], 'categories': ['Core Study Materials']}
DEBUG [SEARCH] Products filter: NOT SET
DEBUG [BUNDLES] Content-based filtering: 1 matching products -> 1 bundles
DEBUG [BUNDLES] Content-based filtering applied - 1 matching products
INFO Unified Product Search - Duration: 0.021s, Queries: 0
.DEBUG [SEARCH] Received filters: {'categories': ['Core Study Materials']}
DEBUG [SEARCH] Products filter: NOT SET
DEBUG [BUNDLES] Content-based filtering: 2 matching products -> 2 bundles
DEBUG [BUNDLES] Content-based filtering applied - 2 matching products
INFO Unified Product Search - Duration: 0.026s, Queries: 0
.DEBUG [SEARCH] Received filters: {}
DEBUG [SEARCH] Products filter: NOT SET
INFO ðŸ” [SEARCH-START] Query: "core reading" | Min score: 60 | Limit: 1000
INFO ================================================================================
INFO ================================================================================
INFO ðŸŽ¯ [SEARCH-RESULTS] Query: "core reading"
INFO    Total scanned: 3 | Matches found: 1 | Returned: 1
INFO 
   Top 1 Results:
INFO     1. Score: 100 | [CM2 ] Core Reading
INFO        Algorithms: token_sort=100, partial=100, token_set=100
INFO ================================================================================

DEBUG [FUZZY-SEARCH] Query: "Core Reading" found 1 matches
DEBUG [BUNDLES] Content-based filtering: 1 matching products -> 1 bundles
DEBUG [BUNDLES] Content-based filtering applied - 1 matching products
DEBUG [SEARCH] Preserving fuzzy relevance order for 1 products
INFO Unified Product Search - Duration: 0.021s, Queries: 0
.DEBUG [SEARCH] Received filters: {}
DEBUG [SEARCH] Products filter: NOT SET
INFO Unified Product Search - Duration: 0.016s, Queries: 0
.DEBUG [SEARCH] Received filters: {'categories': ['Marking']}
DEBUG [SEARCH] Products filter: NOT SET
DEBUG [BUNDLES] No matching products - excluding all bundles
INFO Unified Product Search - Duration: 0.015s, Queries: 0
.DEBUG [SEARCH] Received filters: {'categories': ['Marking']}
DEBUG [SEARCH] Products filter: NOT SET
INFO Unified Product Search - Duration: 0.001s, Queries: 0
.DEBUG [SEARCH] Received filters: {}
DEBUG [SEARCH] Products filter: NOT SET
INFO Unified Product Search - Duration: 0.000s, Queries: 0
FDEBUG [SEARCH] Received filters: {'subjects': ['CM2']}
DEBUG [SEARCH] Products filter: NOT SET
DEBUG [BUNDLES] No matching products - excluding all bundles
INFO Unified Product Search - Duration: 0.005s, Queries: 0
.DEBUG [SEARCH] Received filters: {'categories': ['Marking']}
DEBUG [SEARCH] Products filter: NOT SET
INFO Unified Product Search - Duration: 0.000s, Queries: 0
./Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/fields/__init__.py:1612: RuntimeWarning: DateTimeField ExamSession.start_date received a naive datetime (2026-01-08 00:00:00) while time zone support is active.
  warnings.warn(
/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/fields/__init__.py:1612: RuntimeWarning: DateTimeField ExamSession.end_date received a naive datetime (2026-01-08 00:00:00) while time zone support is active.
  warnings.warn(
DEBUG [SEARCH] Received filters: {}
DEBUG [SEARCH] Products filter: NOT SET
INFO Unified Product Search - Duration: 0.018s, Queries: 0
.DEBUG [SEARCH] Received filters: {}
DEBUG [SEARCH] Products filter: NOT SET
INFO Unified Product Search - Duration: 0.000s, Queries: 0
.DEBUG [SEARCH] Received filters: {}
DEBUG [SEARCH] Products filter: NOT SET
INFO Unified Product Search - Duration: 0.000s, Queries: 0
./Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/fields/__init__.py:1671: RuntimeWarning: DateTimeField ExamSession.start_date received a naive datetime (2024-01-01 00:00:00) while time zone support is active.
  warnings.warn(
/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/fields/__init__.py:1671: RuntimeWarning: DateTimeField ExamSession.end_date received a naive datetime (2024-12-31 00:00:00) while time zone support is active.
  warnings.warn(
DEBUG [SEARCH] Received filters: {'subjects': ['CM2']}
DEBUG [SEARCH] Products filter: NOT SET
INFO Unified Product Search - Duration: 0.000s, Queries: 0
.DEBUG [SEARCH] Received filters: {'subjects': ['CM2']}
DEBUG [SEARCH] Products filter: NOT SET
INFO Unified Product Search - Duration: 0.000s, Queries: 0
DEBUG [SEARCH] Received filters: {'subjects': ['CM2']}
DEBUG [SEARCH] Products filter: NOT SET
INFO Unified Product Search - Duration: 0.000s, Queries: 0
.DEBUG [SEARCH] Received filters: {}
DEBUG [SEARCH] Products filter: NOT SET
INFO Unified Product Search - Duration: 0.009s, Queries: 0
.DEBUG [SEARCH] Received filters: {}
DEBUG [SEARCH] Products filter: NOT SET
INFO Unified Product Search - Duration: 0.000s, Queries: 0
.ERROR ðŸ” [UNIFIED-SEARCH-V3] Invalid request: {'filters': [ErrorDetail(string='Invalid filter type: invalid_filter. Valid types: subjects, categories, product_types, products, essp_ids, product_ids, modes_of_delivery', code='invalid')]}
INFO Unified Product Search - Duration: 0.000s, Queries: 0
WARNING Bad Request: /api/exam-sessions-subjects-products/search/
.ERROR ðŸ” [UNIFIED-SEARCH-V3] Invalid request: {'pagination': [ErrorDetail(string='page must be a positive integer', code='invalid')]}
INFO Unified Product Search - Duration: 0.000s, Queries: 0
WARNING Bad Request: /api/exam-sessions-subjects-products/search/
.DEBUG [SEARCH] Received filters: {'subjects': ['CM2'], 'categories': ['Materials']}
DEBUG [SEARCH] Products filter: NOT SET
DEBUG [BUNDLES] No matching products - excluding all bundles
INFO Unified Product Search - Duration: 0.008s, Queries: 0
F.................WARNING Bad Request: /api/markings/papers/bulk-deadlines/
.WARNING Bad Request: /api/markings/papers/bulk-deadlines/
...WARNING Bad Request: /api/markings/papers/bulk-deadlines/
..WARNING Not Found: /api/markings/papers/deadlines/
...WARNING Bad Request: /api/markings/papers/deadlines/
../Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/pagination.py:207: UnorderedObjectListWarning: Pagination may yield inconsistent results with an unordered object_list: <class 'marking.models.marking_paper.MarkingPaper'> QuerySet.
  paginator = self.django_paginator_class(queryset, page_size)
..WARNING Method Not Allowed: /api/markings/papers/
.WARNING Method Not Allowed: /api/markings/papers/64/
.WARNING Method Not Allowed: /api/markings/papers/67/
...................................DEBUG Rule test_pref_newsletter created, invalidating cache for user_preferences
INFO Invalidated rules cache for entry point: user_preferences (key: rules:user_preferences)
.DEBUG Rule test_aset_warning_rule created, invalidating cache for checkout_start
INFO Invalidated rules cache for entry point: checkout_start (key: rules:checkout_start)
DEBUG Cache miss for rules:checkout_start
DEBUG Cached 1 rules for checkout_start
DEBUG  Schema validation passed for checkout_context_test
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'test_aset_warning_rule' condition not matched
FDEBUG Cache hit for rules:checkout_start: 1 rules
DEBUG  Schema validation passed for checkout_context_test
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'test_aset_warning_rule' condition not matched
FDEBUG Cache hit for rules:checkout_start: 1 rules
DEBUG  Schema validation passed for checkout_context_test
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1767892100_e8e2fdb6
.DEBUG Cache hit for rules:checkout_start: 1 rules
DEBUG  Schema validation passed for checkout_context_test
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1767892100_fc2886d1
.DEBUG Cache hit for rules:checkout_start: 1 rules
DEBUG  Schema validation passed for checkout_context_test
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1767892100_107c9c27
.DEBUG Rule admin_test_rule_1 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule admin_test_rule_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
..DEBUG Rule test_rule_create created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule test_rule_delete created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule test_rule_delete deleted, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
.DEBUG Rule test_rule_update created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule test_rule_update updated, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule test_rule_spaces created, invalidating cache for home page mount
INFO Invalidated rules cache for entry point: home page mount (key: rules:home_page_mount)
DEBUG Rule test_rule_spaces_2 created, invalidating cache for home page mount
INFO Invalidated rules cache for entry point: home page mount (key: rules:home_page_mount)
.DEBUG Rule cmd_test_rule_1 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cmd_test_rule_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cmd_test_rule_3 created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
...DEBUG Rule calculate_vat created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_ie created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_eu created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_sa created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_row created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk_digital_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk_printed_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk_flash_card created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk_pbor created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk_marking created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_ie_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_eu_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_sa_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_row_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Cache miss for rules:cart_calculate_vat
DEBUG Cached 15 rules for cart_calculate_vat
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.region = UK
DEBUG Stored execution record: exec_1767892101_3438942d
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.rate = 0.20
DEBUG Stored execution record: exec_1767892101_168b5564
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_marking' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_printed_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.amount = 10.00
DEBUG Stored function result in context: cart_item.vat_amount = 10.00
DEBUG Stored function result in context: cart_item.gross_amount = 60.00
DEBUG Stored execution record: exec_1767892101_f599b34c
..DEBUG Cache hit for rules:cart_calculate_vat: 15 rules
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
WARNING Country not found: XX
DEBUG Stored function result in context: vat.region = ROW
DEBUG Stored execution record: exec_1767892101_cc3e5fc3
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
WARNING Country not found: XX
DEBUG Stored function result in context: vat.rate = 0.00
DEBUG Stored execution record: exec_1767892101_e9e0f266
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.amount = 0.00
DEBUG Stored function result in context: cart_item.vat_amount = 0.00
DEBUG Stored function result in context: cart_item.gross_amount = 100.00
DEBUG Stored execution record: exec_1767892101_06feb334
.DEBUG Rule calculate_vat created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_ie created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_eu created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_sa created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_row created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk_digital_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk_printed_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk_flash_card created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk_pbor created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk_marking created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_ie_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_eu_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_sa_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_row_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Cache miss for rules:cart_calculate_vat
DEBUG Cached 15 rules for cart_calculate_vat
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.region = EU
DEBUG Stored execution record: exec_1767892101_5d52a840
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.rate = 0.20
DEBUG Stored execution record: exec_1767892101_485f2eb7
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.amount = 40.00
DEBUG Stored function result in context: cart_item.vat_amount = 40.00
DEBUG Stored function result in context: cart_item.gross_amount = 240.00
DEBUG Stored execution record: exec_1767892101_20902751
.DEBUG Cache hit for rules:cart_calculate_vat: 15 rules
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.region = IE
DEBUG Stored execution record: exec_1767892101_f1f4d70b
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.rate = 0.23
DEBUG Stored execution record: exec_1767892101_c2a5a88e
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.amount = 23.00
DEBUG Stored function result in context: cart_item.vat_amount = 23.00
DEBUG Stored function result in context: cart_item.gross_amount = 123.00
DEBUG Stored execution record: exec_1767892101_289de99a
...DEBUG Cache hit for rules:cart_calculate_vat: 15 rules
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
WARNING Country not found: XX
DEBUG Stored function result in context: vat.region = ROW
DEBUG Stored execution record: exec_1767892101_54384e18
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
WARNING Country not found: XX
DEBUG Stored function result in context: vat.rate = 0.00
DEBUG Stored execution record: exec_1767892101_dd465c39
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.amount = 0.00
DEBUG Stored function result in context: cart_item.vat_amount = 0.00
DEBUG Stored function result in context: cart_item.gross_amount = 100.00
DEBUG Stored execution record: exec_1767892101_a6c0a824
.DEBUG Cache hit for rules:cart_calculate_vat: 15 rules
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.region = SA
DEBUG Stored execution record: exec_1767892101_fbf48f77
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.rate = 0.15
DEBUG Stored execution record: exec_1767892101_dc04f126
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.amount = 75.00
DEBUG Stored function result in context: cart_item.vat_amount = 75.00
DEBUG Stored function result in context: cart_item.gross_amount = 575.00
DEBUG Stored execution record: exec_1767892101_92e93fee
.DEBUG Cache hit for rules:cart_calculate_vat: 15 rules
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.region = UK
DEBUG Stored execution record: exec_1767892101_2f916939
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.rate = 0.20
DEBUG Stored execution record: exec_1767892101_86effb14
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_marking' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_printed_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.amount = 10.00
DEBUG Stored function result in context: cart_item.vat_amount = 10.00
DEBUG Stored function result in context: cart_item.gross_amount = 60.00
DEBUG Stored execution record: exec_1767892101_aaa9d380
.DEBUG Cache hit for rules:cart_calculate_vat: 15 rules
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.region = UK
DEBUG Stored execution record: exec_1767892101_88ee1bfa
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.rate = 0.20
DEBUG Stored execution record: exec_1767892101_332b67b6
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_marking' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_printed_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_digital_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_pbor' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: vat.rate = 0.0
DEBUG Stored function result in context: vat.amount = 0.00
DEBUG Stored function result in context: cart_item.vat_amount = 0.00
DEBUG Stored function result in context: cart_item.gross_amount = 30.00
DEBUG Updated context: vat.rate = 0.0
DEBUG Stored execution record: exec_1767892101_e5e4c306
FDEBUG Cache hit for rules:cart_calculate_vat: 15 rules
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.region = UK
DEBUG Stored execution record: exec_1767892101_f7e56cdc
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.rate = 0.20
DEBUG Stored execution record: exec_1767892101_d6d0e79e
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_marking' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_printed_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_digital_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: vat.rate = 0.0
DEBUG Stored function result in context: vat.amount = 0.00
DEBUG Stored function result in context: cart_item.vat_amount = 0.00
DEBUG Stored function result in context: cart_item.gross_amount = 75.00
DEBUG Updated context: vat.rate = 0.0
DEBUG Stored execution record: exec_1767892101_4db46076
FDEBUG Cache hit for rules:cart_calculate_vat: 15 rules
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.region = UK
DEBUG Stored execution record: exec_1767892101_f8470208
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.rate = 0.20
DEBUG Stored execution record: exec_1767892101_d69991d9
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_marking' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: vat.rate = 0.0
DEBUG Stored function result in context: vat.amount = 0.00
DEBUG Stored function result in context: cart_item.vat_amount = 0.00
DEBUG Stored function result in context: cart_item.gross_amount = 100.00
DEBUG Updated context: vat.rate = 0.0
DEBUG Stored execution record: exec_1767892101_f8bcfacf
FDEBUG Rule calculate_vat created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_ie created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_eu created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_sa created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_row created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk_digital_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk_printed_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk_flash_card created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk_pbor created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk_marking created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_ie_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_eu_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_sa_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_row_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Cache miss for rules:cart_calculate_vat
DEBUG Cached 15 rules for cart_calculate_vat
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.region = EU
DEBUG Stored execution record: exec_1767892101_addd5edb
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.rate = 0.20
DEBUG Stored execution record: exec_1767892101_49a42c28
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.amount = 20.00
DEBUG Stored function result in context: cart_item.vat_amount = 20.00
DEBUG Stored function result in context: cart_item.gross_amount = 120.00
DEBUG Stored execution record: exec_1767892101_f36cbf14
.DEBUG Cache hit for rules:cart_calculate_vat: 15 rules
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.region = IE
DEBUG Stored execution record: exec_1767892101_348029e1
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.rate = 0.23
DEBUG Stored execution record: exec_1767892101_72086ad3
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.amount = 23.00
DEBUG Stored function result in context: cart_item.vat_amount = 23.00
DEBUG Stored function result in context: cart_item.gross_amount = 123.00
DEBUG Stored execution record: exec_1767892101_385e4a23
.DEBUG Cache hit for rules:cart_calculate_vat: 15 rules
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.region = UK
DEBUG Stored execution record: exec_1767892101_ff24380c
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.rate = 0.20
DEBUG Stored execution record: exec_1767892101_34044469
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_marking' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_printed_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.amount = 20.00
DEBUG Stored function result in context: cart_item.vat_amount = 20.00
DEBUG Stored function result in context: cart_item.gross_amount = 120.00
DEBUG Stored execution record: exec_1767892102_8ce908fd
.DEBUG Cache hit for rules:cart_calculate_vat: 15 rules
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.region = UK
DEBUG Stored execution record: exec_1767892102_44679773
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.rate = 0.20
DEBUG Stored execution record: exec_1767892102_d147c202
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_marking' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_printed_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.amount = 20.00
DEBUG Stored function result in context: cart_item.vat_amount = 20.00
DEBUG Stored function result in context: cart_item.gross_amount = 120.00
DEBUG Stored execution record: exec_1767892102_c59dca23
..DEBUG Cache hit for rules:cart_calculate_vat: 15 rules
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
WARNING Country not found: XX
DEBUG Stored function result in context: vat.region = ROW
DEBUG Stored execution record: exec_1767892102_abd732b5
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
WARNING Country not found: XX
DEBUG Stored function result in context: vat.rate = 0.00
DEBUG Stored execution record: exec_1767892102_7d8e7bbd
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.amount = 0.00
DEBUG Stored function result in context: cart_item.vat_amount = 0.00
DEBUG Stored function result in context: cart_item.gross_amount = 100.00
DEBUG Stored execution record: exec_1767892102_52503ab4
.DEBUG Cache hit for rules:cart_calculate_vat: 15 rules
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.region = SA
DEBUG Stored execution record: exec_1767892102_1bafe317
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.rate = 0.15
DEBUG Stored execution record: exec_1767892102_031b1ebf
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.amount = 75.00
DEBUG Stored function result in context: cart_item.vat_amount = 75.00
DEBUG Stored function result in context: cart_item.gross_amount = 575.00
DEBUG Stored execution record: exec_1767892102_519c66a7
.DEBUG Cache hit for rules:cart_calculate_vat: 15 rules
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.region = UK
DEBUG Stored execution record: exec_1767892102_c2d78255
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.rate = 0.20
DEBUG Stored execution record: exec_1767892102_435dad89
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_marking' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_printed_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.amount = 20.00
DEBUG Stored function result in context: cart_item.vat_amount = 20.00
DEBUG Stored function result in context: cart_item.gross_amount = 120.00
DEBUG Stored execution record: exec_1767892102_b53ca63b
........EE..FF..DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG Rule minimal_test created, invalidating cache for test
INFO Invalidated rules cache for entry point: test (key: rules:test)
..FDEBUG Rule test_schema_validation_rule created, invalidating cache for checkout_start
INFO Invalidated rules cache for entry point: checkout_start (key: rules:checkout_start)
DEBUG Cache miss for rules:checkout_start
DEBUG Cached 1 rules for checkout_start
WARNING  Schema validation failed for test_schema_validation: 'email' is a required property
DEBUG Validation error path: user
WARNING Context validation failed for rule test_schema_validation_rule
ERROR Schema validation errors for entry point 'checkout_start': 1 errors
WARNING Schema validation errors for 'checkout_start': 1 errors
WARNING Bad Request: /api/rules/engine/execute/
FDEBUG Rule test_schema_validation_rule created, invalidating cache for checkout_start
INFO Invalidated rules cache for entry point: checkout_start (key: rules:checkout_start)
EDEBUG Rule test_schema_validation_rule created, invalidating cache for checkout_start
INFO Invalidated rules cache for entry point: checkout_start (key: rules:checkout_start)
DEBUG Cache miss for rules:checkout_start
DEBUG Cached 1 rules for checkout_start
WARNING  Schema validation failed for test_schema_validation: 'cart' is a required property
DEBUG Validation error path: root
WARNING Context validation failed for rule test_schema_validation_rule
ERROR Schema validation errors for entry point 'checkout_start': 1 errors
WARNING Schema validation errors for 'checkout_start': 1 errors
WARNING Bad Request: /api/rules/engine/execute/
FDEBUG Rule test_schema_validation_rule created, invalidating cache for checkout_start
INFO Invalidated rules cache for entry point: checkout_start (key: rules:checkout_start)
DEBUG Cache miss for rules:checkout_start
DEBUG Cached 1 rules for checkout_start
DEBUG  Schema validation passed for test_schema_validation
DEBUG Always-true condition evaluated to True
DEBUG Stored execution record: exec_1767892103_2497b909
..DEBUG Rule rule_checkout_terms_1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule rule_checkout_terms_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule rule_home_page_1 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
..DEBUG Rule rule_high_priority created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule rule_low_priority created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule rule_medium_priority created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.....DEBUG Rule rule_checkout_1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
................DEBUG Rule test_json_serialization created, invalidating cache for test
INFO Invalidated rules cache for entry point: test (key: rules:test)
.........DEBUG Rule active_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule inactive_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule high_priority_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule medium_priority_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule low_priority_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
..DEBUG Rule future_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule expired_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule current_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule context_validation_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule performance_rule_0 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_3 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_4 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_5 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_6 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_7 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_8 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_9 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
FDEBUG Rule stop_processing_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule later_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule integration_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule versioned_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule versioned_rule_v2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
...DEBUG Rule display_message_rule created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule display_modal_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule multiple_actions_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule custom_function_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule update_field_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule ack_checked_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule ack_required_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule preference_optional_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule execution_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule execution_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule error_execution_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule execution_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule execution_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule execution_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule execution_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule second_execution_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule third_execution_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule execution_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule checkout_discount_rule created, invalidating cache for checkout_start
INFO Invalidated rules cache for entry point: checkout_start (key: rules:checkout_start)
DEBUG Rule checkout_discount_banner created, invalidating cache for checkout_start
INFO Invalidated rules cache for entry point: checkout_start (key: rules:checkout_start)
DEBUG Rule checkout_terms_validation created, invalidating cache for checkout_start
INFO Invalidated rules cache for entry point: checkout_start (key: rules:checkout_start)
DEBUG Cache miss for rules:checkout_start
DEBUG Cached 3 rules for checkout_start
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1767892103_5070fa20
FDEBUG Rule eu_checkout_terms_given_test2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1767892104_f88a4b1f
.DEBUG Rule eu_checkout_terms_required_test1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1767892104_c531d674
.DEBUG Rule homepage_newsletter_preference created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache miss for rules:home_page_mount
DEBUG Cached 1 rules for home_page_mount
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1767892104_2c64de4a
EDEBUG Rule performance_rule_0 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_3 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_4 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_5 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_6 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_7 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_8 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_9 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 10 rules for checkout_terms
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1767892104_7a968629
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1767892105_491f22d3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1767892105_b5fef585
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1767892105_a524a542
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1767892105_594a51ea
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1767892105_4ecef742
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1767892105_ec1b9ab4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1767892105_2b82eeb2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1767892105_eca48691
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1767892105_25d1378f
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
WARNING Context validation failed for rule performance_rule_8
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
WARNING Context validation failed for rule performance_rule_5
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_5
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_3
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_3
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_5
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_8
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_3
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
WARNING Context validation failed for rule performance_rule_0
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
WARNING Context validation failed for rule performance_rule_1
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_1
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_4
DEBUG Cache hit for rules:checkout_terms: 10 rules
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_7
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_8
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_6
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_6
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_2
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_2
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_1
WARNING Context validation failed for rule performance_rule_8
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_8
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
WARNING Context validation failed for rule performance_rule_7
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
DEBUG Cache hit for rules:checkout_terms: 10 rules
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_6
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_2
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
WARNING Context validation failed for rule performance_rule_5
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_1
WARNING Context validation failed for rule performance_rule_6
WARNING Context validation failed for rule performance_rule_6
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_0
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
WARNING Context validation failed for rule performance_rule_5
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
WARNING Context validation failed for rule performance_rule_6
WARNING Context validation failed for rule performance_rule_2
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_2
WARNING Context validation failed for rule performance_rule_0
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG Cache hit for rules:checkout_terms: 10 rules
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
DEBUG Cache hit for rules:checkout_terms: 10 rules
WARNING Context validation failed for rule performance_rule_1
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_6
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
WARNING Context validation failed for rule performance_rule_0
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_5
DEBUG Cache hit for rules:checkout_terms: 10 rules
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
WARNING Context validation failed for rule performance_rule_8
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_6
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_8
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_6
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_6
WARNING Context validation failed for rule performance_rule_2
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_5
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_1
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_0
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_6
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
WARNING Context validation failed for rule performance_rule_0
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_2
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_0
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
DEBUG Cache hit for rules:checkout_terms: 10 rules
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
WARNING Context validation failed for rule performance_rule_6
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_8
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_8
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
WARNING Context validation failed for rule performance_rule_1
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_6
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_6
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_9
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
WARNING Context validation failed for rule performance_rule_1
WARNING Context validation failed for rule performance_rule_1
WARNING Context validation failed for rule performance_rule_8
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_7
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
DEBUG Cache hit for rules:checkout_terms: 10 rules
ERROR RulesFields schema not found: full_checkout_context
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
WARNING Context validation failed for rule performance_rule_9
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
WARNING Context validation failed for rule performance_rule_0
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_8
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
WARNING Context validation failed for rule performance_rule_2
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_7
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_4
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_6
WARNING Context validation failed for rule performance_rule_3
WARNING Context validation failed for rule performance_rule_0
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_5
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
WARNING Context validation failed for rule performance_rule_4
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_3
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_2
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_1
ERROR RulesFields schema not found: full_checkout_context
WARNING Context validation failed for rule performance_rule_0
ERROR Schema validation errors for entry point 'checkout_terms': 10 errors
FFFFFFFFFDEBUG Rule terms_ack_required created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
WARNING Bad Request: /api/rules/acknowledge/
FDEBUG Rule terms_ack_required created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG  Schema validation passed for checkout_context_v1
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1767892105_1a63f8d6
.DEBUG Rule delete_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
ERROR Internal Server Error: /api/rules/delete_test_rule/
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 90, in destroy
    instance = self.get_object()
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 100, in get_object
    obj = get_object_or_404(queryset, **filter_kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 19, in get_object_or_404
    return _get_object_or_404(queryset, *filter_args, **filter_kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/shortcuts.py", line 90, in get_object_or_404
    return queryset.get(*args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 619, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
                                                        ~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1493, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1511, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1518, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1646, in add_q
    clause, _ = self._add_q(q_object, can_reuse)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1678, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1526, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1333, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1805, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'rule_id' into field. Choices are: actions, active, active_from, active_until, condition, created_at, description, entry_point, id, metadata, name, orderuserpreference, priority, rule_code, rules_fields_code, stop_processing, updated_at, version
EDEBUG Rule marking_deadline_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG  Schema validation passed for checkout_context_v1
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'marking_deadline_rule' condition not matched
FDEBUG Rule checkout_rule_1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule checkout_rule_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule home_rule_1 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
EDEBUG Rule pagination_rule_0 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_3 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_4 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_5 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_6 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_7 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_8 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_9 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_10 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_11 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_12 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_13 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_14 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_15 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_16 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_17 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_18 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_19 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_20 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_21 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_22 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_23 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_24 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.WARNING Bad Request: /api/rules/create/
FWARNING Bad Request: /api/rules/create/
WARNING Bad Request: /api/rules/create/
.DEBUG Rule logged_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG  Schema validation passed for checkout_context_v1
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'logged_rule' condition not matched
FDEBUG Rule update_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
ERROR Internal Server Error: /api/rules/update_test_rule/
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 82, in partial_update
    return self.update(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 65, in update
    instance = self.get_object()
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 100, in get_object
    obj = get_object_or_404(queryset, **filter_kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 19, in get_object_or_404
    return _get_object_or_404(queryset, *filter_args, **filter_kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/shortcuts.py", line 90, in get_object_or_404
    return queryset.get(*args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 619, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
                                                        ~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1493, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1511, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1518, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1646, in add_q
    clause, _ = self._add_q(q_object, can_reuse)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1678, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1526, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1333, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1805, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'rule_id' into field. Choices are: actions, active, active_from, active_until, condition, created_at, description, entry_point, id, metadata, name, orderuserpreference, priority, rule_code, rules_fields_code, stop_processing, updated_at, version
EFFF...WARNING Bad Request: /api/rules/engine/calculate-vat/
.WARNING Country not found: XX
.WARNING Method Not Allowed: /api/rules/engine/calculate-vat/
.WARNING Bad Request: /api/rules/engine/calculate-vat/
.WARNING Bad Request: /api/rules/engine/calculate-vat/
................WARNING No region mapping found for country: XX
....WARNING Country not found: UNKNOWN
.......WARNING Country not found: UNKNOWN
..DEBUG Rule calculate_vat created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_ie created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_eu created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_sa created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_row created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk_digital_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk_printed_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk_flash_card created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk_pbor created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_uk_marking created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_ie_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_eu_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_sa_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule calculate_vat_row_product created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Cache miss for rules:cart_calculate_vat
DEBUG Cached 15 rules for cart_calculate_vat
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.region = SA
DEBUG Stored execution record: exec_1767892108_20bbeade
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.rate = 0.15
DEBUG Stored execution record: exec_1767892108_4ef3ec85
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.amount = 75.00
DEBUG Stored function result in context: cart_item.vat_amount = 75.00
DEBUG Stored function result in context: cart_item.gross_amount = 575.00
DEBUG Stored execution record: exec_1767892108_2f486f9f
.DEBUG Cache hit for rules:cart_calculate_vat: 15 rules
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.region = UK
DEBUG Stored execution record: exec_1767892108_563e9a11
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.rate = 0.20
DEBUG Stored execution record: exec_1767892108_dff19962
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_marking' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_printed_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.amount = 10.00
DEBUG Stored function result in context: cart_item.vat_amount = 10.00
DEBUG Stored function result in context: cart_item.gross_amount = 60.00
DEBUG Stored execution record: exec_1767892108_86b35a65
.DEBUG Cache hit for rules:cart_calculate_vat: 15 rules
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.region = UK
DEBUG Stored execution record: exec_1767892108_bcd8729b
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.rate = 0.20
DEBUG Stored execution record: exec_1767892108_2ecb8ce7
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_marking' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_printed_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.amount = 10.00
DEBUG Stored function result in context: cart_item.vat_amount = 10.00
DEBUG Stored function result in context: cart_item.gross_amount = 60.00
DEBUG Stored execution record: exec_1767892108_4bd23aa0
DEBUG Cache hit for rules:cart_calculate_vat: 15 rules
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.region = UK
DEBUG Stored execution record: exec_1767892108_fd304728
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.rate = 0.20
DEBUG Stored execution record: exec_1767892108_6f66060c
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_marking' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: vat.rate = 0.0
DEBUG Stored function result in context: vat.amount = 0.00
DEBUG Stored function result in context: cart_item.vat_amount = 0.00
DEBUG Stored function result in context: cart_item.gross_amount = 100.00
DEBUG Updated context: vat.rate = 0.0
DEBUG Stored execution record: exec_1767892108_d1b9a757
DEBUG Cache hit for rules:cart_calculate_vat: 15 rules
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.region = UK
DEBUG Stored execution record: exec_1767892108_6cb11362
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.rate = 0.20
DEBUG Stored execution record: exec_1767892108_7275f531
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_row_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_marking' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_printed_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_digital_product' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk_pbor' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: vat.rate = 0.0
DEBUG Stored function result in context: vat.amount = 0.00
DEBUG Stored function result in context: cart_item.vat_amount = 0.00
DEBUG Stored function result in context: cart_item.gross_amount = 30.00
DEBUG Updated context: vat.rate = 0.0
DEBUG Stored execution record: exec_1767892109_fc131265
FDEBUG Cache hit for rules:cart_calculate_vat: 15 rules
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
WARNING Country not found: XX
DEBUG Stored function result in context: vat.region = ROW
DEBUG Stored execution record: exec_1767892109_fa0d85a8
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
WARNING Country not found: XX
DEBUG Stored function result in context: vat.rate = 0.00
DEBUG Stored execution record: exec_1767892109_d628fae4
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_sa' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_eu' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_ie' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'calculate_vat_uk' condition not matched
DEBUG  Schema validation passed for cart_vat_context_schema
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored function result in context: vat.amount = 0.00
DEBUG Stored function result in context: cart_item.vat_amount = 0.00
DEBUG Stored function result in context: cart_item.gross_amount = 100.00
DEBUG Stored execution record: exec_1767892109_6be41426
.INFO VAT calculated for GB: 20.00
.WARNING Country not found: XX
INFO VAT calculated for XX: 0.00
..INFO VAT calculated for GB: 26.00
.INFO VAT calculated for US: 0.00
.INFO VAT calculated for GB: 20.00
..EFWARNING Unauthorized: /api/auth/login/
.WARNING Unauthorized: /api/auth/login/
F.........................FE..F...F.......  Created: MATH101
  Created: PHY101
  Created: CHEM101

==================================================
Import completed successfully:
  Created: 3
  Updated: 0
  Skipped: 0
  Errors: 0
  Created: MATH101
  Created: PHY101
  Created: CHEM101

==================================================
Import completed successfully:
  Created: 3
  Updated: 0
  Skipped: 0
  Errors: 0
WARNING Unauthorized: /api/subjects/subjects/
.WARNING Bad Request: /api/subjects/subjects/
....................................WARNING Bad Request: /api/tutorials/events/
.WARNING Bad Request: /api/tutorials/events/
......WARNING Not Found: /api/tutorials/events/999999/
..........WARNING Bad Request: /api/tutorials/products/
.WARNING Bad Request: /api/tutorials/products/
..............................................ERROR Error creating user: Database error
ERROR Internal Server Error: /api/users/
.ERROR Error sending activation email: Email service unavailable
.ERROR Error fetching user profile: 'UserProfile' instance needs to have a primary key value before this relationship can be used.
ERROR Internal Server Error: /api/users/profile/
.ERROR Error updating user profile: Database transaction failed
ERROR Internal Server Error: /api/users/update_profile/
..WARNING Unauthorized: /api/users/profile/
....WARNING Bad Request: /api/users/update_profile/
..WARNING Unauthorized: /api/users/update_profile/
.ERROR Error sending email verification: SMTP connection failed
.ERROR Failed to send email verification to newemail@example.com
....WARNING Bad Request: /api/users/
.WARNING Failed to send account activation email to emailfail@example.com
.WARNING Bad Request: /api/users/
..WARNING No template configuration found for account_activation, using defaults
ERROR Failed to queue email: null value in column "reply_to_email" of relation "utils_email_queue" violates not-null constraint
DETAIL:  Failing row contains (1, 9cb1d7ba-cff4-4f0a-bacf-68a018db1d24, ["anonymous@example.com"], [], [], "ActEd Sales" <eugene.lo1030@gmail.com>, null, Activate Your ActEd Account, {"user": {"id": 597, "email": "anonymous@example.com", "username..., , , high, pending, 2026-01-08 17:09:05.541924+00, 2026-01-08 17:09:05.542001+00, null, 0, 3, null, null, null, , {}, 2026-01-08 17:09:05.542143+00, 2026-01-08 17:09:05.542145+00, [], 597, null).

ERROR Failed to queue email: Failed to queue email: null value in column "reply_to_email" of relation "utils_email_queue" violates not-null constraint
DETAIL:  Failing row contains (1, 9cb1d7ba-cff4-4f0a-bacf-68a018db1d24, ["anonymous@example.com"], [], [], "ActEd Sales" <eugene.lo1030@gmail.com>, null, Activate Your ActEd Account, {"user": {"id": 597, "email": "anonymous@example.com", "username..., , , high, pending, 2026-01-08 17:09:05.541924+00, 2026-01-08 17:09:05.542001+00, null, 0, 3, null, null, null, , {}, 2026-01-08 17:09:05.542143+00, 2026-01-08 17:09:05.542145+00, [], 597, null).

WARNING Failed to get placeholders for template account_activation: EmailTemplate matching query does not exist.
ERROR	MediaQuery: No match: ('IDENT', 'mso', 240, 10)
ERROR MediaQuery: No match: ('IDENT', 'mso', 240, 10)
ERROR	MediaQuery: No match for None in Choice(Sequence(ONLY|NOT, media_type, Sequence(AND, Sequence(expression, media_feature, Sequence(colon, Choice(ColorValue, Dimension, Value)), expression END))), Sequence(Sequence(expression, media_feature, Sequence(colon, Choice(ColorValue, Dimension, Value)), expression END), Sequence(AND, Sequence(expression, media_feature, Sequence(colon, Choice(ColorValue, Dimension, Value)), expression END))))
ERROR MediaQuery: No match for None in Choice(Sequence(ONLY|NOT, media_type, Sequence(AND, Sequence(expression, media_feature, Sequence(colon, Choice(ColorValue, Dimension, Value)), expression END))), Sequence(Sequence(expression, media_feature, Sequence(colon, Choice(ColorValue, Dimension, Value)), expression END), Sequence(AND, Sequence(expression, media_feature, Sequence(colon, Choice(ColorValue, Dimension, Value)), expression END))))
ERROR	No content to parse.
ERROR No content to parse.
ERROR	MediaQuery: No content.
ERROR MediaQuery: No content.
INFO Email BCC monitoring enabled. BCC recipients: ['eugene.lo1030@gmail.com', 'eugenelo@bpp.com']
.WARNING Unauthorized: /api/users/598/
.WARNING Unauthorized: /api/users/
./Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/pagination.py:207: UnorderedObjectListWarning: Pagination may yield inconsistent results with an unordered object_list: <class 'django.contrib.auth.models.User'> QuerySet.
  paginator = self.django_paginator_class(queryset, page_size)
.WARNING Unauthorized: /api/users/601/
.WARNING Unauthorized: /api/users/602/
..s.....sExported 1 orders to ORDERS.DBF
Exported 1 order items to ORDRITMS.DBF
Exported 1 users to USERS.DBF
Exported 1 profiles to PROFILES.DBF
Export completed
Exported 1 orders to ORDERS.DBF
Exported 1 order items to ORDRITMS.DBF
Exported 1 users to USERS.DBF
Exported 1 profiles to PROFILES.DBF
Export completed
Exported 1 orders to ORDERS.DBF
Exported 1 order items to ORDRITMS.DBF
Exported 1 users to USERS.DBF
Exported 1 profiles to PROFILES.DBF
Export completed
Exported 1 orders to ORDERS.DBF
Exported 1 order items to ORDRITMS.DBF
Exported 1 users to USERS.DBF
Exported 1 profiles to PROFILES.DBF
Export completed
Exported 1 orders to ORDERS.DBF
Exported 1 order items to ORDRITMS.DBF
Exported 1 users to USERS.DBF
Exported 1 profiles to PROFILES.DBF
Export completed
Exported 1 orders to ORDERS.DBF
Exported 1 order items to ORDRITMS.DBF
Exported 1 users to USERS.DBF
Exported 1 profiles to PROFILES.DBF
Export completed
Exported 1 orders to ORDERS.DBF
Exported 1 order items to ORDRITMS.DBF
Exported 2 users to USERS.DBF
Exported 2 profiles to PROFILES.DBF
Export completed
Exported 1 orders to ORDERS.DBF
Exported 1 order items to ORDRITMS.DBF
Exported 1 users to USERS.DBF
Exported 1 profiles to PROFILES.DBF
Export completed
INFO Cached addresses for postcode SW1A1AA (expires: 2026-01-22)
.ERROR Error caching addresses for postcode SW1A1AA: Database error
.INFO Cached addresses for postcode SW1A1AA (expires: 2026-01-15)
.INFO Cached addresses for postcode SW1A1AA (expires: 2026-01-15)
.INFO Cached addresses for postcode SW1A1AA (expires: 2026-01-15)
.INFO Cached addresses for postcode SW1A1AA (expires: 2026-01-15)
.INFO Cached addresses for postcode SW1A1AA (expires: 2026-01-15)
.INFO Cache MISS for postcode SW1A1AA
INFO Cached addresses for postcode SW1A1AA (expires: 2026-01-15)
INFO Cache HIT for postcode SW1A1AA (hits: 2)
INFO Cache MISS for postcode SW1A1AA
..INFO Cleaned up 2 expired cache entries
.INFO Cleaned up 0 expired cache entries
.ERROR Error cleaning up expired cache: Database error
.INFO Cleaned up 0 expired cache entries
..ERROR Error getting cache stats: Database error
..INFO Cache MISS for postcode SW1A1AA
.ERROR Error retrieving from cache for postcode SW1A1AA: Database error
.INFO Cache HIT for postcode SW1A1AA (hits: 2)
.INFO Cache HIT for postcode SW1A1AA (hits: 2)
.INFO Cache MISS for postcode SW1A1AA
.INFO Cache HIT for postcode SW1A1AA (hits: 2)
INFO Cache HIT for postcode SW1A1AA (hits: 3)
INFO Cache HIT for postcode SW1A1AA (hits: 4)
.INFO Cache HIT for postcode SW1A1AA (hits: 2)
.INFO Invalidated 1 cache entries for postcode SW1A1AA
.INFO Invalidated 3 cache entries for postcode SW1A1AA
.ERROR Error invalidating cache for postcode SW1A1AA: Database error
.INFO Invalidated 0 cache entries for postcode NONEXISTENT
.ERROR Error checking cache validity for postcode SW1A1AA: Database error
....INFO Cached addresses for postcode SW1A1AA (expires: 2026-01-15)
INFO Cached addresses for postcode OX449EL (expires: 2026-01-15)
INFO Cached addresses for postcode M13NQ (expires: 2026-01-15)
INFO Cache HIT for postcode SW1A1AA (hits: 2)
INFO Cache HIT for postcode OX449EL (hits: 2)
INFO Cache HIT for postcode M13NQ (hits: 2)
.INFO [POSTCODER] SUCCESS (API) SW1A1AA: 5 addresses in 300ms
INFO [POSTCODER] SUCCESS (cached) SW1A1AA: 5 addresses in 50ms
INFO [POSTCODER] FAILED (API) INVALID: 0 addresses in 5000ms
.......ERROR Error getting lookup stats: Database error
..INFO [POSTCODER] FAILED (API) SW1A1AA: 0 addresses in 5000ms
.INFO [POSTCODER] FAILED (API) SW1A1AA: 0 addresses in 5000ms
.INFO [POSTCODER] FAILED (API) SW1A1AA: 0 addresses in 5000ms
.INFO [POSTCODER] FAILED (API) SW1A1AA: 0 addresses in 5000ms
.INFO [POSTCODER] SUCCESS (cached) SW1A1AA: 3 addresses in 50ms
.INFO [POSTCODER] SUCCESS (API) SW1A1AA: 3 addresses in 300ms
.INFO [GETADDRESS] SUCCESS (API) SW1A1AA: 5 addresses in 250ms
.INFO [POSTCODER] SUCCESS (API) SW1A1AA: 5 addresses in 250ms
.INFO [POSTCODER] SUCCESS (API) SW1A1AA: 5 addresses in 250ms
.ERROR Failed to log address lookup for SW1A1AA: Database error
..INFO [POSTCODER] SUCCESS (API) SW1A1AA: 5 addresses in 250ms
.INFO [POSTCODER] FAILED (API) SW1A1AA: 0 addresses in 5000ms
.INFO [POSTCODER] SUCCESS (cached) SW1A1AA: 3 addresses in 100ms
.INFO [POSTCODER] SUCCESS (API) SW1A1AA: 5 addresses in 250ms
.INFO [POSTCODER] SUCCESS (API) SW1A1AA: 5 addresses in 250ms
.INFO [POSTCODER] SUCCESS (API) POST1: 5 addresses in 250ms
INFO [GETADDRESS] SUCCESS (API) GET1: 4 addresses in 350ms
.INFO Calling Postcoder API for GB postcode: SW1A1AA
ERROR Postcoder API request failed for GB postcode SW1A1AA: API error
ERROR Lookup failed: API error
.INFO Calling Postcoder API for GB postcode: OX449EL
INFO Successfully retrieved 1 addresses for GB
WARNING Country code GB not found in UtilsCountrys, using code as fallback
.INFO Calling Postcoder API for GB postcode: SW1A1AA
INFO Successfully retrieved 1 addresses for GB
WARNING Country code GB not found in UtilsCountrys, using code as fallback
.INFO Calling Postcoder API for GB postcode: SW1A1AA
ERROR Postcoder API HTTP error for GB postcode SW1A1AA: 
.INFO Calling Postcoder API for GB postcode: SW1A1AA
ERROR Postcoder API error for GB: Invalid API key
ERROR Postcoder API request failed for GB postcode SW1A1AA: Postcoder API error: Invalid API key
.INFO Calling Postcoder API for GB postcode: SW1A1AA
INFO Successfully retrieved 0 addresses for GB
..INFO Calling Postcoder API for GB postcode: SW1A1AA
ERROR Postcoder API HTTP error for GB postcode SW1A1AA: 
.WARNING POSTCODER_API_KEY not configured
..INFO Calling Postcoder API for GB postcode: SW1A1AA
INFO Successfully retrieved 1 addresses for GB
.INFO Calling Postcoder API for GB postcode: SW1A1AA
ERROR Postcoder API timeout for GB postcode SW1A1AA: Request timed out
.INFO Retrieving full address details for ID: invalid_id
ERROR Postcoder Retrieve API error for GB: Invalid ID
ERROR âŒ Postcoder Retrieve API error for ID invalid_id: Postcoder API error: Invalid ID
..INFO Retrieving full address details for ID: test_id
INFO âœ… Retrieved address data: {'id': 'test_id', 'postcode': '12345', 'street': 'Main Street', 'posttown': 'New York'}
INFO âœ… Successfully retrieved full address for ID: test_id
.WARNING POSTCODER_API_KEY not configured
..INFO Retrieving full address details for ID: test_id_123
INFO âœ… Retrieved address data: {'id': 'test_id_123', 'postcode': 'SW1A1AA', 'summaryline': '10 Downing Street, Westminster, London', 'organisation': '', 'buildingname': '', 'number': '10', 'premise': '10', 'street': 'Downing Street', 'dependentlocality': 'Westminster', 'posttown': 'LONDON', 'county': 'Greater London', 'latitude': 51.503396, 'longitude': -0.127784}
INFO âœ… Successfully retrieved full address for ID: test_id_123
.INFO Retrieving full address details for ID: test_id
ERROR âŒ Postcoder Retrieve API timeout for ID test_id
....WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
ERROR Error transforming address item: 'NoneType' object has no attribute 'get'
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
WARNING Postcoder response is not a list (type=<class 'dict'>), returning empty addresses
WARNING Country code GB not found in UtilsCountrys, using code as fallback
WARNING Postcoder response is not a list (type=<class 'NoneType'>), returning empty addresses
WARNING Country code GB not found in UtilsCountrys, using code as fallback
WARNING Postcoder response is not a list (type=<class 'str'>), returning empty addresses
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.E................ssss.ss.ssss..............INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 0 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 0 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 0 addresses in 2ms
FINFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO [POSTCODER] FAILED (API) SW1A1AA: 0 addresses in 0ms
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 2 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 2 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 2 addresses in 0ms
EINFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 2 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 2 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 2 addresses in 0ms
FINFO ðŸ” Address lookup request: query='sw1a1aa', postcode='sw1a1aa', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 2 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 2 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) sw1a1aa: 2 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 2 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 2 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 2 addresses in 0ms
FINFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 2 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 2 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 2 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 2 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 2 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 2 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 2 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 2 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 2 addresses in 0ms
FINFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 2 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 2 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 2 addresses in 0ms
FINFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 2 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 2 autocomplete suggestions
ERROR Failed to log address lookup for SW1A1AA: Database error
FINFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 2 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 2 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 2 addresses in 1ms
INFO ðŸ” Address lookup request: query='EC1A1BB', postcode='EC1A1BB', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 2 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 2 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) EC1A1BB: 2 addresses in 1ms
INFO ðŸ” Address lookup request: query='W1A1AA', postcode='W1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 2 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 2 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) W1A1AA: 2 addresses in 0ms
FINFO ðŸ” Address lookup request: query='sw1a 1aa', postcode='sw1a 1aa', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 2 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 2 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) sw1a 1aa: 2 addresses in 0ms
FINFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 2 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 2 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 2 addresses in 106ms
..INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 4ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 1ms
.
============================================================
PERFORMANCE TEST SUMMARY
============================================================
Cache Miss (API Call):  10.70ms  (target: <500ms)
Cache Hit (Database):   2.42ms  (target: <100ms)
Performance Gain:       4.43x faster
============================================================
âœ“ All performance targets met!

INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 114ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 106ms
FINFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
DEBUG Starting new HTTPS connection (1): ws.postcoder.com:443
DEBUG https://ws.postcoder.com:443 "GET /pcw/autocomplete/find?query=SW1A1AA&country=GB&apikey=PCWZ9-BBRBH-KK5BY-FYSEU&postcode=SW1A1AA HTTP/1.1" 200 126
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 201ms
FINFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 152ms
.
  [OK] Cache miss response time: 153.49ms (target: <500ms)
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO Calling Postcoder Autocomplete Find API for GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO Calling Postcoder Autocomplete Find API for GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO Calling Postcoder Autocomplete Find API for GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 28ms
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 31ms
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 42ms
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 43ms
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 48ms
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 57ms
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 61ms
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 63ms
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 66ms
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 72ms
..
  [OK] Concurrent requests performance:
    - Average: 57.89ms
    - Min: 35.76ms
    - Max: 75.80ms
    - Requests: 10

  âœ“ Database query performance:
    - Query time: 2.48ms
    - Queries executed: 1
    - Total cache entries: 101
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='EC1A1BB', postcode='EC1A1BB', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) EC1A1BB: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='OX449EL', postcode='OX449EL', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) OX449EL: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='M13NQ', postcode='M13NQ', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) M13NQ: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='G28DN', postcode='G28DN', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) G28DN: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='EH11YZ', postcode='EH11YZ', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) EH11YZ: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='CF101AA', postcode='CF101AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) CF101AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='BT11AA', postcode='BT11AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) BT11AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='AB101AA', postcode='AB101AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) AB101AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='PL11AA', postcode='PL11AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) PL11AA: 1 addresses in 1ms
.
  âœ“ Different postcode performance:
    - Average: 1.51ms
    - Min: 0.90ms
    - Max: 2.41ms
    - Postcodes tested: 10
INFO ðŸ” Address lookup request: query='SW00AA', postcode='SW00AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW00AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW01AA', postcode='SW01AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW01AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW02AA', postcode='SW02AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW02AA: 1 addresses in 2ms
INFO ðŸ” Address lookup request: query='SW03AA', postcode='SW03AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW03AA: 1 addresses in 2ms
INFO ðŸ” Address lookup request: query='SW04AA', postcode='SW04AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW04AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW05AA', postcode='SW05AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW05AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW06AA', postcode='SW06AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW06AA: 1 addresses in 2ms
INFO ðŸ” Address lookup request: query='SW07AA', postcode='SW07AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW07AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW08AA', postcode='SW08AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW08AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW09AA', postcode='SW09AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW09AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW10AA', postcode='SW10AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW10AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW11AA', postcode='SW11AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW11AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW12AA', postcode='SW12AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW12AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW13AA', postcode='SW13AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW13AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW14AA', postcode='SW14AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW14AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW15AA', postcode='SW15AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW15AA: 1 addresses in 2ms
INFO ðŸ” Address lookup request: query='SW16AA', postcode='SW16AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW16AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW17AA', postcode='SW17AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW17AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW18AA', postcode='SW18AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW18AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW19AA', postcode='SW19AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW19AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW20AA', postcode='SW20AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW20AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW21AA', postcode='SW21AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW21AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW22AA', postcode='SW22AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW22AA: 1 addresses in 2ms
INFO ðŸ” Address lookup request: query='SW23AA', postcode='SW23AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW23AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW24AA', postcode='SW24AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW24AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW25AA', postcode='SW25AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW25AA: 1 addresses in 2ms
INFO ðŸ” Address lookup request: query='SW26AA', postcode='SW26AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW26AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW27AA', postcode='SW27AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW27AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW28AA', postcode='SW28AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW28AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW29AA', postcode='SW29AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW29AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW30AA', postcode='SW30AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW30AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW31AA', postcode='SW31AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW31AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW32AA', postcode='SW32AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW32AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW33AA', postcode='SW33AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW33AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW34AA', postcode='SW34AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW34AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW35AA', postcode='SW35AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW35AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW36AA', postcode='SW36AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW36AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW37AA', postcode='SW37AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW37AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW38AA', postcode='SW38AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW38AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW39AA', postcode='SW39AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW39AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW40AA', postcode='SW40AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW40AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW41AA', postcode='SW41AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW41AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW42AA', postcode='SW42AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW42AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW43AA', postcode='SW43AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW43AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW44AA', postcode='SW44AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW44AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW45AA', postcode='SW45AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW45AA: 1 addresses in 2ms
INFO ðŸ” Address lookup request: query='SW46AA', postcode='SW46AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW46AA: 1 addresses in 3ms
INFO ðŸ” Address lookup request: query='SW47AA', postcode='SW47AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW47AA: 1 addresses in 9ms
INFO ðŸ” Address lookup request: query='SW48AA', postcode='SW48AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW48AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW49AA', postcode='SW49AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW49AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW50AA', postcode='SW50AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW50AA: 1 addresses in 7ms
INFO ðŸ” Address lookup request: query='SW51AA', postcode='SW51AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW51AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW52AA', postcode='SW52AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW52AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW53AA', postcode='SW53AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW53AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW54AA', postcode='SW54AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW54AA: 1 addresses in 2ms
INFO ðŸ” Address lookup request: query='SW55AA', postcode='SW55AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW55AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW56AA', postcode='SW56AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW56AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW57AA', postcode='SW57AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW57AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW58AA', postcode='SW58AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW58AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW59AA', postcode='SW59AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW59AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW60AA', postcode='SW60AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW60AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW61AA', postcode='SW61AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW61AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW62AA', postcode='SW62AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW62AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW63AA', postcode='SW63AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW63AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW64AA', postcode='SW64AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW64AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW65AA', postcode='SW65AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW65AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW66AA', postcode='SW66AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW66AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW67AA', postcode='SW67AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW67AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW68AA', postcode='SW68AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW68AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW69AA', postcode='SW69AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW69AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW70AA', postcode='SW70AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW70AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW71AA', postcode='SW71AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW71AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW72AA', postcode='SW72AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW72AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW73AA', postcode='SW73AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW73AA: 1 addresses in 2ms
INFO ðŸ” Address lookup request: query='SW74AA', postcode='SW74AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW74AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW75AA', postcode='SW75AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW75AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW76AA', postcode='SW76AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW76AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW77AA', postcode='SW77AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW77AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW78AA', postcode='SW78AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW78AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW79AA', postcode='SW79AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW79AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW80AA', postcode='SW80AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW80AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW81AA', postcode='SW81AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW81AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW82AA', postcode='SW82AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW82AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW83AA', postcode='SW83AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW83AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW84AA', postcode='SW84AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW84AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW85AA', postcode='SW85AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW85AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW86AA', postcode='SW86AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW86AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW87AA', postcode='SW87AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW87AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW88AA', postcode='SW88AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW88AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW89AA', postcode='SW89AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW89AA: 1 addresses in 2ms
INFO ðŸ” Address lookup request: query='SW90AA', postcode='SW90AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW90AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW91AA', postcode='SW91AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW91AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW92AA', postcode='SW92AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW92AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW93AA', postcode='SW93AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW93AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW94AA', postcode='SW94AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW94AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW95AA', postcode='SW95AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW95AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW96AA', postcode='SW96AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW96AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW97AA', postcode='SW97AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW97AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW98AA', postcode='SW98AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW98AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW99AA', postcode='SW99AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW99AA: 1 addresses in 1ms
.
  âœ“ Memory leak test:
    - Baseline: 0.00MB
    - Final: 0.72MB
    - Growth: 0.72MB
    - Requests: 100
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
FINFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 1ms
.
[OK] Analytics log created with correct metadata
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
FINFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
DEBUG Starting new HTTPS connection (1): ws.postcoder.com:443
DEBUG https://ws.postcoder.com:443 "GET /pcw/autocomplete/find?query=SW1A1AA&country=GB&apikey=PCWZ9-BBRBH-KK5BY-FYSEU&postcode=SW1A1AA HTTP/1.1" 200 126
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 98ms
.
[OK] Cache hit response time: 99.09ms (target: <100ms)
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
DEBUG Starting new HTTPS connection (1): ws.postcoder.com:443
DEBUG https://ws.postcoder.com:443 "GET /pcw/autocomplete/find?query=SW1A1AA&country=GB&apikey=PCWZ9-BBRBH-KK5BY-FYSEU&postcode=SW1A1AA HTTP/1.1" 200 126
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 102ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
DEBUG Starting new HTTPS connection (1): ws.postcoder.com:443
DEBUG https://ws.postcoder.com:443 "GET /pcw/autocomplete/find?query=SW1A1AA&country=GB&apikey=PCWZ9-BBRBH-KK5BY-FYSEU&postcode=SW1A1AA HTTP/1.1" 200 126
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 98ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
DEBUG Starting new HTTPS connection (1): ws.postcoder.com:443
DEBUG https://ws.postcoder.com:443 "GET /pcw/autocomplete/find?query=SW1A1AA&country=GB&apikey=PCWZ9-BBRBH-KK5BY-FYSEU&postcode=SW1A1AA HTTP/1.1" 200 126
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 91ms
FINFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 1ms
.
[OK] Cache miss response time: 3.00ms (target: <500ms)
INFO ðŸ” Address lookup request: query='TEST01', postcode='TEST01', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) TEST01: 1 addresses in 57ms
INFO ðŸ” Address lookup request: query='TEST01', postcode='TEST01', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) TEST01: 1 addresses in 57ms
.
============================================================
PERFORMANCE TEST SUMMARY
============================================================
Cache Miss (API Call):  58.77ms
Cache Hit (Database):   59.36ms
Performance Gain:       0.99x faster
============================================================

[OK] All performance targets met

INFO ðŸ” Address retrieve request: id='invalid', country=GB
ERROR âŒ Validation error: Invalid ID
...INFO ðŸ” Address retrieve request: id='test_id_123', country=US
INFO âœ… Successfully retrieved address for ID: test_id_123
.INFO ðŸ” Address retrieve request: id='test_id_123', country=GB
INFO âœ… Successfully retrieved address for ID: test_id_123
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=US
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
..INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
WARNING âš ï¸ Failed to log address lookup: Logging failed
..INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
..INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='10 Downing Street', postcode='', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
..INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
...................Found 2 VAT audit record(s) older than 730 days (created before 2024-01-09 17:09:18)
Successfully deleted 2 VAT audit record(s)
Cleanup complete. 3 VAT audit record(s) remaining.
Found 2 VAT audit record(s) older than 730 days (created before 2024-01-09 17:09:18)
Successfully deleted 2 VAT audit record(s)
Cleanup complete. 2 VAT audit record(s) remaining.
DEBUG CartItem 226 created - invalidating VAT cache for cart 182
DEBUG VAT cache invalidated for cart 182
DEBUG CartItem 227 created - invalidating VAT cache for cart 182
DEBUG VAT cache invalidated for cart 182
.DEBUG CartItem 228 created - invalidating VAT cache for cart 183
DEBUG VAT cache invalidated for cart 183
.....DEBUG CartItem 229 created - invalidating VAT cache for cart 186
DEBUG VAT cache invalidated for cart 186
...............................................DEBUG CartItem 230 created - invalidating VAT cache for cart 198
DEBUG VAT cache invalidated for cart 198
.DEBUG CartItem 231 created - invalidating VAT cache for cart 199
DEBUG VAT cache invalidated for cart 199
.DEBUG CartItem 232 created - invalidating VAT cache for cart 200
DEBUG VAT cache invalidated for cart 200
.DEBUG CartItem 233 created - invalidating VAT cache for cart 201
DEBUG VAT cache invalidated for cart 201
.DEBUG CartItem 234 created - invalidating VAT cache for cart 202
DEBUG VAT cache invalidated for cart 202
.DEBUG CartItem 235 created - invalidating VAT cache for cart 203
DEBUG VAT cache invalidated for cart 203
.DEBUG CartItem 236 created - invalidating VAT cache for cart 204
DEBUG VAT cache invalidated for cart 204
.DEBUG CartItem 237 created - invalidating VAT cache for cart 205
DEBUG VAT cache invalidated for cart 205
.DEBUG CartItem 238 created - invalidating VAT cache for cart 206
DEBUG VAT cache invalidated for cart 206
.DEBUG CartItem 239 created - invalidating VAT cache for cart 207
DEBUG VAT cache invalidated for cart 207
.DEBUG CartItem 240 created - invalidating VAT cache for cart 208
DEBUG VAT cache invalidated for cart 208
.DEBUG CartItem 241 created - invalidating VAT cache for cart 209
DEBUG VAT cache invalidated for cart 209
.DEBUG CartItem 242 created - invalidating VAT cache for cart 210
DEBUG VAT cache invalidated for cart 210
.DEBUG CartItem 243 created - invalidating VAT cache for cart 211
DEBUG VAT cache invalidated for cart 211
.DEBUG CartItem 244 created - invalidating VAT cache for cart 212
DEBUG VAT cache invalidated for cart 212
.DEBUG CartItem 245 created - invalidating VAT cache for cart 213
DEBUG VAT cache invalidated for cart 213
..DEBUG CartItem 246 created - invalidating VAT cache for cart 214
DEBUG VAT cache invalidated for cart 214
.DEBUG CartItem 247 created - invalidating VAT cache for cart 215
DEBUG VAT cache invalidated for cart 215
.DEBUG CartItem 248 created - invalidating VAT cache for cart 216
DEBUG VAT cache invalidated for cart 216
.DEBUG CartItem 249 created - invalidating VAT cache for cart 217
DEBUG VAT cache invalidated for cart 217
.EWARNING Bad Request: /api/rules/create/
FEEEEEEE
======================================================================
ERROR: test_get_cart_includes_vat_totals (cart.tests.test_api_endpoints.CartAPIVATTestCase.test_get_cart_includes_vat_totals)
Test GET /api/cart/ includes VAT totals
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_api_endpoints.py", line 59, in test_get_cart_includes_vat_totals
    self.assertTrue(vat_totals['success'])
                    ~~~~~~~~~~^^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable

======================================================================
ERROR: test_recalculate_returns_error_on_failure (cart.tests.test_api_endpoints.CartVATRecalculateEndpointTestCase.test_recalculate_returns_error_on_failure)
Test recalculate endpoint returns error information
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_api_endpoints.py", line 418, in test_recalculate_returns_error_on_failure
    self.assertFalse(response.data['vat_totals']['success'])
                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
KeyError: 'success'

======================================================================
ERROR: test_add_two_different_material_products_should_not_overwrite (cart.tests.test_cart_multiple_materials.TestCartMultipleMaterialsBug.test_add_two_different_material_products_should_not_overwrite)
RED PHASE: Test that adding two different material products to cart
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_multiple_materials.py", line 105, in setUp
    self.essp1 = ExamSessionSubjectProduct.objects.create(
                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        exam_session_subject=self.ess1,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        product=self.product1,
        ^^^^^^^^^^^^^^^^^^^^^^
        is_active=True
        ^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 661, in create
    obj = self.model(**kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 569, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: ExamSessionSubjectProduct() got unexpected keyword arguments: 'is_active'

======================================================================
ERROR: test_workflow_add_item_get_cart_with_vat (cart.tests.test_integration.CartVATIntegrationTestCase.test_workflow_add_item_get_cart_with_vat)
Integration Test: Add item to cart â†’ Get cart â†’ VAT included
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_integration.py", line 83, in test_workflow_add_item_get_cart_with_vat
    self.assertTrue(vat_totals['success'])
                    ~~~~~~~~~~^^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable

======================================================================
ERROR: test_workflow_error_handling (cart.tests.test_integration.CartVATIntegrationTestCase.test_workflow_error_handling)
Integration Test: VAT calculation error handling
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_integration.py", line 440, in test_workflow_error_handling
    self.assertFalse(vat_totals['success'])
                     ~~~~~~~~~~^^^^^^^^^^^
KeyError: 'success'

======================================================================
ERROR: test_workflow_multiple_items_vat_breakdown (cart.tests.test_integration.CartVATIntegrationTestCase.test_workflow_multiple_items_vat_breakdown)
Integration Test: Multiple items â†’ VAT breakdown by region
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_integration.py", line 160, in test_workflow_multiple_items_vat_breakdown
    breakdown = vat_totals['vat_breakdown']
                ~~~~~~~~~~^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable

======================================================================
ERROR: test_workflow_remove_item_vat_recalculated (cart.tests.test_integration.CartVATIntegrationTestCase.test_workflow_remove_item_vat_recalculated)
Integration Test: Remove item â†’ VAT recalculated
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_integration.py", line 284, in test_workflow_remove_item_vat_recalculated
    self.assertEqual(Decimal(str(vat_totals['total_gross_amount'])), Decimal('120.00'))
                                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable

======================================================================
ERROR: test_workflow_update_quantity_vat_recalculated (cart.tests.test_integration.CartVATIntegrationTestCase.test_workflow_update_quantity_vat_recalculated)
Integration Test: Update quantity â†’ VAT recalculated
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_integration.py", line 221, in test_workflow_update_quantity_vat_recalculated
    self.assertEqual(Decimal(str(vat_totals['total_gross_amount'])), Decimal('120.00'))
                                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable

======================================================================
ERROR: test_order_delivery_preference_address_type_validation (cart.tests.test_order_contact_models.OrderDeliveryDetailModelTest.test_order_delivery_preference_address_type_validation)
Test address type choices are validated
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_order_contact_models.py", line 145, in test_order_delivery_preference_address_type_validation
    preference = OrderDeliveryDetail(
        order=self.order,
    ...<4 lines>...
        delivery_country='United Kingdom'
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 569, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: OrderDeliveryDetail() got unexpected keyword arguments: 'delivery_address_line1', 'delivery_city', 'delivery_postal_code', 'delivery_country'

======================================================================
ERROR: test_order_delivery_preference_cascade_delete (cart.tests.test_order_contact_models.OrderDeliveryDetailModelTest.test_order_delivery_preference_cascade_delete)
Test that preference is deleted when order is deleted
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_order_contact_models.py", line 171, in test_order_delivery_preference_cascade_delete
    preference = OrderDeliveryDetail.objects.create(
        order=self.order,
    ...<4 lines>...
        delivery_country='United Kingdom'
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 661, in create
    obj = self.model(**kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 569, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: OrderDeliveryDetail() got unexpected keyword arguments: 'delivery_address_line1', 'delivery_city', 'delivery_postal_code', 'delivery_country'

======================================================================
ERROR: test_order_delivery_preference_creation (cart.tests.test_order_contact_models.OrderDeliveryDetailModelTest.test_order_delivery_preference_creation)
Test creating OrderDeliveryDetail
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_order_contact_models.py", line 119, in test_order_delivery_preference_creation
    preference = OrderDeliveryDetail.objects.create(
        order=self.order,
    ...<9 lines>...
        invoice_country='United Kingdom'
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 661, in create
    obj = self.model(**kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 569, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: OrderDeliveryDetail() got unexpected keyword arguments: 'delivery_address_line1', 'delivery_city', 'delivery_postal_code', 'delivery_country', 'invoice_address_line1', 'invoice_city', 'invoice_postal_code', 'invoice_country'

======================================================================
ERROR: test_order_delivery_preference_str_representation (cart.tests.test_order_contact_models.OrderDeliveryDetailModelTest.test_order_delivery_preference_str_representation)
Test string representation of OrderDeliveryDetail
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_order_contact_models.py", line 157, in test_order_delivery_preference_str_representation
    preference = OrderDeliveryDetail.objects.create(
        order=self.order,
    ...<4 lines>...
        delivery_country='United Kingdom'
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 661, in create
    obj = self.model(**kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 569, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: OrderDeliveryDetail() got unexpected keyword arguments: 'delivery_address_line1', 'delivery_city', 'delivery_postal_code', 'delivery_country'

======================================================================
ERROR: test_card_payment_failure (cart.tests.test_payment_integration.PaymentIntegrationTest.test_card_payment_failure)
Test card payment failure handling
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_payment_integration.py", line 169, in test_card_payment_failure
    with patch('cart.services.payment_service.process_card_payment') as mock_payment:
         ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1497, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1467, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'cart.services.payment_service' from '/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/services/payment_service.py'> does not have the attribute 'process_card_payment'

======================================================================
ERROR: test_card_payment_success (cart.tests.test_payment_integration.PaymentIntegrationTest.test_card_payment_success)
Test successful card payment processing
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_payment_integration.py", line 94, in test_card_payment_success
    with patch('cart.services.payment_service.process_card_payment') as mock_payment:
         ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1497, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1467, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'cart.services.payment_service' from '/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/services/payment_service.py'> does not have the attribute 'process_card_payment'

======================================================================
ERROR: test_invoice_payment_success (cart.tests.test_payment_integration.PaymentIntegrationTest.test_invoice_payment_success)
Test successful invoice payment processing
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_payment_integration.py", line 129, in test_invoice_payment_success
    with patch('cart.services.payment_service.process_invoice_payment') as mock_payment:
         ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1497, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1467, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'cart.services.payment_service' from '/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/services/payment_service.py'> does not have the attribute 'process_invoice_payment'

======================================================================
ERROR: test_cart_totals_serializer_structure (cart.tests.test_serializers_vat.CartVATSerializersTestCase.test_cart_totals_serializer_structure)
Test Cart totals include vat_breakdown
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_serializers_vat.py", line 125, in test_cart_totals_serializer_structure
    self.assertIn('total_net_amount', vat_totals)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/case.py", line 1171, in assertIn
    if member not in container:
       ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: argument of type 'NoneType' is not iterable

======================================================================
ERROR: test_vat_breakdown_aggregation (cart.tests.test_serializers_vat.CartVATSerializersTestCase.test_vat_breakdown_aggregation)
Test VAT breakdown correctly aggregates items by region
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_serializers_vat.py", line 293, in test_vat_breakdown_aggregation
    vat_breakdown = data['vat_totals']['vat_breakdown']
                    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable

======================================================================
ERROR: test_vat_rate_percentage_formatting (cart.tests.test_serializers_vat.CartVATSerializersTestCase.test_vat_rate_percentage_formatting)
Test VAT rate is formatted as percentage in breakdown
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_serializers_vat.py", line 337, in test_vat_rate_percentage_formatting
    vat_breakdown = data['vat_totals']['vat_breakdown']
                    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable

======================================================================
ERROR: test_advanced_search_text_query (catalog.tests.test_views.TestAdvancedProductSearchView.test_advanced_search_text_query)
Advanced search should filter by text query.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: function similarity(character varying, unknown) does not exist
LINE 1: ...active", "acted"."catalog_products"."buy_both", ((SIMILARITY...
                                                             ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_views.py", line 549, in test_advanced_search_text_query
    response = self.client.get('/api/catalog/advanced-search/', {'q': 'CM2 Core'})
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 292, in get
    response = super().get(path, data=data, **extra)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 209, in get
    return self.generic('GET', path, **r)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 237, in generic
    return super().generic(
           ~~~~~~~~~~~~~~~^
        method, path, data, content_type, secure, **extra)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/test/client.py", line 671, in generic
    return self.request(**r)
           ~~~~~~~~~~~~^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 289, in request
    return super().request(**kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 241, in request
    request = super().request(**kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/test/client.py", line 1087, in request
    self.check_exception(response)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/test/client.py", line 802, in check_exception
    raise exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/views/navigation_views.py", line 413, in advanced_product_search
    'results': ProductSerializer(products, many=True).data,
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 797, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 716, in to_representation
    self.child.to_representation(item) for item in iterable
                                                   ^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 384, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1949, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1623, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: function similarity(character varying, unknown) does not exist
LINE 1: ...active", "acted"."catalog_products"."buy_both", ((SIMILARITY...
                                                             ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.


======================================================================
ERROR: test_get_vat_rate_callable (rules_engine.tests.test_custom_functions_vat.TestVATFunctionsCallable.test_get_vat_rate_callable)
Test that get_vat_rate can be called via registry.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_custom_functions_vat.py", line 41, in test_get_vat_rate_callable
    func = FUNCTION_REGISTRY['get_vat_rate']
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
KeyError: 'get_vat_rate'

======================================================================
ERROR: test_map_country_to_region_callable (rules_engine.tests.test_custom_functions_vat.TestVATFunctionsCallable.test_map_country_to_region_callable)
Test that map_country_to_region can be called via registry.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_custom_functions_vat.py", line 48, in test_map_country_to_region_callable
    func = FUNCTION_REGISTRY['map_country_to_region']
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'map_country_to_region'

======================================================================
ERROR: test_no_schema_validation_when_rules_fields_id_is_none (rules_engine.tests.test_schema_validation_errors.SchemaValidationErrorTest.test_no_schema_validation_when_rules_fields_id_is_none)
Test that rules without schema validation still work normally
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "rules_fields_code" of relation "acted_rules" violates not-null constraint
DETAIL:  Failing row contains (76, Test No Schema Rule, , test_no_schema, 10, t, 1, {"always": true}, [{"type": "display_message", "title": "Test Message", "content":..., f, {}, null, null, 2026-01-08 17:08:22.820037+00, 2026-01-08 17:08:22.82004+00, test_no_schema_rule, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_schema_validation_errors.py", line 136, in test_no_schema_validation_when_rules_fields_id_is_none
    rule_no_schema = ActedRule.objects.create(
        rule_code='test_no_schema_rule',
    ...<10 lines>...
        }]
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1868, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "rules_fields_code" of relation "acted_rules" violates not-null constraint
DETAIL:  Failing row contains (76, Test No Schema Rule, , test_no_schema, 10, t, 1, {"always": true}, [{"type": "display_message", "title": "Test Message", "content":..., f, {}, null, null, 2026-01-08 17:08:22.820037+00, 2026-01-08 17:08:22.82004+00, test_no_schema_rule, null).


======================================================================
ERROR: test_homepage_preferences_loaded (rules_engine.tests.test_stage7_end_to_end.Stage7EndToEndTests.test_homepage_preferences_loaded)
TDD RED: Test homepage preferences display correctly for returning users
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage7_end_to_end.py", line 520, in test_homepage_preferences_loaded
    self.assertEqual(result['preference_prompts'][0]['ackKey'], 'newsletter_signup')
                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
KeyError: 'ackKey'

======================================================================
ERROR: test_delete_rule_endpoint (rules_engine.tests.test_stage9_views.TestRuleViews.test_delete_rule_endpoint)
TDD RED: Test soft-delete of rule via API
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage9_views.py", line 673, in test_delete_rule_endpoint
    response = self.client.delete(url)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 323, in delete
    response = super().delete(
        path, data=data, format=format, content_type=content_type, **extra)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 225, in delete
    return self.generic('DELETE', path, data, content_type, **extra)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 237, in generic
    return super().generic(
           ~~~~~~~~~~~~~~~^
        method, path, data, content_type, secure, **extra)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/test/client.py", line 671, in generic
    return self.request(**r)
           ~~~~~~~~~~~~^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 289, in request
    return super().request(**kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 241, in request
    request = super().request(**kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/test/client.py", line 1087, in request
    self.check_exception(response)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/test/client.py", line 802, in check_exception
    raise exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 90, in destroy
    instance = self.get_object()
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 100, in get_object
    obj = get_object_or_404(queryset, **filter_kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 19, in get_object_or_404
    return _get_object_or_404(queryset, *filter_args, **filter_kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/shortcuts.py", line 90, in get_object_or_404
    return queryset.get(*args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 619, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
                                                        ~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1493, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1511, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1518, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1646, in add_q
    clause, _ = self._add_q(q_object, can_reuse)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1678, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1526, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1333, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1805, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'rule_id' into field. Choices are: actions, active, active_from, active_until, condition, created_at, description, entry_point, id, metadata, name, orderuserpreference, priority, rule_code, rules_fields_code, stop_processing, updated_at, version

======================================================================
ERROR: test_get_rules_for_entrypoint (rules_engine.tests.test_stage9_views.TestRuleViews.test_get_rules_for_entrypoint)
TDD RED: Test API returns rules for specific entrypoint
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage9_views.py", line 202, in test_get_rules_for_entrypoint
    rule_ids = [rule['rule_id'] for rule in data]
                ~~~~^^^^^^^^^^^
KeyError: 'rule_id'

======================================================================
ERROR: test_update_rule_endpoint (rules_engine.tests.test_stage9_views.TestRuleViews.test_update_rule_endpoint)
TDD RED: Test updating existing rule via API
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage9_views.py", line 642, in test_update_rule_endpoint
    response = self.client.patch(url, update_data, format='json')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 315, in patch
    response = super().patch(
        path, data=data, format=format, content_type=content_type, **extra)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 221, in patch
    return self.generic('PATCH', path, data, content_type, **extra)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 237, in generic
    return super().generic(
           ~~~~~~~~~~~~~~~^
        method, path, data, content_type, secure, **extra)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/test/client.py", line 671, in generic
    return self.request(**r)
           ~~~~~~~~~~~~^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 289, in request
    return super().request(**kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 241, in request
    request = super().request(**kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/test/client.py", line 1087, in request
    self.check_exception(response)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/test/client.py", line 802, in check_exception
    raise exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 82, in partial_update
    return self.update(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 65, in update
    instance = self.get_object()
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 100, in get_object
    obj = get_object_or_404(queryset, **filter_kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 19, in get_object_or_404
    return _get_object_or_404(queryset, *filter_args, **filter_kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/shortcuts.py", line 90, in get_object_or_404
    return queryset.get(*args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 619, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
                                                        ~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1493, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1511, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1518, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1646, in add_q
    clause, _ = self._add_q(q_object, can_reuse)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1678, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1526, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1333, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1805, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'rule_id' into field. Choices are: actions, active, active_from, active_until, condition, created_at, description, entry_point, id, metadata, name, orderuserpreference, priority, rule_code, rules_fields_code, stop_processing, updated_at, version

======================================================================
ERROR: test_get_session_info_authenticated (students.tests.test_auth.AuthenticationTests.test_get_session_info_authenticated)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/students/tests/test_auth.py", line 78, in test_get_session_info_authenticated
    self.assertTrue(response.data['authenticated'])
                    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
KeyError: 'authenticated'

======================================================================
ERROR: test_empty_file (subjects.tests.test_import_subjects_command.ImportSubjectsCommandTest.test_empty_file)
Test importing empty file.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/management/commands/import_subjects.py", line 50, in handle
    df = pd.read_csv(file_path)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/pandas/io/parsers/readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/pandas/io/parsers/readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/pandas/io/parsers/readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
                   ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/pandas/io/parsers/readers.py", line 1898, in _make_engine
    return mapping[engine](f, **self.options)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/pandas/io/parsers/c_parser_wrapper.py", line 93, in __init__
    self._reader = parsers.TextReader(src, **kwds)
                   ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "pandas/_libs/parsers.pyx", line 581, in pandas._libs.parsers.TextReader.__cinit__
pandas.errors.EmptyDataError: No columns to parse from file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/subjects/tests/test_import_subjects_command.py", line 167, in test_empty_file
    call_command('import_subjects', empty_file, stdout=out)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/management/__init__.py", line 194, in call_command
    return command.execute(*args, **defaults)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/management/commands/import_subjects.py", line 130, in handle
    raise CommandError(f"Import failed: {str(e)}")
django.core.management.base.CommandError: Import failed: No columns to parse from file

======================================================================
ERROR: test_transform_valid_response (utils.services.tests.test_postcoder_service.PostcoderServiceTestCase.test_transform_valid_response)
Test transformation of valid Postcoder response
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1423, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1405, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1497, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1467, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'utils.services.postcoder_service' from '/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/services/postcoder_service.py'> does not have the attribute 'UtilsCountrys'

======================================================================
ERROR: test_full_flow_cache_hit_on_second_request (utils.tests.test_postcoder_integration.PostcoderAddressLookupIntegrationTests.test_full_flow_cache_hit_on_second_request)
Test cache hit behavior: first request populates cache, second request uses cache
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_postcoder_integration.py", line 148, in test_full_flow_cache_hit_on_second_request
    cached = CachedAddress.objects.get(postcode=self.test_postcode)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 633, in get
    raise self.model.DoesNotExist(
        "%s matching query does not exist." % self.model._meta.object_name
    )
address_cache.models.CachedAddress.DoesNotExist: CachedAddress matching query does not exist.

======================================================================
ERROR: test_get_price_levels (administrate.tests.test_connection.AdministrateConnectionTest.test_get_price_levels)
Test retrieving price levels from Administrate API
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/administrate/tests/test_connection.py", line 31, in test_get_price_levels
    result = self.api_service.execute_query(query)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/administrate/services/api_service.py", line 29, in execute_query
    'Authorization': f'Bearer {self.auth_service.get_access_token()}',
                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/administrate/services/auth_service.py", line 25, in get_access_token
    token = self._setup_tokens(token or {})
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/administrate/services/auth_service.py", line 59, in _setup_tokens
    auth_user = token_data.get('auth_user') or settings.ADMINISTRATE_AUTH_USER
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/conf/__init__.py", line 83, in __getattr__
    val = getattr(_wrapped, name)
AttributeError: 'Settings' object has no attribute 'ADMINISTRATE_AUTH_USER'. Did you mean: 'ADMINISTRATE_API_KEY'?

======================================================================
ERROR: test_chain_rules_api_flow (rules_engine.tests.test_stage10_end_to_end_api.TestEndToEndAPIFlows.test_chain_rules_api_flow)
TDD RED: Test multiple rules executing in sequence
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
           ~~~~~~~~~~~~~~~~~~~^^^^^
psycopg2.errors.FeatureNotSupported: cannot truncate a table referenced in a foreign key constraint
DETAIL:  Table "acted_product_productgroup" references "acted_filter_group".
HINT:  Truncate table "acted_product_productgroup" at the same time, or use TRUNCATE ... CASCADE.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/management/commands/flush.py", line 74, in handle
    connection.ops.execute_sql_flush(sql_list)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/base/operations.py", line 473, in execute_sql_flush
    cursor.execute(sql)
    ~~~~~~~~~~~~~~^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
           ~~~~~~~~~~~~~~~~~~~^^^^^
django.db.utils.NotSupportedError: cannot truncate a table referenced in a foreign key constraint
DETAIL:  Table "acted_product_productgroup" references "acted_filter_group".
HINT:  Truncate table "acted_product_productgroup" at the same time, or use TRUNCATE ... CASCADE.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/management/__init__.py", line 194, in call_command
    return command.execute(*args, **defaults)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/management/commands/flush.py", line 76, in handle
    raise CommandError(
    ...<7 lines>...
    ) from exc
django.core.management.base.CommandError: Database test_ACTEDDBDEV01 couldn't be flushed. Possible reasons:
  * The database isn't running or isn't configured correctly.
  * At least one of the expected database tables doesn't exist.
  * The SQL was invalid.
Hint: Look at the output of 'django-admin sqlflush'. That's the SQL this command wasn't able to run.

======================================================================
ERROR: test_checkout_terms_api_flow (rules_engine.tests.test_stage10_end_to_end_api.TestEndToEndAPIFlows.test_checkout_terms_api_flow)
TDD RED: Test complete checkout flow with terms acknowledgment
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(eu_user) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage10_end_to_end_api.py", line 44, in setUp
    self.eu_user = User.objects.create_user(
                   ~~~~~~~~~~~~~~~~~~~~~~~~^
        username='eu_user',
        ^^^^^^^^^^^^^^^^^^^
        email='eu@example.com',
        ^^^^^^^^^^^^^^^^^^^^^^^
        password='testpass123'
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/contrib/auth/models.py", line 175, in create_user
    return self._create_user(username, email, password, **extra_fields)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/contrib/auth/models.py", line 163, in _create_user
    user.save(using=self._db)
    ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/contrib/auth/base_user.py", line 65, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1868, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(eu_user) already exists.


======================================================================
ERROR: test_checkout_terms_api_flow (rules_engine.tests.test_stage10_end_to_end_api.TestEndToEndAPIFlows.test_checkout_terms_api_flow)
TDD RED: Test complete checkout flow with terms acknowledgment
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
           ~~~~~~~~~~~~~~~~~~~^^^^^
psycopg2.errors.FeatureNotSupported: cannot truncate a table referenced in a foreign key constraint
DETAIL:  Table "acted_product_productgroup" references "acted_filter_group".
HINT:  Truncate table "acted_product_productgroup" at the same time, or use TRUNCATE ... CASCADE.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/management/commands/flush.py", line 74, in handle
    connection.ops.execute_sql_flush(sql_list)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/base/operations.py", line 473, in execute_sql_flush
    cursor.execute(sql)
    ~~~~~~~~~~~~~~^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
           ~~~~~~~~~~~~~~~~~~~^^^^^
django.db.utils.NotSupportedError: cannot truncate a table referenced in a foreign key constraint
DETAIL:  Table "acted_product_productgroup" references "acted_filter_group".
HINT:  Truncate table "acted_product_productgroup" at the same time, or use TRUNCATE ... CASCADE.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/management/__init__.py", line 194, in call_command
    return command.execute(*args, **defaults)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/management/commands/flush.py", line 76, in handle
    raise CommandError(
    ...<7 lines>...
    ) from exc
django.core.management.base.CommandError: Database test_ACTEDDBDEV01 couldn't be flushed. Possible reasons:
  * The database isn't running or isn't configured correctly.
  * At least one of the expected database tables doesn't exist.
  * The SQL was invalid.
Hint: Look at the output of 'django-admin sqlflush'. That's the SQL this command wasn't able to run.

======================================================================
ERROR: test_update_action_api_flow (rules_engine.tests.test_stage10_end_to_end_api.TestEndToEndAPIFlows.test_update_action_api_flow)
TDD RED: Test context update via rules (e.g., apply discount)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(eu_user) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage10_end_to_end_api.py", line 44, in setUp
    self.eu_user = User.objects.create_user(
                   ~~~~~~~~~~~~~~~~~~~~~~~~^
        username='eu_user',
        ^^^^^^^^^^^^^^^^^^^
        email='eu@example.com',
        ^^^^^^^^^^^^^^^^^^^^^^^
        password='testpass123'
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/contrib/auth/models.py", line 175, in create_user
    return self._create_user(username, email, password, **extra_fields)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/contrib/auth/models.py", line 163, in _create_user
    user.save(using=self._db)
    ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/contrib/auth/base_user.py", line 65, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1868, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(eu_user) already exists.


======================================================================
ERROR: test_update_action_api_flow (rules_engine.tests.test_stage10_end_to_end_api.TestEndToEndAPIFlows.test_update_action_api_flow)
TDD RED: Test context update via rules (e.g., apply discount)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
           ~~~~~~~~~~~~~~~~~~~^^^^^
psycopg2.errors.FeatureNotSupported: cannot truncate a table referenced in a foreign key constraint
DETAIL:  Table "acted_product_productgroup" references "acted_filter_group".
HINT:  Truncate table "acted_product_productgroup" at the same time, or use TRUNCATE ... CASCADE.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/management/commands/flush.py", line 74, in handle
    connection.ops.execute_sql_flush(sql_list)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/base/operations.py", line 473, in execute_sql_flush
    cursor.execute(sql)
    ~~~~~~~~~~~~~~^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
           ~~~~~~~~~~~~~~~~~~~^^^^^
django.db.utils.NotSupportedError: cannot truncate a table referenced in a foreign key constraint
DETAIL:  Table "acted_product_productgroup" references "acted_filter_group".
HINT:  Truncate table "acted_product_productgroup" at the same time, or use TRUNCATE ... CASCADE.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/management/__init__.py", line 194, in call_command
    return command.execute(*args, **defaults)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/management/commands/flush.py", line 76, in handle
    raise CommandError(
    ...<7 lines>...
    ) from exc
django.core.management.base.CommandError: Database test_ACTEDDBDEV01 couldn't be flushed. Possible reasons:
  * The database isn't running or isn't configured correctly.
  * At least one of the expected database tables doesn't exist.
  * The SQL was invalid.
Hint: Look at the output of 'django-admin sqlflush'. That's the SQL this command wasn't able to run.

======================================================================
ERROR: test_user_preference_api_flow (rules_engine.tests.test_stage10_end_to_end_api.TestEndToEndAPIFlows.test_user_preference_api_flow)
TDD RED: Test home page preferences flow
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(eu_user) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage10_end_to_end_api.py", line 44, in setUp
    self.eu_user = User.objects.create_user(
                   ~~~~~~~~~~~~~~~~~~~~~~~~^
        username='eu_user',
        ^^^^^^^^^^^^^^^^^^^
        email='eu@example.com',
        ^^^^^^^^^^^^^^^^^^^^^^^
        password='testpass123'
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/contrib/auth/models.py", line 175, in create_user
    return self._create_user(username, email, password, **extra_fields)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/contrib/auth/models.py", line 163, in _create_user
    user.save(using=self._db)
    ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/contrib/auth/base_user.py", line 65, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1868, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(eu_user) already exists.


======================================================================
ERROR: test_user_preference_api_flow (rules_engine.tests.test_stage10_end_to_end_api.TestEndToEndAPIFlows.test_user_preference_api_flow)
TDD RED: Test home page preferences flow
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
           ~~~~~~~~~~~~~~~~~~~^^^^^
psycopg2.errors.FeatureNotSupported: cannot truncate a table referenced in a foreign key constraint
DETAIL:  Table "acted_product_productgroup" references "acted_filter_group".
HINT:  Truncate table "acted_product_productgroup" at the same time, or use TRUNCATE ... CASCADE.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/management/commands/flush.py", line 74, in handle
    connection.ops.execute_sql_flush(sql_list)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/base/operations.py", line 473, in execute_sql_flush
    cursor.execute(sql)
    ~~~~~~~~~~~~~~^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
           ~~~~~~~~~~~~~~~~~~~^^^^^
django.db.utils.NotSupportedError: cannot truncate a table referenced in a foreign key constraint
DETAIL:  Table "acted_product_productgroup" references "acted_filter_group".
HINT:  Truncate table "acted_product_productgroup" at the same time, or use TRUNCATE ... CASCADE.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/management/__init__.py", line 194, in call_command
    return command.execute(*args, **defaults)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/django/core/management/commands/flush.py", line 76, in handle
    raise CommandError(
    ...<7 lines>...
    ) from exc
django.core.management.base.CommandError: Database test_ACTEDDBDEV01 couldn't be flushed. Possible reasons:
  * The database isn't running or isn't configured correctly.
  * At least one of the expected database tables doesn't exist.
  * The SQL was invalid.
Hint: Look at the output of 'django-admin sqlflush'. That's the SQL this command wasn't able to run.

======================================================================
FAIL: test_handle_set_soldout_collects_all_events_first (administrate.tests.test_manage_events_command.ManageEventsCommandTest.test_handle_set_soldout_collects_all_events_first)
Test that set-soldout collects all events before processing to avoid pagination issues.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/administrate/tests/test_manage_events_command.py", line 67, in test_handle_set_soldout_collects_all_events_first
    self.assertIn("Collecting all events", output)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'Collecting all events' not found in '\nSetting sold out status for events:  Sitting: 25S  State: published  Sold out: TrueProcessing batch of 100 events (offset: 0)...Summary:  Total events found: 100  Successfully updated: 100'

======================================================================
FAIL: test_handle_set_soldout_pagination_bug_demonstration (administrate.tests.test_manage_events_command.ManageEventsCommandTest.test_handle_set_soldout_pagination_bug_demonstration)
Test that demonstrates the pagination bug - same events returned multiple times.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/administrate/tests/test_manage_events_command.py", line 121, in test_handle_set_soldout_pagination_bug_demonstration
    self.assertEqual(soldout_call_count, 10, "Should process each event exactly once")
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 20 != 10 : Should process each event exactly once

======================================================================
FAIL: test_get_cart_accepts_country_code_param (cart.tests.test_api_endpoints.CartAPIVATTestCase.test_get_cart_accepts_country_code_param)
Test GET /api/cart/?country_code=ZA uses provided country code
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_api_endpoints.py", line 80, in test_get_cart_accepts_country_code_param
    mock_calculate_vat.assert_called()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 948, in assert_called
    raise AssertionError(msg)
AssertionError: Expected 'calculate_vat_for_all_items' to have been called.

======================================================================
FAIL: test_remove_item_triggers_vat_recalc (cart.tests.test_api_endpoints.CartItemAPIVATTestCase.test_remove_item_triggers_vat_recalc)
Test DELETE /api/cart/remove/ triggers VAT recalculation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_api_endpoints.py", line 287, in test_remove_item_triggers_vat_recalc
    self.assertIsNone(cart.vat_result)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
AssertionError: {'items': [], 'region': 'UNKNOWN', 'status': 'calculated', 'totals': {'net': '0.00', 'vat': '0.00', 'gross': '0.00'}, 'timestamp': '2026-01-08T17:06:30.510081+00:00', 'execution_id': 'exec_1767891990', 'rules_executed': []} is not None

======================================================================
FAIL: test_recalculate_accepts_country_code (cart.tests.test_api_endpoints.CartVATRecalculateEndpointTestCase.test_recalculate_accepts_country_code)
Test recalculate endpoint accepts country_code parameter
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_api_endpoints.py", line 367, in test_recalculate_accepts_country_code
    mock_calculate_vat.assert_called()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 948, in assert_called
    raise AssertionError(msg)
AssertionError: Expected 'calculate_vat_for_all_items' to have been called.

======================================================================
FAIL: test_recalculate_forces_fresh_calculation (cart.tests.test_api_endpoints.CartVATRecalculateEndpointTestCase.test_recalculate_forces_fresh_calculation)
Test recalculate endpoint forces fresh VAT calculation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_api_endpoints.py", line 346, in test_recalculate_forces_fresh_calculation
    mock_calculate_vat.assert_called()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 948, in assert_called
    raise AssertionError(msg)
AssertionError: Expected 'calculate_vat_for_all_items' to have been called.

======================================================================
FAIL: test_cart_item_vat_fields_updated (cart.tests.test_cart_view_vat_integration.CartViewVATIntegrationTests.test_cart_item_vat_fields_updated)
Test that CartItem VAT fields are updated from orchestrator result.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_view_vat_integration.py", line 136, in test_cart_item_vat_fields_updated
    self.assertEqual(cart_item.vat_region, 'UK')
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'UNKNOWN' != 'UK'
- UNKNOWN
+ UK


======================================================================
FAIL: test_multiple_items_aggregation (cart.tests.test_cart_view_vat_integration.CartViewVATIntegrationTests.test_multiple_items_aggregation)
Test VAT calculation with multiple cart items.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_view_vat_integration.py", line 193, in test_multiple_items_aggregation
    self.assertEqual(self.cart.vat_result['totals']['net'], '250.00')
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: '0.00' != '250.00'
- 0.00
+ 250.00
? ++


======================================================================
FAIL: test_trigger_vat_calculation_calls_orchestrator (cart.tests.test_cart_view_vat_integration.CartViewVATIntegrationTests.test_trigger_vat_calculation_calls_orchestrator)
Test that _trigger_vat_calculation calls orchestrator and stores result.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_view_vat_integration.py", line 75, in test_trigger_vat_calculation_calls_orchestrator
    self.assertEqual(self.cart.vat_result['region'], 'UK')
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'UNKNOWN' != 'UK'
- UNKNOWN
+ UK


======================================================================
FAIL: test_add_item_triggers_vat_calculation (cart.tests.test_e2e_vat_integration.VATEndToEndIntegrationTests.test_add_item_triggers_vat_calculation)
Test that adding item to cart triggers VAT calculation and stores result.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_e2e_vat_integration.py", line 81, in test_add_item_triggers_vat_calculation
    self.assertEqual(response.status_code, status.HTTP_200_OK)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 404 != 200

======================================================================
FAIL: test_remove_item_invalidates_vat_cache (cart.tests.test_e2e_vat_integration.VATEndToEndIntegrationTests.test_remove_item_invalidates_vat_cache)
Test that removing item invalidates VAT cache.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_e2e_vat_integration.py", line 213, in test_remove_item_invalidates_vat_cache
    self.assertEqual(response.status_code, status.HTTP_204_NO_CONTENT)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 200 != 204

======================================================================
FAIL: test_update_item_quantity_recalculates_vat (cart.tests.test_e2e_vat_integration.VATEndToEndIntegrationTests.test_update_item_quantity_recalculates_vat)
Test that updating item quantity triggers VAT recalculation.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_e2e_vat_integration.py", line 185, in test_update_item_quantity_recalculates_vat
    self.assertEqual(self.cart.vat_result['totals']['vat'], '60.00')
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: '0.00' != '60.00'
- 0.00
+ 60.00
? +


======================================================================
FAIL: test_vat_audit_trail_created (cart.tests.test_e2e_vat_integration.VATEndToEndIntegrationTests.test_vat_audit_trail_created)
Test that VAT calculation creates audit trail record.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_e2e_vat_integration.py", line 432, in test_vat_audit_trail_created
    self.assertEqual(response.status_code, status.HTTP_200_OK)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 404 != 200

======================================================================
FAIL: test_vat_calculation_error_handling (cart.tests.test_e2e_vat_integration.VATEndToEndIntegrationTests.test_vat_calculation_error_handling)
Test that VAT calculation errors are properly handled and stored.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_e2e_vat_integration.py", line 236, in test_vat_calculation_error_handling
    self.assertEqual(response.status_code, status.HTTP_200_OK)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 404 != 200

======================================================================
FAIL: test_workflow_change_country_vat_recalculated (cart.tests.test_integration.CartVATIntegrationTestCase.test_workflow_change_country_vat_recalculated)
Integration Test: Change country â†’ VAT recalculated for new country
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_integration.py", line 319, in test_workflow_change_country_vat_recalculated
    mock_calculate_vat.assert_called()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 948, in assert_called
    raise AssertionError(msg)
AssertionError: Expected 'calculate_vat_for_all_items' to have been called.

======================================================================
FAIL: test_workflow_manual_recalculation (cart.tests.test_integration.CartVATIntegrationTestCase.test_workflow_manual_recalculation)
Integration Test: Manual VAT recalculation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_integration.py", line 388, in test_workflow_manual_recalculation
    mock_calculate_vat.assert_called()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 948, in assert_called
    raise AssertionError(msg)
AssertionError: Expected 'calculate_vat_for_all_items' to have been called.

======================================================================
FAIL: test_order_user_contact_required_fields_validation (cart.tests.test_order_contact_models.OrderUserContactModelTest.test_order_user_contact_required_fields_validation)
Test that required fields are validated
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_order_contact_models.py", line 86, in test_order_user_contact_required_fields_validation
    with self.assertRaises(IntegrityError):
         ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
AssertionError: IntegrityError not raised

======================================================================
FAIL: test_fuzzy_search_allows_anonymous (catalog.tests.test_views.TestFuzzySearchView.test_fuzzy_search_allows_anonymous)
search should allow anonymous access.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_views.py", line 530, in test_fuzzy_search_allows_anonymous
    self.assertEqual(response.status_code, status.HTTP_200_OK)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 500 != 200

======================================================================
FAIL: test_fuzzy_search_finds_products (catalog.tests.test_views.TestFuzzySearchView.test_fuzzy_search_finds_products)
Search should find matching products.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_views.py", line 518, in test_fuzzy_search_finds_products
    self.assertEqual(response.status_code, status.HTTP_200_OK)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 500 != 200

======================================================================
FAIL: test_fuzzy_search_finds_subjects (catalog.tests.test_views.TestFuzzySearchView.test_fuzzy_search_finds_subjects)
Search should find matching subjects.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_views.py", line 507, in test_fuzzy_search_finds_subjects
    self.assertEqual(response.status_code, status.HTTP_200_OK)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 500 != 200

======================================================================
FAIL: test_fuzzy_search_returns_structure (catalog.tests.test_views.TestFuzzySearchView.test_fuzzy_search_returns_structure)
Search should return expected response structure.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_views.py", line 492, in test_fuzzy_search_returns_structure
    self.assertEqual(response.status_code, status.HTTP_200_OK)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 500 != 200

======================================================================
FAIL: test_marking_vouchers_with_search_query (exam_sessions_subjects_products.tests.test_unified_search.MarkingVoucherIntegrationTest.test_marking_vouchers_with_search_query)
Test that marking vouchers appear in search results
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/exam_sessions_subjects_products/tests/test_unified_search.py", line 284, in test_marking_vouchers_with_search_query
    self.assertGreater(len(voucher_products), 0)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 0 not greater than 0

======================================================================
FAIL: test_unified_search_with_filter_service (exam_sessions_subjects_products.tests.test_unified_search.UnifiedSearchEndpointTest.test_unified_search_with_filter_service)
Test that unified search uses the filter service correctly
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/exam_sessions_subjects_products/tests/test_unified_search.py", line 140, in test_unified_search_with_filter_service
    mock_service.apply_filters.assert_called_once()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 958, in assert_called_once
    raise AssertionError(msg)
AssertionError: Expected 'apply_filters' to have been called once. Called 0 times.

======================================================================
FAIL: test_empty_cart_does_not_trigger_rule (rules_engine.tests.test_aset_warning_rule.ASETWarningRuleTestCase.test_empty_cart_does_not_trigger_rule)
Test that empty cart does not trigger the rule
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_aset_warning_rule.py", line 245, in test_empty_cart_does_not_trigger_rule
    self.assertEqual(result["rules_evaluated"], 0)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 1 != 0

======================================================================
FAIL: test_rule_does_not_trigger_for_non_aset_product (rules_engine.tests.test_aset_warning_rule.ASETWarningRuleTestCase.test_rule_does_not_trigger_for_non_aset_product)
Test that rule does NOT trigger for non-ASET products
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_aset_warning_rule.py", line 227, in test_rule_does_not_trigger_for_non_aset_product
    self.assertEqual(result["rules_evaluated"], 0)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 1 != 0

======================================================================
FAIL: test_uk_flash_card_calculates_vat (rules_engine.tests.test_composite_vat_rules.ProductRulesTestCase.test_uk_flash_card_calculates_vat)
T012.3: Test UK FlashCard product rule calculates VAT.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_composite_vat_rules.py", line 538, in test_uk_flash_card_calculates_vat
    self.assertEqual(result['cart_item']['vat_amount'], Decimal('6.00'))
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Decimal('0.00') != Decimal('6.00')

======================================================================
FAIL: test_uk_pbor_calculates_vat (rules_engine.tests.test_composite_vat_rules.ProductRulesTestCase.test_uk_pbor_calculates_vat)
T012.4: Test UK PBOR product rule calculates VAT.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_composite_vat_rules.py", line 555, in test_uk_pbor_calculates_vat
    self.assertEqual(result['cart_item']['vat_amount'], Decimal('15.00'))
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Decimal('0.00') != Decimal('15.00')

======================================================================
FAIL: test_uk_printed_product_calculates_vat (rules_engine.tests.test_composite_vat_rules.ProductRulesTestCase.test_uk_printed_product_calculates_vat)
T012.2: Test UK Printed product rule calculates VAT.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_composite_vat_rules.py", line 521, in test_uk_printed_product_calculates_vat
    self.assertEqual(result['cart_item']['vat_amount'], Decimal('20.00'))
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Decimal('0.00') != Decimal('20.00')

======================================================================
FAIL: test_get_vat_rate_registered (rules_engine.tests.test_custom_functions_vat.TestVATFunctionsRegistered.test_get_vat_rate_registered)
Test that get_vat_rate is registered.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_custom_functions_vat.py", line 22, in test_get_vat_rate_registered
    self.assertIn('get_vat_rate', FUNCTION_REGISTRY)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'get_vat_rate' not found in {'lookup_region': <function lookup_region at 0x111fc3920>, 'lookup_vat_rate': <function lookup_vat_rate at 0x111fc39c0>, 'calculate_vat_amount': <function calculate_vat_amount at 0x111fc3a60>, 'add_decimals': <function add_decimals at 0x111fc3b00>}

======================================================================
FAIL: test_map_country_to_region_registered (rules_engine.tests.test_custom_functions_vat.TestVATFunctionsRegistered.test_map_country_to_region_registered)
Test that map_country_to_region is registered.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_custom_functions_vat.py", line 27, in test_map_country_to_region_registered
    self.assertIn('map_country_to_region', FUNCTION_REGISTRY)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'map_country_to_region' not found in {'lookup_region': <function lookup_region at 0x111fc3920>, 'lookup_vat_rate': <function lookup_vat_rate at 0x111fc39c0>, 'calculate_vat_amount': <function calculate_vat_amount at 0x111fc3a60>, 'add_decimals': <function add_decimals at 0x111fc3b00>}

======================================================================
FAIL: test_command_populates_entry_points (rules_engine.tests.test_populate_entry_points_command.TestPopulateEntryPointsCommand.test_command_populates_entry_points)
TDD RED: Test that command actually creates entry points in database
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_populate_entry_points_command.py", line 51, in test_command_populates_entry_points
    self.assertEqual(
    ~~~~~~~~~~~~~~~~^
        actual_count, expected_count,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        f"Expected {expected_count} entry points, got {actual_count}"
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
AssertionError: 8 != 9 : Expected 9 entry points, got 8

======================================================================
FAIL: test_multiple_schema_validation_errors (rules_engine.tests.test_schema_validation_errors.SchemaValidationErrorTest.test_multiple_schema_validation_errors)
Test that multiple schema validation errors are properly reported
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_schema_validation_errors.py", line 131, in test_multiple_schema_validation_errors
    self.assertGreater(len(response_data['schema_validation_errors']), 1)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 1 not greater than 1

======================================================================
FAIL: test_schema_validation_error_returns_proper_error_response (rules_engine.tests.test_schema_validation_errors.SchemaValidationErrorTest.test_schema_validation_error_returns_proper_error_response)
Test that schema validation failures return proper error response to frontend
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_schema_validation_errors.py", line 100, in test_schema_validation_error_returns_proper_error_response
    self.assertIn('schema_validation_error', response_data)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'schema_validation_error' not found in {'success': False, 'blocked': True, 'messages': [], 'rules_evaluated': 0, 'execution_time_ms': 4.276037216186523, 'entry_point': 'checkout_start', 'schema_validation_errors': [{'rule_id': 'test_schema_validation_rule', 'rule_name': 'Test Schema Validation Rule', 'entry_point': 'checkout_start', 'error': "Schema validation failed at 'root': 'cart' is a required property"}], 'error': 'Context schema validation failed', 'details': 'Schema validation failed for 1 rule(s)'}

======================================================================
FAIL: test_rule_database_indexes_performance (rules_engine.tests.test_stage4_rule_integration.Stage4RuleIntegrationTests.test_rule_database_indexes_performance)
TDD RED: Test that database indexes are properly configured for performance
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage4_rule_integration.py", line 515, in test_rule_database_indexes_performance
    self.assertIn('acted_rules_rule_id', index_names)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'acted_rules_rule_id' not found in ['acted_rules_entry_active', 'acted_rules_rule_code', 'acted_rules_active_ent']

======================================================================
FAIL: test_chain_rules_execution (rules_engine.tests.test_stage7_end_to_end.Stage7EndToEndTests.test_chain_rules_execution)
TDD RED: Test multiple rules execute in sequence with proper chaining
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage7_end_to_end.py", line 707, in test_chain_rules_execution
    self.assertEqual(len(result['rules_executed']), 3)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 1 != 3

======================================================================
FAIL: test_performance_under_load (rules_engine.tests.test_stage7_end_to_end.Stage7EndToEndTests.test_performance_under_load)
TDD RED: Test rules engine performance with multiple concurrent executions
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage7_end_to_end.py", line 806, in test_performance_under_load
    self.assertEqual(successful_executions, 50)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 0 != 50

======================================================================
FAIL: test_action_serializer_message_template (rules_engine.tests.test_stage8_serializers.TestRuleSerializers.test_action_serializer_message_template)
TDD RED: Test that action with template serializes placeholders correctly
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage8_serializers.py", line 265, in test_action_serializer_message_template
    self.fail("RuleActionSerializer not implemented yet")
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: RuleActionSerializer not implemented yet

======================================================================
FAIL: test_bulk_serialization_performance (rules_engine.tests.test_stage8_serializers.TestRuleSerializers.test_bulk_serialization_performance)
TDD RED: Test that serializer handles bulk operations efficiently
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage8_serializers.py", line 528, in test_bulk_serialization_performance
    self.fail("ActedRuleSerializer not implemented yet")
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: ActedRuleSerializer not implemented yet

======================================================================
FAIL: test_entrypoint_serializer_output (rules_engine.tests.test_stage8_serializers.TestRuleSerializers.test_entrypoint_serializer_output)
TDD RED: Test that RuleEntryPoint serializes correctly
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage8_serializers.py", line 182, in test_entrypoint_serializer_output
    self.fail("RuleEntryPointSerializer not implemented yet")
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: RuleEntryPointSerializer not implemented yet

======================================================================
FAIL: test_invalid_serializer_rejects_missing_fields (rules_engine.tests.test_stage8_serializers.TestRuleSerializers.test_invalid_serializer_rejects_missing_fields)
TDD RED: Test that serializer rejects invalid rule input
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage8_serializers.py", line 343, in test_invalid_serializer_rejects_missing_fields
    self.fail("ActedRuleSerializer not implemented yet")
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: ActedRuleSerializer not implemented yet

======================================================================
FAIL: test_message_template_serializer_formats (rules_engine.tests.test_stage8_serializers.TestRuleSerializers.test_message_template_serializer_formats)
TDD RED: Test MessageTemplate serialization for different formats
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage8_serializers.py", line 459, in test_message_template_serializer_formats
    self.fail("MessageTemplateSerializer not implemented yet")
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: MessageTemplateSerializer not implemented yet

======================================================================
FAIL: test_nested_rule_serialization (rules_engine.tests.test_stage8_serializers.TestRuleSerializers.test_nested_rule_serialization)
TDD RED: Test complete nested serialization of rule with all relationships
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage8_serializers.py", line 486, in test_nested_rule_serialization
    self.fail("ActedRuleSerializer not implemented yet")
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: ActedRuleSerializer not implemented yet

======================================================================
FAIL: test_rule_execute_serializer_validates_context (rules_engine.tests.test_stage8_serializers.TestRuleSerializers.test_rule_execute_serializer_validates_context)
TDD RED: Test that execute serializer validates context against schema
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage8_serializers.py", line 397, in test_rule_execute_serializer_validates_context
    self.fail("RuleExecuteSerializer not implemented yet")
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: RuleExecuteSerializer not implemented yet

======================================================================
FAIL: test_rule_serializer_includes_fields_conditions_actions (rules_engine.tests.test_stage8_serializers.TestRuleSerializers.test_rule_serializer_includes_fields_conditions_actions)
TDD RED: Test that full rule is serialized with all components
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage8_serializers.py", line 206, in test_rule_serializer_includes_fields_conditions_actions
    self.fail("ActedRuleSerializer not implemented yet")
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: ActedRuleSerializer not implemented yet

======================================================================
FAIL: test_acknowledge_rule_allows_checkout (rules_engine.tests.test_stage9_views.TestRuleViews.test_acknowledge_rule_allows_checkout)
TDD RED: Test checkout allowed when acknowledgment is given
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage9_views.py", line 469, in test_acknowledge_rule_allows_checkout
    self.assertEqual(ack_response.status_code, status.HTTP_200_OK)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 400 != 200

======================================================================
FAIL: test_execute_rule_endpoint (rules_engine.tests.test_stage9_views.TestRuleViews.test_execute_rule_endpoint)
TDD RED: Test execute rules for given context
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage9_views.py", line 364, in test_execute_rule_endpoint
    self.assertIn('actions', data)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
AssertionError: 'actions' not found in {'success': True, 'blocked': False, 'messages': [], 'rules_evaluated': 1, 'execution_time_ms': 2.807140350341797, 'entry_point': 'checkout_terms', 'blocking_rules': [], 'required_acknowledgments': [], 'satisfied_acknowledgments': [], 'actions_completed': [], 'proceed': True, 'rules_executed': [{'rule_id': 'marking_deadline_rule', 'priority': 10, 'condition_result': False, 'actions_executed': 0, 'stop_processing': False, 'execution_time_ms': 1.8787384033203125}], 'preference_prompts': [], 'preferences': [], 'context_updates': {}, 'updates': {}, 'cart': {'id': 196, 'user': 123, 'session_key': None, 'items': [{'id': 425, 'current_product': 2763, 'product_id': 117, 'product_name': 'Series X Assignments (Marking)', 'product_code': 'X', 'subject_code': 'CS101', 'exam_session_code': '25A', 'product_type': 'marking', 'quantity': 1, 'price_type': 'standard', 'actual_price': '150.00', 'metadata': {'variationId': 6, 'variationName': 'Marking Product'}, 'is_marking': True, 'has_expired_deadline': True}], 'total': 150.0, 'created_at': '2025-08-05T14:45:42.685123Z', 'updated_at': '2025-08-08T15:39:05.464553Z', 'has_marking': True, 'has_material': False, 'has_tutorial': False}, 'request': {'ip_address': '127.0.0.1', 'user_agent': '', 'timestamp': '2026-01-08T17:08:26.276535+00:00'}}

======================================================================
FAIL: test_post_rule_creates_rule (rules_engine.tests.test_stage9_views.TestRuleViews.test_post_rule_creates_rule)
TDD RED: Test API allows rule creation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage9_views.py", line 240, in test_post_rule_creates_rule
    self.assertEqual(response.status_code, status.HTTP_201_CREATED)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 400 != 201

======================================================================
FAIL: test_rule_execution_logged (rules_engine.tests.test_stage9_views.TestRuleViews.test_rule_execution_logged)
TDD RED: Test that rule executions are logged to database
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage9_views.py", line 561, in test_rule_execution_logged
    self.assertEqual(new_count, initial_count + 1)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 0 != 1

======================================================================
FAIL: test_should_display_import_tax_warning_for_non_uk_user (rules_engine.tests.test_uk_import_tax_rule.UKImportTaxRuleTest.test_should_display_import_tax_warning_for_non_uk_user)
RED: Should display import tax warning when user has non-UK addresses
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_uk_import_tax_rule.py", line 99, in test_should_display_import_tax_warning_for_non_uk_user
    response = self.client.post('/api/rules/engine/execute/', {
        'entryPoint': 'checkout_start',
        'context': context
    })
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 299, in post
    response = super().post(
        path, data=data, format=format, content_type=content_type, **extra)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 212, in post
    data, content_type = self._encode_data(data, format, content_type)
                         ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 183, in _encode_data
    ret = renderer.render(data)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 915, in render
    assert not isinstance(value, dict), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Test data contained a dictionary value for key 'context', but multipart uploads do not support nested data. You may want to consider using format='json' in this test case.

======================================================================
FAIL: test_should_include_user_country_data_in_context_when_user_authenticated (rules_engine.tests.test_uk_import_tax_rule.UKImportTaxRuleTest.test_should_include_user_country_data_in_context_when_user_authenticated)
RED: Should include user.ip, user.home_country, user.work_country in context
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_uk_import_tax_rule.py", line 68, in test_should_include_user_country_data_in_context_when_user_authenticated
    response = self.client.post('/api/rules/engine/execute/', {
        'entryPoint': 'checkout_start',
        'context': context
    })
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 299, in post
    response = super().post(
        path, data=data, format=format, content_type=content_type, **extra)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 212, in post
    data, content_type = self._encode_data(data, format, content_type)
                         ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 183, in _encode_data
    ret = renderer.render(data)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 915, in render
    assert not isinstance(value, dict), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Test data contained a dictionary value for key 'context', but multipart uploads do not support nested data. You may want to consider using format='json' in this test case.

======================================================================
FAIL: test_should_not_display_import_tax_warning_for_uk_user (rules_engine.tests.test_uk_import_tax_rule.UKImportTaxRuleTest.test_should_not_display_import_tax_warning_for_uk_user)
RED: Should NOT display import tax warning when user is in UK
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_uk_import_tax_rule.py", line 139, in test_should_not_display_import_tax_warning_for_uk_user
    response = self.client.post('/api/rules/engine/execute/', {
        'entryPoint': 'checkout_start',
        'context': context
    })
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 299, in post
    response = super().post(
        path, data=data, format=format, content_type=content_type, **extra)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 212, in post
    data, content_type = self._encode_data(data, format, content_type)
                         ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/test.py", line 183, in _encode_data
    ret = renderer.render(data)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 915, in render
    assert not isinstance(value, dict), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Test data contained a dictionary value for key 'context', but multipart uploads do not support nested data. You may want to consider using format='json' in this test case.

======================================================================
FAIL: test_uk_multi_item_cart (rules_engine.tests.test_vat_integration.Phase3CompositeRulesIntegrationTestCase.test_uk_multi_item_cart)
T020: Test multi-item cart calculation.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_vat_integration.py", line 376, in test_uk_multi_item_cart
    self.assertEqual(total_vat, Decimal('36.00'))
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Decimal('10.00') != Decimal('36.00')

======================================================================
FAIL: test_get_session_info_unauthenticated (students.tests.test_auth.AuthenticationTests.test_get_session_info_unauthenticated)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/students/tests/test_auth.py", line 83, in test_get_session_info_unauthenticated
    self.assertEqual(response.status_code, status.HTTP_401_UNAUTHORIZED)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 200 != 401

======================================================================
FAIL: test_login_success (students.tests.test_auth.AuthenticationTests.test_login_success)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/students/tests/test_auth.py", line 50, in test_login_success
    self.assertEqual(response.status_code, status.HTTP_200_OK)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 401 != 200

======================================================================
FAIL: test_duplicate_handling (subjects.tests.test_import_subjects_command.ImportSubjectsCommandTest.test_duplicate_handling)
Test handling of duplicate records.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/subjects/tests/test_import_subjects_command.py", line 159, in test_duplicate_handling
    self.assertEqual(Subject.objects.count(), 3)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 4 != 3

======================================================================
FAIL: test_invalid_data_format (subjects.tests.test_import_subjects_command.ImportSubjectsCommandTest.test_invalid_data_format)
Test importing file with invalid data.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/subjects/tests/test_import_subjects_command.py", line 133, in test_invalid_data_format
    self.assertIn('Failed:', output)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
AssertionError: 'Failed:' not found in '  Created: nan\n  Skipped (exists): nan\n\n==================================================\nImport completed successfully:\n  Created: 1\n  Updated: 0\n  Skipped: 1\n  Errors: 0\n'

======================================================================
FAIL: test_partial_success_import (subjects.tests.test_import_subjects_command.ImportSubjectsCommandTest.test_partial_success_import)
Test partial success in import (some records fail, others succeed).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/subjects/tests/test_import_subjects_command.py", line 195, in test_partial_success_import
    self.assertIn('Failed:', output)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
AssertionError: 'Failed:' not found in "  Created: MATH101\n  Error on row 2: ['â€œnanâ€ value must be either True or False.']\n  Error on row 3: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.\n\n==================================================\nImport completed successfully:\n  Created: 1\n  Updated: 0\n  Skipped: 0\n  Errors: 2\n\nErrors encountered:\n  - nan: ['â€œnanâ€ value must be either True or False.']\n  - PHY101: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.\n"

======================================================================
FAIL: test_full_flow_404_creates_empty_cache_entry (utils.tests.test_postcoder_integration.PostcoderAddressLookupIntegrationTests.test_full_flow_404_creates_empty_cache_entry)
Test 404 response (postcode not found) creates cache entry with empty addresses
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_postcoder_integration.py", line 387, in test_full_flow_404_creates_empty_cache_entry
    self.assertIsNotNone(cached)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^
AssertionError: unexpectedly None

======================================================================
FAIL: test_full_flow_cache_miss_creates_all_entries (utils.tests.test_postcoder_integration.PostcoderAddressLookupIntegrationTests.test_full_flow_cache_miss_creates_all_entries)
Test complete flow: cache miss â†’ API call â†’ cache store â†’ log â†’ response
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_postcoder_integration.py", line 101, in test_full_flow_cache_miss_creates_all_entries
    self.assertIn('SW1A', first_address['postcode'])
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'SW1A' not found in ''

======================================================================
FAIL: test_full_flow_case_insensitive_postcode_caching (utils.tests.test_postcoder_integration.PostcoderAddressLookupIntegrationTests.test_full_flow_case_insensitive_postcode_caching)
Test postcodes are stored in uppercase for consistent caching
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_postcoder_integration.py", line 483, in test_full_flow_case_insensitive_postcode_caching
    self.assertTrue(data2['cache_hit'])
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
AssertionError: False is not true

======================================================================
FAIL: test_full_flow_concurrent_requests_same_postcode (utils.tests.test_postcoder_integration.PostcoderAddressLookupIntegrationTests.test_full_flow_concurrent_requests_same_postcode)
Test multiple requests for same postcode create single cache entry
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_postcoder_integration.py", line 352, in test_full_flow_concurrent_requests_same_postcode
    self.assertGreaterEqual(cached_entries.count(), 1)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 0 not greater than or equal to 1

======================================================================
FAIL: test_full_flow_expired_cache_triggers_refresh (utils.tests.test_postcoder_integration.PostcoderAddressLookupIntegrationTests.test_full_flow_expired_cache_triggers_refresh)
Test expired cache is treated as miss and triggers API call
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_postcoder_integration.py", line 218, in test_full_flow_expired_cache_triggers_refresh
    self.assertEqual(all_entries.count(), 2, "Should have expired entry + new entry")
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 1 != 2 : Should have expired entry + new entry

======================================================================
FAIL: test_full_flow_logging_failure_doesnt_break_response (utils.tests.test_postcoder_integration.PostcoderAddressLookupIntegrationTests.test_full_flow_logging_failure_doesnt_break_response)
Test logging failure doesn't prevent successful response
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_postcoder_integration.py", line 423, in test_full_flow_logging_failure_doesnt_break_response
    self.assertIsNotNone(cached)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^
AssertionError: unexpectedly None

======================================================================
FAIL: test_full_flow_multiple_postcodes_independent_caching (utils.tests.test_postcoder_integration.PostcoderAddressLookupIntegrationTests.test_full_flow_multiple_postcodes_independent_caching)
Test multiple postcodes are cached independently
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_postcoder_integration.py", line 320, in test_full_flow_multiple_postcodes_independent_caching
    self.assertEqual(CachedAddress.objects.count(), 3)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 0 != 3

======================================================================
FAIL: test_full_flow_postcode_cleaning (utils.tests.test_postcoder_integration.PostcoderAddressLookupIntegrationTests.test_full_flow_postcode_cleaning)
Test postcode cleaning works end-to-end (lowercase, spaces)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_postcoder_integration.py", line 280, in test_full_flow_postcode_cleaning
    self.assertIsNotNone(cached)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^
AssertionError: unexpectedly None

======================================================================
FAIL: test_cache_hit_performance_improvement (utils.tests.test_postcoder_performance.PostcoderPerformanceTests.test_cache_hit_performance_improvement)
Performance Test 5: Cache hit should be significantly faster than cache miss
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_postcoder_performance.py", line 266, in test_cache_hit_performance_improvement
    self.assertGreater(
    ~~~~~~~~~~~~~~~~~~^
        improvement_factor,
        ^^^^^^^^^^^^^^^^^^^
        2.0,
        ^^^^
        f"Cache hit improvement ({improvement_factor:.2f}x) is less than 2x target"
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
AssertionError: 1.1614107664450641 not greater than 2.0 : Cache hit improvement (1.16x) is less than 2x target

======================================================================
FAIL: test_cache_hit_response_time_under_100ms (utils.tests.test_postcoder_performance.PostcoderPerformanceTests.test_cache_hit_response_time_under_100ms)
Performance Test 2: Cache hit response time should be < 100ms
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_postcoder_performance.py", line 109, in test_cache_hit_response_time_under_100ms
    self.assertLess(
    ~~~~~~~~~~~~~~~^
        elapsed_ms,
        ^^^^^^^^^^^
        100,
        ^^^^
        f"Cache hit response time ({elapsed_ms:.2f}ms) exceeds 100ms target"
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
AssertionError: 203.369140625 not less than 100 : Cache hit response time (203.37ms) exceeds 100ms target

======================================================================
FAIL: test_sequential_requests_consistent_performance (utils.tests.test_postcoder_performance.PostcoderPerformanceTests.test_sequential_requests_consistent_performance)
Performance Test 6: Sequential requests should have consistent performance
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_postcoder_performance.py", line 317, in test_sequential_requests_consistent_performance
    self.assertLess(
    ~~~~~~~~~~~~~~~^
        coefficient_of_variation,
        ^^^^^^^^^^^^^^^^^^^^^^^^^
        50,
        ^^^
        f"Performance variation ({coefficient_of_variation:.2f}%) exceeds 50% threshold"
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
AssertionError: 81.0544001020063 not less than 50 : Performance variation (81.05%) exceeds 50% threshold

======================================================================
FAIL: test_cache_creates_database_entry (utils.tests.test_postcoder_performance_simple.PostcoderPerformanceSimpleTests.test_cache_creates_database_entry)
Test: Cache miss creates database entry
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_postcoder_performance_simple.py", line 105, in test_cache_creates_database_entry
    self.assertEqual(CachedAddress.objects.filter(postcode=self.test_postcode).count(), 1)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 0 != 1

======================================================================
FAIL: test_cache_hit_increments_counter (utils.tests.test_postcoder_performance_simple.PostcoderPerformanceSimpleTests.test_cache_hit_increments_counter)
Test: Cache hits increment hit_count
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_postcoder_performance_simple.py", line 136, in test_cache_hit_increments_counter
    self.assertEqual(cached.hit_count, 3, f"Expected hit_count=3, got {cached.hit_count}")
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 0 != 3 : Expected hit_count=3, got 0

======================================================================
FAIL: test_chain_rules_api_flow (rules_engine.tests.test_stage10_end_to_end_api.TestEndToEndAPIFlows.test_chain_rules_api_flow)
TDD RED: Test multiple rules executing in sequence
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage10_end_to_end_api.py", line 783, in test_chain_rules_api_flow
    self.assertEqual(response.status_code, status.HTTP_201_CREATED)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 400 != 201

----------------------------------------------------------------------
Ran 1275 tests in 177.494s

FAILED (failures=71, errors=38, skipped=12)