DJANGO_ENV None
DJANGO_ENV development
DJANGO_SETTINGS_MODULE django_Admin3.settings.development
DJANGO_ENV FILE /Users/work/Documents/Code/Admin3/backend/django_Admin3/.env.development
Loading environment from: /Users/work/Documents/Code/Admin3/backend/django_Admin3/.env.development
Rows in test table: [(1, 'Test1'), (2, 'Test1'), (3, 'Test1'), (4, 'Test1'), (5, 'Test1'), (6, 'Test1'), (7, 'Test1'), (8, 'Test1'), (9, 'Test1'), (10, 'Test1'), (11, 'Test1'), (12, 'Test1'), (13, 'Test1'), (14, 'Test1'), (15, 'Test1'), (16, 'Test1'), (17, 'Test1'), (18, 'Test1'), (19, 'Test1'), (20, 'Test1'), (21, 'Test1'), (22, 'Test1'), (23, 'Test1'), (24, 'Test1'), (25, 'Test1'), (26, 'Test1'), (27, 'Test1'), (28, 'Test1'), (29, 'Test1'), (30, 'Test1'), (31, 'Test1'), (32, 'Test1'), (33, 'Test1'), (34, 'Test1'), (35, 'Test1'), (36, 'Test1'), (37, 'Test1'), (38, 'Test1'), (39, 'Test1'), (40, 'Test1'), (41, 'Test1'), (42, 'Test1'), (43, 'Test1'), (44, 'Test1'), (45, 'Test1'), (46, 'Test1'), (47, 'Test1'), (48, 'Test1'), (49, 'Test1'), (50, 'Test1'), (51, 'Test1'), (52, 'Test1'), (53, 'Test1'), (54, 'Test1'), (55, 'Test1'), (56, 'Test1'), (57, 'Test1'), (58, 'Test1'), (59, 'Test1'), (60, 'Test1'), (61, 'Test1'), (62, 'Test1'), (63, 'Test1'), (64, 'Test1'), (65, 'Test1'), (66, 'Test1'), (67, 'Test1'), (68, 'Test1'), (69, 'Test1'), (70, 'Test1'), (71, 'Test1'), (72, 'Test1'), (73, 'Test1'), (74, 'Test1'), (75, 'Test1'), (76, 'Test1'), (77, 'Test1'), (78, 'Test1'), (79, 'Test1'), (80, 'Test1'), (81, 'Test1'), (82, 'Test1'), (83, 'Test1'), (84, 'Test1'), (85, 'Test1'), (86, 'Test1'), (87, 'Test1'), (88, 'Test1'), (89, 'Test1'), (90, 'Test1'), (91, 'Test1'), (92, 'Test1'), (93, 'Test1'), (94, 'Test1'), (95, 'Test1'), (96, 'Test1'), (97, 'Test1'), (98, 'Test1'), (99, 'Test1'), (100, 'Test1'), (101, 'Test1'), (102, 'Test1'), (103, 'Test1'), (104, 'Test1'), (105, 'Test1'), (106, 'Test1'), (107, 'Test1'), (108, 'Test1'), (109, 'Test1'), (110, 'Test1'), (111, 'Test1'), (112, 'Test1'), (113, 'Test1'), (114, 'Test1'), (115, 'Test1'), (116, 'Test1'), (117, 'Test1'), (118, 'Test1'), (119, 'Test1'), (120, 'Test1'), (121, 'Test1'), (122, 'Test1'), (123, 'Test1'), (124, 'Test1'), (125, 'Test1'), (126, 'Test1'), (127, 'Test1'), (128, 'Test1'), (129, 'Test1'), (130, 'Test1'), (131, 'Test1'), (132, 'Test1'), (133, 'Test1'), (134, 'Test1'), (135, 'Test1'), (136, 'Test1'), (137, 'Test1'), (138, 'Test1'), (139, 'Test1'), (140, 'Test1'), (141, 'Test1'), (142, 'Test1'), (143, 'Test1'), (144, 'Test1'), (145, 'Test1'), (146, 'Test1'), (147, 'Test1'), (148, 'Test1'), (149, 'Test1'), (150, 'Test1'), (151, 'Test1')]
Database test completed successfully
DEBUG Read environment variables from: /Users/work/Documents/Code/Admin3/backend/django_Admin3/.env.development
=== Environment Variables from .env.development ===
DEBUG get 'DATABASE_URL' casted as 'None' with default 'Not set'
DATABASE_URL: postgres://actedadmin:Act3d@dm1n0EEoo@127.0.0.1:5432/ACTEDDBDEV01
DEBUG get 'DB_NAME' casted as 'None' with default 'Not set'
DB_NAME: ACTEDDBDEV01
DEBUG get 'DB_USER' casted as 'None' with default 'Not set'
DB_USER: actedadmin
DEBUG get 'DB_PASSWORD' casted as 'None' with default 'Not set'
DB_PASSWORD: Act3d@dm1n0EEoo
DEBUG get 'DB_HOST' casted as 'None' with default 'Not set'
DB_HOST: 127.0.0.1
DEBUG get 'DB_PORT' casted as 'None' with default 'Not set'
DB_PORT: 5432
DEBUG get 'SECRET_KEY' casted as 'None' with default 'Not set'
SECRET_KEY: Not set
DEBUG get 'DEBUG' casted as 'None' with default 'False'
DEBUG: False
DEBUG get 'DJANGO_ENVIRONMENT' casted as 'None' with default 'Not set'
DJANGO_ENVIRONMENT: Not set
DEBUG get 'ALLOWED_HOSTS' casted as 'None' with default 'Not set'
ALLOWED_HOSTS: 127.0.0.1,localhost
DEBUG get 'ADMINISTRATE_API_URL' casted as 'None' with default 'Not set'
ADMINISTRATE_API_URL: https://api.getadministrate.com/graphql
DEBUG get 'ADMINISTRATE_API_KEY' casted as 'None' with default 'Not set'
ADMINISTRATE_API_KEY: bJC4yEzW7dICQin2JbgwU0gsbN9kuaDC
DEBUG get 'DB_NAME' casted as 'None' with default '<NoValue>'

âœ… SUCCESS: Successfully read DB_NAME: ACTEDDBDEV01 from .env.development
Using existing test database for alias 'default'...
E...........................................Found 2218 test(s).
System check identified no issues (0 silenced).
DEBUG CartItem 245 created - invalidating VAT cache for cart 573
DEBUG VAT cache invalidated for cart 573
DEBUG Cache miss for rules:cart_calculate_vat
DEBUG Cached 0 rules for cart_calculate_vat
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
DEBUG CartItem 246 created - invalidating VAT cache for cart 573
DEBUG VAT cache invalidated for cart 573
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.EEEEEEEEEEEEEEEEEEEEEEEEDEBUG CartItem 247 created - invalidating VAT cache for cart 574
DEBUG VAT cache invalidated for cart 574
.DEBUG CartItem 248 created - invalidating VAT cache for cart 575
DEBUG VAT cache invalidated for cart 575
DEBUG CartItem 248 deleted - invalidating VAT cache for cart 575
DEBUG VAT cache invalidated for cart 575
.DEBUG CartItem 249 created - invalidating VAT cache for cart 576
DEBUG VAT cache invalidated for cart 576
DEBUG CartItem 249 updated - invalidating VAT cache for cart 576
DEBUG VAT cache invalidated for cart 576
.DEBUG CartItem 250 created - invalidating VAT cache for cart 577
DEBUG VAT cache invalidated for cart 577
DEBUG CartItem 251 created - invalidating VAT cache for cart 577
DEBUG VAT cache invalidated for cart 577
.DEBUG CartItem 252 created - invalidating VAT cache for cart 578
DEBUG VAT cache invalidated for cart 578
DEBUG CartItem 252 updated - invalidating VAT cache for cart 578
DEBUG VAT cache invalidated for cart 578
.DEBUG CartItem 253 created - invalidating VAT cache for cart 579
DEBUG VAT cache invalidated for cart 579
DEBUG CartItem 253 updated - invalidating VAT cache for cart 579
DEBUG VAT cache invalidated for cart 579
.DEBUG CartItem 254 created - invalidating VAT cache for cart 580
DEBUG VAT cache invalidated for cart 580
.DEBUG CartItem 255 created - invalidating VAT cache for cart 581
DEBUG VAT cache invalidated for cart 581
..................................DEBUG CartItem 256 created - invalidating VAT cache for cart 595
DEBUG VAT cache invalidated for cart 595
.DEBUG CartItem 257 created - invalidating VAT cache for cart 596
DEBUG VAT cache invalidated for cart 596
..............................WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 258 created - invalidating VAT cache for cart 634
DEBUG VAT cache invalidated for cart 634
DEBUG CartItem 258 updated - invalidating VAT cache for cart 634
DEBUG VAT cache invalidated for cart 634
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
.DEBUG CartItem 259 created - invalidating VAT cache for cart 635
DEBUG VAT cache invalidated for cart 635
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
DEBUG CartItem 259 updated - invalidating VAT cache for cart 635
DEBUG VAT cache invalidated for cart 635
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
.DEBUG CartItem 260 created - invalidating VAT cache for cart 636
DEBUG VAT cache invalidated for cart 636
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
DEBUG CartItem 260 updated - invalidating VAT cache for cart 636
DEBUG VAT cache invalidated for cart 636
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
.DEBUG CartItem 261 created - invalidating VAT cache for cart 637
DEBUG VAT cache invalidated for cart 637
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
.DEBUG CartItem 262 created - invalidating VAT cache for cart 638
DEBUG VAT cache invalidated for cart 638
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
.DEBUG CartItem 263 created - invalidating VAT cache for cart 639
DEBUG VAT cache invalidated for cart 639
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
DEBUG CartItem 263 updated - invalidating VAT cache for cart 639
DEBUG VAT cache invalidated for cart 639
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
...........................F......DEBUG CartItem 264 created - invalidating VAT cache for cart 676
DEBUG VAT cache invalidated for cart 676
DEBUG CartItem 265 created - invalidating VAT cache for cart 675
DEBUG VAT cache invalidated for cart 675
DEBUG CartItem 265 updated - invalidating VAT cache for cart 675
DEBUG VAT cache invalidated for cart 675
DEBUG CartItem 264 deleted - invalidating VAT cache for cart 676
DEBUG VAT cache invalidated for cart 676
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
....INFO Cart add: Resolved ID 99999 to store.Product 715 via PPV 1822
..DEBUG CartItem 266 created - invalidating VAT cache for cart 682
DEBUG VAT cache invalidated for cart 682
..DEBUG CartItem 267 created - invalidating VAT cache for cart 684
DEBUG VAT cache invalidated for cart 684
DEBUG CartItem 267 updated - invalidating VAT cache for cart 684
DEBUG VAT cache invalidated for cart 684
DEBUG Cache hit for rules:cart_calculate_vat: 0 rules
.DEBUG CartItem 268 created - invalidating VAT cache for cart 685
DEBUG VAT cache invalidated for cart 685
DEBUG CartItem 268 deleted - invalidating VAT cache for cart 685
ERROR Failed to invalidate VAT cache after item deletion for cart 685: DB error
.DEBUG CartItem 269 created - invalidating VAT cache for cart 686
DEBUG VAT cache invalidated for cart 686
DEBUG CartItem 269 updated - invalidating VAT cache for cart 686
ERROR Failed to invalidate VAT cache for cart 686: DB error
.DEBUG CartItem 270 created - invalidating VAT cache for cart 687
DEBUG VAT cache invalidated for cart 687
...WARNING Not Found: /api/cart/add/
.DEBUG CartItem 271 created - invalidating VAT cache for cart 691
DEBUG VAT cache invalidated for cart 691
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 272 created - invalidating VAT cache for cart 692
DEBUG VAT cache invalidated for cart 692
DEBUG CartItem 273 created - invalidating VAT cache for cart 692
DEBUG VAT cache invalidated for cart 692
DEBUG CartItem 273 deleted - invalidating VAT cache for cart 692
DEBUG VAT cache invalidated for cart 692
DEBUG CartItem 272 deleted - invalidating VAT cache for cart 692
DEBUG VAT cache invalidated for cart 692
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING Not Found: /api/cart/remove/
.DEBUG CartItem 274 created - invalidating VAT cache for cart 695
DEBUG VAT cache invalidated for cart 695
DEBUG CartItem 274 deleted - invalidating VAT cache for cart 695
DEBUG VAT cache invalidated for cart 695
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 275 created - invalidating VAT cache for cart 696
DEBUG VAT cache invalidated for cart 696
DEBUG CartItem 275 updated - invalidating VAT cache for cart 696
DEBUG VAT cache invalidated for cart 696
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
./Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/fields/__init__.py:1670: RuntimeWarning: DateTimeField CartItem.vat_calculated_at received a naive datetime (2025-01-12 10:30:00) while time zone support is active.
  warnings.warn(
DEBUG CartItem 276 created - invalidating VAT cache for cart 697
DEBUG VAT cache invalidated for cart 697
..DEBUG CartItem 278 created - invalidating VAT cache for cart 699
DEBUG VAT cache invalidated for cart 699
DEBUG CartItem 279 created - invalidating VAT cache for cart 699
DEBUG VAT cache invalidated for cart 699
..DEBUG CartItem 281 created - invalidating VAT cache for cart 701
DEBUG VAT cache invalidated for cart 701
DEBUG CartItem 282 created - invalidating VAT cache for cart 701
DEBUG VAT cache invalidated for cart 701
.DEBUG CartItem 283 created - invalidating VAT cache for cart 702
DEBUG VAT cache invalidated for cart 702
.DEBUG CartItem 284 created - invalidating VAT cache for cart 703
DEBUG VAT cache invalidated for cart 703
...DEBUG CartItem 287 created - invalidating VAT cache for cart 706
DEBUG VAT cache invalidated for cart 706
DEBUG CartItem 288 created - invalidating VAT cache for cart 706
DEBUG VAT cache invalidated for cart 706
DEBUG CartItem 289 created - invalidating VAT cache for cart 706
DEBUG VAT cache invalidated for cart 706
..DEBUG CartItem 290 created - invalidating VAT cache for cart 708
DEBUG VAT cache invalidated for cart 708
DEBUG CartItem 291 created - invalidating VAT cache for cart 708
DEBUG VAT cache invalidated for cart 708
.DEBUG CartItem 292 created - invalidating VAT cache for cart 709
DEBUG VAT cache invalidated for cart 709
./Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/fields/__init__.py:1670: RuntimeWarning: DateTimeField Cart.vat_last_calculated_at received a naive datetime (2025-01-12 10:30:00) while time zone support is active.
  warnings.warn(
.......DEBUG CartItem 293 created - invalidating VAT cache for cart 718
DEBUG VAT cache invalidated for cart 718
.DEBUG CartItem 294 created - invalidating VAT cache for cart 719
DEBUG VAT cache invalidated for cart 719
.DEBUG CartItem 295 created - invalidating VAT cache for cart 720
DEBUG VAT cache invalidated for cart 720
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.DEBUG CartItem 296 created - invalidating VAT cache for cart 727
DEBUG VAT cache invalidated for cart 727
DEBUG CartItem 296 deleted - invalidating VAT cache for cart 727
DEBUG VAT cache invalidated for cart 727
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.WARNING Not Found: /api/cart/update_item/
.WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
.EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE..................................EEEEEEEEEEEEEEEEE..........EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE.WARNING Bad Request: /api/auth/activate/
.WARNING Bad Request: /api/auth/activate/
.....ERROR Account activation failed: Unexpected error
ERROR Internal Server Error: /api/auth/activate/
..ERROR Error sending password reset completion email to testuser@example.com: Email service crashed
.WARNING Failed to queue password reset completion email for user testuser@example.com
.ERROR Error during password reset confirmation: Unexpected error
ERROR Internal Server Error: /api/auth/password_reset_confirm/
..WARNING Bad Request: /api/auth/send_activation/
..WARNING Bad Request: /api/auth/send_email_verification/
.WARNING Could not update UserProfile for testuser: Profile database error
..WARNING Bad Request: /api/auth/activate/
.WARNING Invalid password reset attempt with uid: invalid_uid_format!!!
WARNING Bad Request: /api/auth/password_reset_confirm/
.ERROR Error during password reset request: Database connection lost
ERROR Internal Server Error: /api/auth/password_reset_request/
.ERROR Failed to queue password reset email for user testuser@example.com
ERROR Internal Server Error: /api/auth/password_reset_request/
.WARNING Bad Request: /api/auth/password_reset_request/
.WARNING reCAPTCHA verification failed for password reset: Low score
WARNING Bad Request: /api/auth/password_reset_request/
.ERROR Failed to send account activation email to: testuser@example.com
ERROR Internal Server Error: /api/auth/send_activation/
.ERROR Send account activation failed: Database error
ERROR Internal Server Error: /api/auth/send_activation/
.ERROR Failed to send email verification to: newemail@example.com for user: testuser@example.com
ERROR Internal Server Error: /api/auth/send_email_verification/
.ERROR Send email verification failed: Token generation failed
ERROR Internal Server Error: /api/auth/send_email_verification/
.ERROR Email verification failed: Database connection lost
ERROR Internal Server Error: /api/auth/verify_email/
.WARNING Invalid verification link with uid: malformed_uid!!!
WARNING Bad Request: /api/auth/verify_email/
.....EERROR Failed to send account activation email for user emailexc: SMTP connection refused
WARNING Creating token for inactive user: 2770. If this is not intentional, consider checking the user's status before calling the `for_user` method.
.ERROR Failed to create user account: Database constraint violation
ERROR Internal Server Error: /api/auth/register/
..ERROR Internal Server Error: /api/auth/test-email/
.ERROR Internal Server Error: /api/auth/test-email/
...WARNING Bad Request: /api/auth/send_email_verification/
.ERROR Send email verification failed: 'AnonymousUser' object has no attribute 'last_login'
ERROR Internal Server Error: /api/auth/send_email_verification/
.WARNING Email verification failed - taken@example.com already in use
WARNING Bad Request: /api/auth/verify_email/
.WARNING Token validation failed for user testuser with token invalid_to...
WARNING Bad Request: /api/auth/verify_email/
.WARNING Bad Request: /api/auth/verify_email/
..WARNING Unauthorized: /api/auth/login/
.WARNING Unauthorized: /api/auth/login/
.WARNING Unauthorized: /api/auth/login/
.....WARNING Invalid or expired token used for password reset: user testuser@example.com
WARNING Bad Request: /api/auth/password_reset_confirm/
.WARNING Bad Request: /api/auth/password_reset_confirm/
..WARNING Bad Request: /api/auth/password_reset_request/
.WARNING Password reset requested for non-existent email: nonexistent@example.com
.WARNING Bad Request: /api/auth/register/
.WARNING Account activation email failed to send to emailfail@example.com for user emailfail
WARNING Creating token for inactive user: 2800. If this is not intentional, consider checking the user's status before calling the `for_user` method.
.WARNING Bad Request: /api/auth/register/
.WARNING Creating token for inactive user: 2801. If this is not intentional, consider checking the user's status before calling the `for_user` method.
..WARNING Unauthorized: /api/auth/test-email/
.WARNING Unauthorized: /api/auth/token/refresh/
..WARNING Unauthorized: /api/auth/refresh/
.................................ERROR Error generating dynamic content for placeholder TUTORIAL_CONTENT: Test error
.DEBUG Rule 'Tutorial Rule' matched for placeholder 'TUTORIAL_CONTENT'
.DEBUG Rule 'Tutorial Rule' matched for placeholder 'TUTORIAL_CONTENT'
DEBUG Rule 'Second Rule' matched for placeholder 'TUTORIAL_CONTENT'
.DEBUG Rule 'Tutorial Rule' matched for placeholder 'TUTORIAL_CONTENT'
DEBUG Rule 'Second Rule' matched for placeholder 'TUTORIAL_CONTENT'
.WARNING Placeholder configuration not found for: NONEXISTENT_PLACEHOLDER
...ERROR Error fetching available placeholders: DB error
..ERROR Error fetching placeholder config for TUTORIAL_CONTENT: DB error
..WARNING Placeholder configuration not found for: TUTORIAL_CONTENT
.WARNING Placeholder configuration not found for: NONEXISTENT
..ERROR Error fetching content rules for template order_confirmation: DB error
......DEBUG Rule 'Tutorial Rule' matched for placeholder 'TUTORIAL_CONTENT'
.ERROR Error generating content preview: Test error
..ERROR Error processing template content for order_confirmation: Test error
...DEBUG Rule 'Tutorial Rule' matched for placeholder 'TUTORIAL_CONTENT'
..ERROR Error rendering content template: Invalid block tag on line 1: 'invalid_tag'. Did you forget to register or load this tag?
..ERROR Error summarizing context: argument of type 'NoneType' is not a container or iterable
..ERROR Error validating template placeholders: Test error
.WARNING Placeholder configuration not found for: UNKNOWN_PLACEHOLDER
......E........ERROR Attachment file not found: /nonexistent/file.txt
.WARNING Attachment missing required fields: {'mime_type': 'text/plain'}
.ERROR Attachment file not found: /nonexistent/file.txt
.ERROR Attachment file not found: /app/files/test.pdf
.ERROR Attachment file not found: /nonexistent/file.txt
ERROR Failed to attach file test.txt: Required attachment not found: /nonexistent/file.txt
.ERROR Attachment file not found: /nonexistent/file.txt
ERROR Failed to attach file test.txt: Required attachment not found: /nonexistent/file.txt
.ERROR Attachment file not found: /app/static/files/test.pdf
....WARNING Failed to enhance Outlook compatibility: Transform error, returning original HTML
..INFO Email BCC monitoring enabled. BCC recipients: ['monitor@test.com']
...WARNING Failed to get placeholders for template nonexistent: EmailTemplate matching query does not exist.
......EEEEERROR Failed to render email with master template: Template not found
........ERROR Failed to send HTML email to ['user@test.com']: emails/nonexistent_template.html
.....ERROR Failed to send dynamic MJML email to ['user@test.com']: MJML parse error
....ERROR SMTP error sending email to ['user@test.com']: SMTP error
ERROR Failed to send dynamic MJML email to ['user@test.com']: SMTP error
...ERROR Failed to send MJML email to ['user@test.com']: emails/mjml/totally_missing_template.mjml
..ERROR Order confirmation email failed for ORD-001 to user@test.com: First attempt failed
.....ERROR Order confirmation email failed for ORD-001 to user@test.com: First failed
ERROR Master template fallback also failed: Render failed
.............E..................................................ERROR Error rendering content for rule Tutorial Rule: Invalid block tag on line 1: 'invalid_tag'. Did you forget to register or load this tag?
.WARNING No default content template found for placeholder TUTORIAL_CONTENT
............................................................./Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/core/cache/backends/base.py:119: CacheKeyWarning: Cache key contains characters that will cause errors if used with memcached: ':1:filter_options_Product Types'
  warnings.warn(warning, CacheKeyWarning)
..........EEE......INFO setup_main_category_filter called - migration complete, no action needed
...EEEF.E...................../Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/core/cache/backends/base.py:119: CacheKeyWarning: Cache key contains characters that will cause errors if used with memcached: ':1:filter_options_Tutorial Format'
  warnings.warn(warning, CacheKeyWarning)
.....ERROR Error getting options for Bundles: test error
.....WARNING Main category filter not found
.WARNING Main category filter not found
...........E......EEEEINFO Removing 3 format group assignments from ['categories', 'product_types'] configs
.EINFO Removing 3 format group assignments from ['categories', 'product_types'] configs
/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/core/cache/backends/base.py:119: CacheKeyWarning: Cache key contains characters that will cause errors if used with memcached: ':1:filter_options_Modes of Delivery'
  warnings.warn(warning, CacheKeyWarning)
.EEEEE................WARNING Not Found: /api/products/product-groups/999999/products/
...EEEEEEEEEEEEEEEEWARNING Bad Request: /api/markings/papers/bulk-deadlines/
.WARNING Bad Request: /api/markings/papers/bulk-deadlines/
..WARNING Bad Request: /api/markings/papers/bulk-deadlines/
.......WARNING Not Found: /api/markings/papers/deadlines/
.WARNING Not Found: /api/markings/papers/deadlines/
..EEEEEEEEEEEEEEEEEE.................................WARNING Bad Request: /api/marking-vouchers/add-to-cart/
.WARNING Bad Request: /api/marking-vouchers/add-to-cart/
.WARNING Unauthorized: /api/marking-vouchers/add-to-cart/
.WARNING Bad Request: /api/marking-vouchers/add-to-cart/
.WARNING Not Found: /api/marking-vouchers/add-to-cart/
..WARNING Not Found: /api/marking-vouchers/999999/
....EEEEEEEE......EE............EEEEE........ERROR Payment failed for order 162: Card authentication failed
.ERROR Error processing payment for order 163: Connection timeout
....EEEEEEEEEEDEBUG Rule test_pref_newsletter created, invalidating cache for user_preferences
INFO Invalidated rules cache for entry point: user_preferences (key: rules:user_preferences)
.DEBUG Rule test_aset_warning_rule created, invalidating cache for checkout_start
INFO Invalidated rules cache for entry point: checkout_start (key: rules:checkout_start)
DEBUG Cache miss for rules:checkout_start
DEBUG Cached 1 rules for checkout_start
DEBUG  Schema validation passed for checkout_context_test
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'test_aset_warning_rule' condition not matched
.DEBUG Cache hit for rules:checkout_start: 1 rules
DEBUG  Schema validation passed for checkout_context_test
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'test_aset_warning_rule' condition not matched
.DEBUG Cache hit for rules:checkout_start: 1 rules
DEBUG  Schema validation passed for checkout_context_test
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788695_9bc31a64
.DEBUG Cache hit for rules:checkout_start: 1 rules
DEBUG  Schema validation passed for checkout_context_test
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788695_24a32cfe
.DEBUG Cache hit for rules:checkout_start: 1 rules
DEBUG  Schema validation passed for checkout_context_test
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788695_59950f48
.DEBUG Rule admin_test_rule_1 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule admin_test_rule_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
..DEBUG Rule test_rule_create created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule test_rule_delete created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
DEBUG Rule test_rule_delete deleted, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
.DEBUG Rule test_rule_update created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule test_rule_update updated, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule test_rule_spaces created, invalidating cache for home page mount
INFO Invalidated rules cache for entry point: home page mount (key: rules:home_page_mount)
DEBUG Rule test_rule_spaces_2 created, invalidating cache for home page mount
INFO Invalidated rules cache for entry point: home page mount (key: rules:home_page_mount)
.DEBUG Rule cmd_test_rule_1 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cmd_test_rule_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cmd_test_rule_3 created, invalidating cache for cart_calculate_vat
INFO Invalidated rules cache for entry point: cart_calculate_vat (key: rules:cart_calculate_vat)
...sssssssssssssssssssssDEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Could not fetch template invalid: Field 'id' expected a number but got 'invalid'.
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Stored function result in context: vat.amount = 20.00
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error calling function 'calculate_vat_amount': [<class 'decimal.ConversionSyntax'>]
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Function 'nonexistent_function' not found in FUNCTION_REGISTRY
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Could not fetch template 99999: MessageTemplate matching query does not exist.
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Unknown action type: nonexistent_action
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Updated context during dispatch: cart.vat_rate = 0.2
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Template 99999 not found, using fallback content
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Always-false condition evaluated to False
.DEBUG Always-true condition evaluated to True
.DEBUG Always-true type condition evaluated to True
.DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: False
..DEBUG  JSONLogic condition evaluated to: True
...DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: False
..DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic (type-wrapped) condition evaluated to: True
DEBUG  JSONLogic (type-wrapped) condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: False
..DEBUG  JSONLogic condition evaluated to: True
..DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: False
..DEBUG  JSONLogic condition evaluated to: True
DEBUG  JSONLogic condition evaluated to: False
...DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: False
..WARNING Unknown JSONLogic operator: unknown_op
DEBUG  JSONLogic condition evaluated to: False
..DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Failed to store execution record: DB error
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Stored execution record: exec_1769788695_d4480e79
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Stored execution record: exec_1769788695_0d527c4e
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Stored execution record: exec_1769788695_2217c819
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_blocking_ack created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: []
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788695_ba21ddb4
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR  Rules Engine: Fatal error in 'checkout_terms': Fatal
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache miss for rules:nonexistent_entry
DEBUG Cached 0 rules for nonexistent_entry
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_optional_ack created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: []
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788695_4ca4d4f1
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_exception_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: []
ERROR  Error processing rule 'cov_exception_rule': Eval boom
DEBUG Stored execution record: exec_1769788695_69950e64
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_satisfied_ack created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: ['acknowledgments']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788695_507e9081
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_schema_fail created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
WARNING  Schema validation failed for cov_engine_strict: 'must_have' is a required property
DEBUG Validation error path: root
WARNING Context validation failed for rule cov_schema_fail
ERROR Schema validation errors for entry point 'checkout_terms': 1 errors
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_update_incr created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: ['counter']
DEBUG  JSONLogic condition evaluated to: True
WARNING Unknown update target/operation: counter/increment
ERROR  Error processing rule 'cov_update_incr': 'RuleEngine' object has no attribute '_get_nested_value'
DEBUG Stored execution record: exec_1769788695_29abd3f4
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_update_collect created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: []
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: order.total = 120.0
DEBUG Updated context: order.total = 120.0
DEBUG Stored execution record: exec_1769788695_7d328d94
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_update_set created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: []
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: vat.rate = 0.2
DEBUG Updated context: vat.rate = 0.2
DEBUG Stored execution record: exec_1769788695_84b24a05
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_pref_action created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: []
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788695_311ccdcd
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_engine_match created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: []
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788696_45d12952
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_engine_no_match created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: ['x']
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'cov_engine_no_match' condition not matched
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_stop_first created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_stop_second created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 2 rules for checkout_terms
DEBUG No schema validation - context keys: []
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788696_fdc19aa3
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Failed to set nested value a.b.c = 42: 'str' object does not support item assignment
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache miss for rules:entry with spaces
DEBUG Cached 0 rules for entry with spaces
DEBUG Invalidated cache for entry with spaces
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_repo_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG Cache hit for rules:checkout_terms: 1 rules
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_repo_1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_repo_active created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_repo_inactive created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Invalidated cache for checkout_terms
......WARNING Unknown function: unknown_func
.............WARNING Error generating expired deadlines list: 'str' object has no attribute 'get'
...........WARNING Error resolving variable 'broken_var': Boom
.......E.........DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG No schema validation - context keys: ['key']
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Context is not a dict: <class 'str'>
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG  Schema validation passed for cov_cached_schema
DEBUG  Schema validation passed for cov_cached_schema
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING  Schema validation failed for cov_strict_schema: 'age' is a required property
DEBUG Validation error path: root
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR RulesFields schema not found: nonexistent_schema
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG  Schema validation passed for cov_valid_schema
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Unexpected error during schema validation: 'not_a_schema' is not of type 'object', 'boolean'

Failed validating 'type' in metaschema['allOf'][0]:
    {'$schema': 'https://json-schema.org/draft/2020-12/schema',
     '$id': 'https://json-schema.org/draft/2020-12/meta/core',
     '$vocabulary': {'https://json-schema.org/draft/2020-12/vocab/core': True},
     '$dynamicAnchor': 'meta',
     'title': 'Core vocabulary meta-schema',
     'type': ['object', 'boolean'],
     'properties': {'$id': {'$ref': '#/$defs/uriReferenceString',
                            '$comment': 'Non-empty fragments not allowed.',
                            'pattern': '^[^#]*#?$'},
                    '$schema': {'$ref': '#/$defs/uriString'},
                    '$ref': {'$ref': '#/$defs/uriReferenceString'},
                    '$anchor': {'$ref': '#/$defs/anchorString'},
                    '$dynamicRef': {'$ref': '#/$defs/uriReferenceString'},
                    '$dynamicAnchor': {'$ref': '#/$defs/anchorString'},
                    '$vocabulary': {'type': 'object',
                                    'propertyNames': {'$ref': '#/$defs/uriString'},
                                    'additionalProperties': {'type': 'boolean'}},
                    '$comment': {'type': 'string'},
                    '$defs': {'type': 'object',
                              'additionalProperties': {'$dynamicRef': '#meta'}}},
     '$defs': {'anchorString': {'type': 'string',
                                'pattern': '^[A-Za-z_][-A-Za-z0-9._]*$'},
               'uriString': {'type': 'string', 'format': 'uri'},
               'uriReferenceString': {'type': 'string',
                                      'format': 'uri-reference'}}}

On schema:
    'not_a_schema'
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_list_r1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_list_r2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_list_inactive created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_ep1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_ep2 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_soft_del created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_soft_del updated, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
EDEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error calculating VAT: [<class 'decimal.ConversionSyntax'>]
ERROR Internal Server Error: /api/rules/engine/calculate-vat/
FDEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/engine/calculate-vat/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/engine/calculate-vat/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
EDEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
EDEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
EDEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error validating checkout: Cart matching query does not exist.
ERROR Internal Server Error: /api/rules/engine/checkout-validation/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error evaluating rules: 'NoneType' object has no attribute 'evaluate_rules'
ERROR Internal Server Error: /api/rules/engine/evaluate/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error evaluating rules: Invalid field name(s) given in select_related: 'product'. Choices are: exam_session_subject, product_product_variation
ERROR Internal Server Error: /api/rules/engine/evaluate/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/engine/evaluate/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error evaluating rules: 'NoneType' object has no attribute 'evaluate_rules'
ERROR Internal Server Error: /api/rules/engine/evaluate/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error evaluating rules: 'NoneType' object has no attribute 'evaluate_rules'
ERROR Internal Server Error: /api/rules/engine/evaluate/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache miss for rules:home_page_mount
DEBUG Cached 0 rules for home_page_mount
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR âŒ Rules Engine API error: Boom
ERROR Internal Server Error: /api/rules/engine/execute/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/engine/execute/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache miss for rules:home_page_mount
DEBUG Cached 0 rules for home_page_mount
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_schema_val_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
WARNING  Schema validation failed for strict_schema_cov: 'required_field' is a required property
DEBUG Validation error path: root
WARNING Context validation failed for rule cov_schema_val_rule
ERROR Schema validation errors for entry point 'checkout_terms': 1 errors
WARNING Schema validation errors for 'checkout_terms': 1 errors
WARNING Bad Request: /api/rules/engine/execute/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache miss for rules:home_page_mount
DEBUG Cached 0 rules for home_page_mount
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache hit for rules:checkout_terms: 1 rules
WARNING  Schema validation failed for strict_schema_cov: 'required_field' is a required property
DEBUG Validation error path: root
WARNING Context validation failed for rule cov_schema_val_rule
ERROR Schema validation errors for entry point 'checkout_terms': 1 errors
WARNING Schema validation errors for 'checkout_terms': 1 errors
WARNING Bad Request: /api/rules/engine/execute/
FDEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache hit for rules:checkout_terms: 1 rules
WARNING  Schema validation failed for strict_schema_cov: 'required_field' is a required property
DEBUG Validation error path: root
WARNING Context validation failed for rule cov_schema_val_rule
ERROR Schema validation errors for entry point 'checkout_terms': 1 errors
WARNING Schema validation errors for 'checkout_terms': 1 errors
WARNING Bad Request: /api/rules/engine/execute/
FDEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache hit for rules:checkout_terms: 1 rules
WARNING  Schema validation failed for strict_schema_cov: 'required_field' is a required property
DEBUG Validation error path: root
WARNING Context validation failed for rule cov_schema_val_rule
ERROR Schema validation errors for entry point 'checkout_terms': 1 errors
WARNING Schema validation errors for 'checkout_terms': 1 errors
WARNING Bad Request: /api/rules/engine/execute/
F..DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error fetching template styles for template 493: DB down
ERROR Internal Server Error: /api/rules/templates/template-styles/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/templates/template-styles/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error fetching template styles for template 99999: No MessageTemplate matches the given query.
ERROR Internal Server Error: /api/rules/templates/template-styles/
FDEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error fetching template styles for template 496: name 'MessageTemplateStyle' is not defined
ERROR Internal Server Error: /api/rules/templates/template-styles/
FDEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
EDEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Unauthorized: /api/rules/templates/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error getting pending acknowledgments: 'NoneType' object has no attribute 'get_pending_acknowledgments'
ERROR Internal Server Error: /api/rules/engine/pending-acknowledgments/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/acknowledge/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/acknowledge/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
INFO âœ… [Acknowledge] Created new session: jhfqctx91chdexz0umd0ighw96tl7643
INFO âœ… [Acknowledge] Session ID: jhfqctx91chdexz0umd0ighw96tl7643
INFO âœ… [Acknowledge] Stored ack_key: test_ack_key
INFO âœ… [Acknowledge] Total acknowledgments: 1
INFO âœ… [Acknowledge] All ack_keys in session: ['test_ack_key']
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
INFO âœ… [Acknowledge] Created new session: ouas1glux6jh63ujjiikeudee4o4jfvf
INFO âœ… [Acknowledge] Session ID: ouas1glux6jh63ujjiikeudee4o4jfvf
INFO âœ… [Acknowledge] Stored ack_key: ack_update_key
INFO âœ… [Acknowledge] Total acknowledgments: 1
INFO âœ… [Acknowledge] All ack_keys in session: ['ack_update_key']
INFO âœ… [Acknowledge] Session ID: ouas1glux6jh63ujjiikeudee4o4jfvf
INFO âœ… [Acknowledge] Stored ack_key: ack_update_key
INFO âœ… [Acknowledge] Total acknowledgments: 1
INFO âœ… [Acknowledge] All ack_keys in session: ['ack_update_key']
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error getting rules for entry point checkout_terms: DB error
ERROR Internal Server Error: /api/rules/entrypoint/checkout_terms/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_ep_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_page_0 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_3 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_4 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_5 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_6 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_7 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_8 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_9 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_10 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_11 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_12 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_13 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule cov_page_14 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
ERROR Error creating rule: Serializer error
ERROR Internal Server Error: /api/rules/create/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/create/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_new_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/preferences/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Rule with ID/rule_code nonexistent_rule_code not found for preference pref_key
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_pref_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Not Found: /api/rules/preferences/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_num_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
INFO ðŸ” [Comprehensive Validation] Session ID: None
INFO ðŸ” [Comprehensive Validation] Raw session acknowledgments: []
INFO ðŸ” [Comprehensive Validation] Ack keys in session: []
INFO ðŸ” [Comprehensive Validation] Acknowledgments dict keys: []
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 0 rules for checkout_terms
DEBUG Cache miss for rules:checkout_payment
DEBUG Cached 0 rules for checkout_payment
DEBUG Cache miss for rules:checkout_preference
DEBUG Cached 0 rules for checkout_preference
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
INFO ðŸ” [Comprehensive Validation] Session ID: None
INFO ðŸ” [Comprehensive Validation] Raw session acknowledgments: []
INFO ðŸ” [Comprehensive Validation] Ack keys in session: []
INFO ðŸ” [Comprehensive Validation] Acknowledgments dict keys: []
ERROR âŒ [Comprehensive Validation] Error: Fatal
ERROR Internal Server Error: /api/rules/validate-comprehensive-checkout/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
INFO ðŸ” [Comprehensive Validation] Session ID: None
INFO ðŸ” [Comprehensive Validation] Raw session acknowledgments: []
INFO ðŸ” [Comprehensive Validation] Ack keys in session: []
INFO ðŸ” [Comprehensive Validation] Acknowledgments dict keys: []
DEBUG Cache hit for rules:checkout_terms: 0 rules
DEBUG Cache hit for rules:checkout_payment: 0 rules
DEBUG Cache hit for rules:checkout_preference: 0 rules
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_comprehensive_block created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
INFO ðŸ” [Comprehensive Validation] Session ID: None
INFO ðŸ” [Comprehensive Validation] Raw session acknowledgments: []
INFO ðŸ” [Comprehensive Validation] Ack keys in session: []
INFO ðŸ” [Comprehensive Validation] Acknowledgments dict keys: []
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: ['acknowledgments']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788714_81fe1178
DEBUG Cache hit for rules:checkout_payment: 0 rules
DEBUG Cache hit for rules:checkout_preference: 0 rules
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule cov_comp_satisfied created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
INFO ðŸ” [Comprehensive Validation] Session ID: 6mm72rbahxjdti36uuew1b2oacv8spaw
INFO ðŸ” [Comprehensive Validation] Raw session acknowledgments: [{'ack_key': 'satisfied_ack', 'acknowledged': True, 'entry_point_location': 'checkout_terms'}]
INFO ðŸ” [Comprehensive Validation] Ack keys in session: ['satisfied_ack']
INFO ðŸ” [Comprehensive Validation] Acknowledgments dict keys: ['satisfied_ack']
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG No schema validation - context keys: ['acknowledgments']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788715_c2aceba5
DEBUG Cache hit for rules:checkout_payment: 0 rules
DEBUG Cache hit for rules:checkout_preference: 0 rules
........WARNING Country not found: UNKNOWN
.WARNING Country not found: UNKNOWN
.....WARNING Bad Request: /api/rules/engine/accept-terms/
.WARNING Unauthorized: /api/rules/engine/accept-terms/
..WARNING Bad Request: /api/rules/engine/checkout-terms-status/
.ERROR Error validating checkout: Cart matching query does not exist.
ERROR Internal Server Error: /api/rules/engine/checkout-validation/
....WARNING Bad Request: /api/rules/templates/template-styles/
.INFO ðŸ” [Comprehensive Validation] Session ID: None
INFO ðŸ” [Comprehensive Validation] Raw session acknowledgments: []
INFO ðŸ” [Comprehensive Validation] Ack keys in session: []
INFO ðŸ” [Comprehensive Validation] Acknowledgments dict keys: []
...DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: False
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG  JSONLogic condition evaluated to: True
.DEBUG Rule minimal_test created, invalidating cache for test
INFO Invalidated rules cache for entry point: test (key: rules:test)
.sssDEBUG Rule test_schema_validation_rule created, invalidating cache for checkout_start
INFO Invalidated rules cache for entry point: checkout_start (key: rules:checkout_start)
DEBUG Rule test_no_schema_rule created, invalidating cache for test_no_schema
INFO Invalidated rules cache for entry point: test_no_schema (key: rules:test_no_schema)
DEBUG Cache miss for rules:test_no_schema
DEBUG Cached 1 rules for test_no_schema
DEBUG No schema validation - context keys: ['arbitrary', 'can', 'request']
DEBUG Always-true condition evaluated to True
DEBUG Stored execution record: exec_1769788717_5863b36c
.sDEBUG Rule test_schema_validation_rule created, invalidating cache for checkout_start
INFO Invalidated rules cache for entry point: checkout_start (key: rules:checkout_start)
DEBUG Cache miss for rules:checkout_start
DEBUG Cached 1 rules for checkout_start
DEBUG  Schema validation passed for test_schema_validation
DEBUG Always-true condition evaluated to True
DEBUG Stored execution record: exec_1769788717_aae21bb0
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule premium_customer_check created, invalidating cache for cart_update
INFO Invalidated rules cache for entry point: cart_update (key: rules:cart_update)
DEBUG Rule base_discount created, invalidating cache for cart_update
INFO Invalidated rules cache for entry point: cart_update (key: rules:cart_update)
DEBUG Rule apply_final_discount created, invalidating cache for cart_update
INFO Invalidated rules cache for entry point: cart_update (key: rules:cart_update)
DEBUG Rule should_not_execute created, invalidating cache for cart_update
INFO Invalidated rules cache for entry point: cart_update (key: rules:cart_update)
DEBUG Cache miss for rules:cart_update
DEBUG Cached 4 rules for cart_update
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: cart.never_field = should_not_see_this
DEBUG Updated context: cart.never_field = should_not_see_this
DEBUG Stored execution record: exec_1769788718_539224a5
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'apply_final_discount' condition not matched
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: cart.base_discount = 10
DEBUG Updated context: cart.base_discount = 10
DEBUG Stored execution record: exec_1769788718_a0a8c2e5
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: cart.discount_multiplier = 1.5
DEBUG Updated context: cart.discount_multiplier = 1.5
DEBUG Stored execution record: exec_1769788718_8b99d20a
DEBUG Cache hit for rules:cart_update: 4 rules
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: cart.never_field = should_not_see_this
DEBUG Updated context: cart.never_field = should_not_see_this
DEBUG Stored execution record: exec_1769788718_e41c2bfc
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'apply_final_discount' condition not matched
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: cart.base_discount = 10
DEBUG Updated context: cart.base_discount = 10
DEBUG Stored execution record: exec_1769788718_066c6310
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'premium_customer_check' condition not matched
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule eu_terms_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule us_terms_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 2 rules for checkout_terms
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'us_terms_rule' condition not matched
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788719_bf0805df
WARNING Bad Request: /api/rules/acknowledge/
DEBUG Cache hit for rules:checkout_terms: 2 rules
DEBUG No schema validation - context keys: ['user', 'cart', 'acknowledgments', 'request']
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'us_terms_rule' condition not matched
DEBUG No schema validation - context keys: ['user', 'cart', 'acknowledgments', 'request']
DEBUG  JSONLogic condition evaluated to: True
ERROR  Error processing rule 'eu_terms_rule': 'bool' object has no attribute 'get'
DEBUG Stored execution record: exec_1769788719_6f695a29
DEBUG Cache hit for rules:checkout_terms: 2 rules
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788719_284b5b77
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'eu_terms_rule' condition not matched
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule bulk_discount created, invalidating cache for cart_update
INFO Invalidated rules cache for entry point: cart_update (key: rules:cart_update)
DEBUG Cache miss for rules:cart_update
DEBUG Cached 1 rules for cart_update
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Updated context during dispatch: cart.discount = 50.0
DEBUG Updated context: cart.discount = 50.0
DEBUG Stored execution record: exec_1769788719_b685f6ca
DEBUG Cache hit for rules:cart_update: 1 rules
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'bulk_discount' condition not matched
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule home_preferences created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache miss for rules:home_page_mount
DEBUG Cached 1 rules for home_page_mount
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788720_6d98dd72
DEBUG Cache hit for rules:checkout_terms: 2 rules
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'us_terms_rule' condition not matched
DEBUG No schema validation - context keys: ['user', 'cart', 'request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788720_c68bce25
..DEBUG Rule rule_checkout_terms_lookup_1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule rule_checkout_terms_lookup_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule rule_home_page_lookup_1 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
..DEBUG Rule rule_perf_high_priority created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule rule_perf_low_priority created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule rule_perf_medium_priority created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.....DEBUG Rule rule_checkout_1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
................DEBUG Rule test_json_serialization created, invalidating cache for test
INFO Invalidated rules cache for entry point: test (key: rules:test)
.........DEBUG Rule active_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule inactive_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule high_priority_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule medium_priority_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule low_priority_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
..DEBUG Rule future_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule expired_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule current_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule context_validation_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.sDEBUG Rule stop_processing_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule later_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule integration_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule versioned_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule versioned_rule_v2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
...DEBUG Rule display_message_rule created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule display_modal_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule multiple_actions_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule custom_function_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule update_field_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule ack_checked_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule ack_required_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule preference_optional_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule execution_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule execution_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule error_execution_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule execution_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
FDEBUG Rule execution_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule execution_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule execution_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule second_execution_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule third_execution_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule execution_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule checkout_discount_rule created, invalidating cache for checkout_start
INFO Invalidated rules cache for entry point: checkout_start (key: rules:checkout_start)
DEBUG Rule checkout_discount_banner created, invalidating cache for checkout_start
INFO Invalidated rules cache for entry point: checkout_start (key: rules:checkout_start)
DEBUG Rule checkout_terms_validation created, invalidating cache for checkout_start
INFO Invalidated rules cache for entry point: checkout_start (key: rules:checkout_start)
DEBUG Cache miss for rules:checkout_start
DEBUG Cached 3 rules for checkout_start
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788721_92325afc
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule eu_checkout_terms_given_test2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788721_f513fa49
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule eu_checkout_terms_required_test1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788721_f84b365f
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule homepage_newsletter_preference created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Cache miss for rules:home_page_mount
DEBUG Cached 1 rules for home_page_mount
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_aea3e2a0
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule performance_rule_0 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_3 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_4 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_5 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_6 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_7 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_8 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule performance_rule_9 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 10 rules for checkout_terms
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_260ae844
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_bfd260b5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_12a95509
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_6aca1cc0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_771f2db0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_cdd51fa0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_9696e0c3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_ff76eb6b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_2c5c6158
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_0b4f7ec2
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_96e374bc
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_71aa6dfb
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_3483eae2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_a1cb8ec5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_4941175c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_16c7da3f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_b5d07b71
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_fda8fd2f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_883c504b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_82c46e57
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_d65a8027
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_e451877b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_4b4d759f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_63da4c04
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_bdba8255
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_b122ebd1
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_909eba55
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_1422a698
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_d57573ac
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_36bc5081
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_17f7d170
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_75ab65a3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_779ff046
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_b6cf0f88
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_ad3039d1
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_d76c241f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_44f5dd4a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_59201a23
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_6cae5f8c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_2ed6403c
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_d19b4aae
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_e9ad1311
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_4572dac6
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_4fb847dd
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_713fb7f2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_aef5db3d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_31be99e9
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_80cb2fdf
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_bf4ad442
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_7f1b3e8c
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_1a216032
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_d221de07
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_1d36c328
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_36f29d91
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_673363d0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_c6e95ae8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_8d20545a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_ef2cae93
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_93523f99
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_3e0704db
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_4832608c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_be667f22
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_14ba7121
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_6e27f78d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_1d36a321
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_0210568f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_6917968e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_0236b58e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_3d12ee3c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_cb1d632c
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_9877b3f0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_dbd1a116
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_7e0b80f8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_9d1dacab
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_957898b5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_95253de9
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_b97d2378
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_1fae13db
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_cb40f68b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_ce9f7213
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_85c2cac7
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_923faf7d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_bf66d766
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_2fd00806
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_3c760272
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_15ced1bc
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_9c5032bf
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_12989e85
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_cf909733
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_50bd5ade
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_1c5dadcd
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_8feb0a11
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_c9338231
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_190dd639
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788722_d07a8da1
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_7da44581
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_7371a117
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_7d28c1fa
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_0bdfb939
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_17b27146
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_c24d6a90
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_d08f8f81
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_ecd94fd8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_6dce2a64
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_f0c81b68
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_ed88a0e3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_79b393d0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_99032f3f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_c0a7e324
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_bdc6566a
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_60ae76f5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_2b08d2d1
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_b9650700
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_203f955d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_141d5d50
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_60fd74d6
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_28b72f52
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_95870851
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_910280e0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_a24bdc30
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_7ad8da13
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_44376bca
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_6c2d5a1b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_25414120
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_5b4ab783
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_42f84739
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_3941c271
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_b093590b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_b46d60bc
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_ff77e171
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_c6068ba4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_0e9858a9
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_0e78b4f3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_50708f69
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_82f336a6
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_bcad1afb
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_958754f8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_dc90c29a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_af53bc14
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_78bb79e7
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_78db9360
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_2aebabd0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_e948fc2a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_cffc5523
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_d0655543
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_bd596184
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_08180f5f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_347bc900
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_893c4116
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_31a350c6
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_2458477b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_dcb5432f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_53818b75
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_91337b18
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_8d9ecfbe
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_b5f3a194
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_5e1501d5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_7e14ea45
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_6adddcd5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_dc491789
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_af3070b1
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_e69722bf
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_80b1179f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_006bb740
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_73f50446
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_9c101073
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_0caa6adf
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_90ca7125
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_b1223f04
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_a8fa429f
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_b9c8af62
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_a0aef3c2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_d5c5f10c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_166f323f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_6243e1c6
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_e5961fe8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_63d637ac
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_bf9c7ed0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_3d9322e5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_2a26bc40
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_2ff09d4d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_2fcfe816
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_314f6311
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_52d769d7
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_03dded4a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_01ecffbc
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_5e8aa47e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_80f17717
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_41e25b62
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_121999ed
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_a9826714
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_26d80f87
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_a47452b2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_648c6635
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_21eefddb
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_03b2625e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_970a7d8c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_fc5a6645
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_a8ee6fe5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_54130265
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_ca7e05de
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_2af01524
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_d7075592
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_2c97a086
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_e76ff444
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_1c55e71a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_f00c628e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_f48db333
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_114e1c07
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_35df93f0
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_e654d4dc
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_0f55d9af
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_b8249b30
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_7a2579a6
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_42c7efad
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_56810778
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_783fb2f8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_b41034c5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_46880fa2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_bdce2ff4
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_ec095d5f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_570d23ab
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_3030c505
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_d2efcc15
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_c368f0f2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_28fd3aff
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_e60d72cf
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_3864632e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_4c7572b2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_efc45c66
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_ee3600ed
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_aeb087a6
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_c09ae38e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_6215581c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_90a1107b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_807ecf35
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_c0f34f76
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_7c9b7c7d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_96cc6aa3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_e49d49f5
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_794a104e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_1f58fef0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_4e776064
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_1393959c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_b5eaf3fc
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_c8490ade
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_06ffffdc
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_7908556f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_f71c11b8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_cce0f82c
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_90efd2bb
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_cb89dca9
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_24032bd2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_d96411cd
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_75032bfd
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_308455e3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_63fbc367
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_affdd35e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_6d91403d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_fb4b44a4
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_f9f6d18b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_a034ff49
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_9a635c64
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_e7ca9338
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_65588bc6
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_5982e407
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_e91f5ba2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_56156a7d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_93da13c3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_68e29ae9
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_a7cdd696
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_c99b34cf
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_e714ae27
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_d337be85
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_ba1dd453
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_85359527
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_b259a32e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_9b46e21b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_69232979
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_88b63360
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_dc7e6408
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_7b7df3bc
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_6e3bbd01
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_ad8a225d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_342b903b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_cea15b3f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_7ac422d6
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_9447c1d1
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_8f8759c4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_6359bef6
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788723_fcee01af
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_376012a2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_49e09103
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_03cf5b5e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_ae140e93
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_b71d5711
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_b126c7e4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_29236bcb
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_c47bde1e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_4d929c02
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_49d3cc82
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_d7a93d3a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_f4c464bf
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_4d5aa56b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_77fc765f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_1725cdd1
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_8c15e735
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_fd2ffcef
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_6478a4fe
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_3afd7c53
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_4c422ec0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_c1690946
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_8e5321c5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_5a2520f5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_5e8d943a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_be051a2a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_8c79b4e5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_f17aa912
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_78af18ca
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_e8cdec79
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_ddcdf314
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_05f2ae1e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_83a4127f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_510a669f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_0f610471
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_9efc90ef
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_a832acb5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_759bfd9b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_38e14564
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_f0e1e3b7
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_71bc59ad
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_b3ba9d73
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_65d779f8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_30f34ca3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_a41a6822
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_72a2c275
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_fcd5472a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_0186be96
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_c6ff81ba
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_d1feb63f
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_db7505d4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_c0e07cbb
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_88a492de
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_90a5de11
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_000d6af3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_1f2188ae
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_741f1608
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_d9e84bd4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_843e63cd
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_ed990782
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_65dbff33
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_64d0211b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_b260f464
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_5a3a19c1
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_1796214b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_acd92d67
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_614f72c3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_988e6e05
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_16c2e2b4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_87cb2cd7
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_372f50c0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_b520caa8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_2aadbc36
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_bd0cefb5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_1c77125f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_b4096c01
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_75513104
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_0c29a826
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_d5c62bb8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_23b5e877
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_6c8d02c4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_f91f49d7
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_38536195
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_d01c740e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_fb729fa0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_a732eef4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_dbfaa4ff
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_48a65d0a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_d46b9cec
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_9cd93cbe
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_751314be
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_b9058ee2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_7c280930
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_1dcd3a88
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_0d593aeb
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_9431e2b7
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_62c0cc7a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_cc348a8f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_a9b28da3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_b9a26e5b
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_bd2bb8fd
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_3fc76935
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_59cff5b4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_39bb97b2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_8e03e51e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_44fd5e5d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_2040eb90
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_e433a5d8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_22ba2c1f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_c6400303
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_84e29969
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_da5cc60b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_8a3107e8
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_0c49f64e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_75ead3cc
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_10dc12dd
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_f7f1ce26
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_2ba91ceb
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_f9ae5dd3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_cbbf43e9
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_47b5b090
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_69470ddd
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_d20994aa
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_f4eece37
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_7cd56c2f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_856db984
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_b0a02ddb
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_d3ee3201
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_188c67cd
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_628b7208
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_6a03907a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_b9f34cd2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_e2ad0d05
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_724688f2
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_b2c09949
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_aad0286d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_33e1a5a0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_af98b592
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_a6001c00
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_a5d4c55d
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_3f2c6ad7
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_855cad1b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_d5104fdf
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_a908d96f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_2d23bdd0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_bd052fbb
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_977d7889
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_479cae88
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_1d3d109f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_78afaa1e
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_5482c7f3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_2b54c044
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_7ea17cf1
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_287dc503
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_2c66dc69
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_43166661
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_9c5dc9c3
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_529c4c5a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_d461112c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_e9f6c3aa
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_2366e653
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_6b51e451
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_467614af
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_291d1cd0
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_0244cfe7
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_c804d5f1
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_6262075f
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_f3b14753
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_14c037d5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_01277541
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_023a9384
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_76f872b7
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_8701352e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_4f8585be
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_8fbbc988
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_7a710d5a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_d75b97d7
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_c4ec2007
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_72b26efb
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_e4d89a2a
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_38384975
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_68f2caab
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_5495631c
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_7dce3f46
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788724_f44392d4
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_d57df5db
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_74795a2b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_4be35777
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_e70367ff
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_9187a93c
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_85c175ce
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_06c0d33a
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_1a7744b7
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_9b486b82
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_b7703af1
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_d267940d
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_02e033ec
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_c7ce3f34
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_90089fec
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_6afe0078
DEBUG Cache hit for rules:checkout_terms: 10 rules
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_cbbbb63b
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_5415a41e
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_2b4ea578
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_99f93951
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_29636498
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_ee28c3c6
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_e75977e5
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_40703456
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_553401a7
DEBUG  Schema validation passed for full_checkout_context
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_a47a5533
.sDEBUG Rule bulk_rule_0 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule bulk_rule_1 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule bulk_rule_2 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule bulk_rule_3 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule bulk_rule_4 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule bulk_rule_5 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule bulk_rule_6 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule bulk_rule_7 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule bulk_rule_8 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule bulk_rule_9 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
....DEBUG Rule nested_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.sDEBUG Rule test_full_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule terms_ack_required created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
WARNING Bad Request: /api/rules/acknowledge/
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG  Schema validation passed for checkout_context_v1
DEBUG  JSONLogic condition evaluated to: True
ERROR  Error processing rule 'terms_ack_required': 'bool' object has no attribute 'get'
DEBUG Stored execution record: exec_1769788725_06d7804b
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule terms_ack_required created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG  Schema validation passed for checkout_context_v1
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788725_390d2293
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule delete_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule delete_test_rule updated, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule marking_deadline_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG  Schema validation passed for checkout_context_v1
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'marking_deadline_rule' condition not matched
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule checkout_rule_1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule checkout_rule_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule home_rule_1 created, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule pagination_rule_0 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_1 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_2 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_3 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_4 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_5 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_6 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_7 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_8 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_9 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_10 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_11 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_12 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_13 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_14 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_15 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_16 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_17 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_18 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_19 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_20 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_21 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_22 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_23 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule pagination_rule_24 created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule new_checkout_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
WARNING Bad Request: /api/rules/create/
WARNING Bad Request: /api/rules/create/
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule logged_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Cache miss for rules:checkout_terms
DEBUG Cached 1 rules for checkout_terms
DEBUG  Schema validation passed for checkout_context_v1
DEBUG  JSONLogic condition evaluated to: False
DEBUG   Rule 'logged_rule' condition not matched
.DEBUG Rule rule_home_banner deleted, invalidating cache for home_page_mount
INFO Invalidated rules cache for entry point: home_page_mount (key: rules:home_page_mount)
DEBUG Rule update_test_rule created, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
DEBUG Rule update_test_rule updated, invalidating cache for checkout_terms
INFO Invalidated rules cache for entry point: checkout_terms (key: rules:checkout_terms)
.sDEBUG Cache miss for rules:checkout_start
DEBUG Cached 0 rules for checkout_start
.DEBUG Cache hit for rules:checkout_start: 0 rules
....WARNING Bad Request: /api/rules/engine/calculate-vat/
.WARNING Country not found: XX
.WARNING Method Not Allowed: /api/rules/engine/calculate-vat/
.WARNING Bad Request: /api/rules/engine/calculate-vat/
.WARNING Bad Request: /api/rules/engine/calculate-vat/
................WARNING No region mapping found for country: XX
....WARNING Country not found: UNKNOWN
.......WARNING Country not found: UNKNOWN
..ssssINFO VAT calculated for GB: 20.00
.WARNING Country not found: XX
INFO VAT calculated for XX: 0.00
..INFO VAT calculated for GB: 26.00
.INFO VAT calculated for US: 0.00
.INFO VAT calculated for GB: 20.00
..EEEEEEEEEE.............................EEEEEE..........WARNING Bad Request: /api/search/fuzzy/
..EEE..........EE.E.EE...F..........E.E...............................E.....EEEEE..WARNING Unauthorized: /api/auth/login/
........................../Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/rest_framework/pagination.py:207: UnorderedObjectListWarning: Pagination may yield inconsistent results with an unordered object_list: <class 'students.models.Student'> QuerySet.
  paginator = self.django_paginator_class(queryset, page_size)
.WARNING Unauthorized: /api/students/
.EEEEEEEEEEEEEEEEEEEEEEEE.EEEEEEEEEEEEEEEEEEEEEEEEEEE............................................FERROR Error creating user: Database error
ERROR Internal Server Error: /api/users/
.ERROR Error sending activation email: Email service unavailable
.ERROR Error fetching user profile: 'UserProfile' instance needs to have a primary key value before this relationship can be used.
ERROR Internal Server Error: /api/users/profile/
.ERROR Error updating user profile: Database transaction failed
ERROR Internal Server Error: /api/users/update_profile/
..WARNING Unauthorized: /api/users/profile/
....WARNING Bad Request: /api/users/update_profile/
..WARNING Unauthorized: /api/users/update_profile/
.ERROR Error fetching user profile: 'UserProfileAddress' object has no attribute 'building'
ERROR Internal Server Error: /api/users/profile/
.EERROR Error fetching user profile: 'UserProfileAddress' object has no attribute 'building'
ERROR Internal Server Error: /api/users/profile/
.ERROR Error updating user profile: value too long for type character varying(2)

ERROR Internal Server Error: /api/users/update_profile/
FERROR Error sending email verification: SMTP connection failed
.ERROR Failed to send email verification to newemail@example.com
....WARNING Bad Request: /api/users/
.WARNING Failed to send account activation email to emailfail@example.com
.WARNING Bad Request: /api/users/
..WARNING No template configuration found for account_activation, using defaults
ERROR Failed to queue email: null value in column "reply_to_email" of relation "utils_email_queue" violates not-null constraint
DETAIL:  Failing row contains (71, 88820e80-242c-4c24-8b18-b2589cf8a2b0, ["anonymous@example.com"], [], [], eugene.lo1030@gmail.com, null, Activate Your ActEd Account, {"user": {"id": 3170, "email": "anonymous@example.com", "usernam..., , , high, pending, 2026-01-30 15:59:33.036541+00, 2026-01-30 15:59:33.036623+00, null, 0, 3, null, null, null, , {}, 2026-01-30 15:59:33.036774+00, 2026-01-30 15:59:33.036776+00, [], 3170, null).

ERROR Failed to queue email: Failed to queue email: null value in column "reply_to_email" of relation "utils_email_queue" violates not-null constraint
DETAIL:  Failing row contains (71, 88820e80-242c-4c24-8b18-b2589cf8a2b0, ["anonymous@example.com"], [], [], eugene.lo1030@gmail.com, null, Activate Your ActEd Account, {"user": {"id": 3170, "email": "anonymous@example.com", "usernam..., , , high, pending, 2026-01-30 15:59:33.036541+00, 2026-01-30 15:59:33.036623+00, null, 0, 3, null, null, null, , {}, 2026-01-30 15:59:33.036774+00, 2026-01-30 15:59:33.036776+00, [], 3170, null).

WARNING Failed to get placeholders for template account_activation: EmailTemplate matching query does not exist.
ERROR	MediaQuery: No match: ('IDENT', 'mso', 240, 10)
ERROR MediaQuery: No match: ('IDENT', 'mso', 240, 10)
ERROR	MediaQuery: No match for None in Choice(Sequence(ONLY|NOT, media_type, Sequence(AND, Sequence(expression, media_feature, Sequence(colon, Choice(ColorValue, Dimension, Value)), expression END))), Sequence(Sequence(expression, media_feature, Sequence(colon, Choice(ColorValue, Dimension, Value)), expression END), Sequence(AND, Sequence(expression, media_feature, Sequence(colon, Choice(ColorValue, Dimension, Value)), expression END))))
ERROR MediaQuery: No match for None in Choice(Sequence(ONLY|NOT, media_type, Sequence(AND, Sequence(expression, media_feature, Sequence(colon, Choice(ColorValue, Dimension, Value)), expression END))), Sequence(Sequence(expression, media_feature, Sequence(colon, Choice(ColorValue, Dimension, Value)), expression END), Sequence(AND, Sequence(expression, media_feature, Sequence(colon, Choice(ColorValue, Dimension, Value)), expression END))))
ERROR	No content to parse.
ERROR No content to parse.
ERROR	MediaQuery: No content.
ERROR MediaQuery: No content.
INFO Email BCC monitoring enabled. BCC recipients: ['eugene.lo1030@gmail.com', 'eugenelo@bpp.com']
...ERROR Error creating user: value too long for type character varying(2)

ERROR Internal Server Error: /api/users/
FWARNING Unauthorized: /api/users/3174/
.WARNING Unauthorized: /api/users/
./Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/rest_framework/pagination.py:207: UnorderedObjectListWarning: Pagination may yield inconsistent results with an unordered object_list: <class 'django.contrib.auth.models.User'> QuerySet.
  paginator = self.django_paginator_class(queryset, page_size)
.WARNING Unauthorized: /api/users/3177/
.WARNING Unauthorized: /api/users/3178/
.ssssssssINFO Cached addresses for postcode SW1A1AA (expires: 2026-02-13)
.ERROR Error caching addresses for postcode SW1A1AA: Database error
.INFO Cached addresses for postcode SW1A1AA (expires: 2026-02-06)
.INFO Cached addresses for postcode SW1A1AA (expires: 2026-02-06)
.INFO Cached addresses for postcode SW1A1AA (expires: 2026-02-06)
.INFO Cached addresses for postcode SW1A1AA (expires: 2026-02-06)
.INFO Cached addresses for postcode SW1A1AA (expires: 2026-02-06)
.INFO Cache MISS for postcode SW1A1AA
INFO Cached addresses for postcode SW1A1AA (expires: 2026-02-06)
INFO Cache HIT for postcode SW1A1AA (hits: 2)
INFO Cache MISS for postcode SW1A1AA
..INFO Cleaned up 2 expired cache entries
.INFO Cleaned up 0 expired cache entries
.ERROR Error cleaning up expired cache: Database error
.INFO Cleaned up 0 expired cache entries
..ERROR Error getting cache stats: Database error
..INFO Cache MISS for postcode SW1A1AA
.ERROR Error retrieving from cache for postcode SW1A1AA: Database error
.INFO Cache HIT for postcode SW1A1AA (hits: 2)
.INFO Cache HIT for postcode SW1A1AA (hits: 2)
.INFO Cache MISS for postcode SW1A1AA
.INFO Cache HIT for postcode SW1A1AA (hits: 2)
INFO Cache HIT for postcode SW1A1AA (hits: 3)
INFO Cache HIT for postcode SW1A1AA (hits: 4)
.INFO Cache HIT for postcode SW1A1AA (hits: 2)
.INFO Invalidated 1 cache entries for postcode SW1A1AA
.INFO Invalidated 3 cache entries for postcode SW1A1AA
.ERROR Error invalidating cache for postcode SW1A1AA: Database error
.INFO Invalidated 0 cache entries for postcode NONEXISTENT
.ERROR Error checking cache validity for postcode SW1A1AA: Database error
....INFO Cached addresses for postcode SW1A1AA (expires: 2026-02-06)
INFO Cached addresses for postcode OX449EL (expires: 2026-02-06)
INFO Cached addresses for postcode M13NQ (expires: 2026-02-06)
INFO Cache HIT for postcode SW1A1AA (hits: 2)
INFO Cache HIT for postcode OX449EL (hits: 2)
INFO Cache HIT for postcode M13NQ (hits: 2)
.INFO [POSTCODER] SUCCESS (API) SW1A1AA: 5 addresses in 300ms
INFO [POSTCODER] SUCCESS (cached) SW1A1AA: 5 addresses in 50ms
INFO [POSTCODER] FAILED (API) INVALID: 0 addresses in 5000ms
.......ERROR Error getting lookup stats: Database error
..INFO [POSTCODER] FAILED (API) SW1A1AA: 0 addresses in 5000ms
.INFO [POSTCODER] FAILED (API) SW1A1AA: 0 addresses in 5000ms
.INFO [POSTCODER] FAILED (API) SW1A1AA: 0 addresses in 5000ms
.INFO [POSTCODER] FAILED (API) SW1A1AA: 0 addresses in 5000ms
.INFO [POSTCODER] SUCCESS (cached) SW1A1AA: 3 addresses in 50ms
.INFO [POSTCODER] SUCCESS (API) SW1A1AA: 3 addresses in 300ms
.INFO [GETADDRESS] SUCCESS (API) SW1A1AA: 5 addresses in 250ms
.INFO [POSTCODER] SUCCESS (API) SW1A1AA: 5 addresses in 250ms
.INFO [POSTCODER] SUCCESS (API) SW1A1AA: 5 addresses in 250ms
.ERROR Failed to log address lookup for SW1A1AA: Database error
..INFO [POSTCODER] SUCCESS (API) SW1A1AA: 5 addresses in 250ms
.INFO [POSTCODER] FAILED (API) SW1A1AA: 0 addresses in 5000ms
.INFO [POSTCODER] SUCCESS (cached) SW1A1AA: 3 addresses in 100ms
.INFO [POSTCODER] SUCCESS (API) SW1A1AA: 5 addresses in 250ms
.INFO [POSTCODER] SUCCESS (API) SW1A1AA: 5 addresses in 250ms
.INFO [POSTCODER] SUCCESS (API) POST1: 5 addresses in 250ms
INFO [GETADDRESS] SUCCESS (API) GET1: 4 addresses in 350ms
.INFO Calling Postcoder API for GB postcode: SW1A1AA
ERROR Postcoder API request failed for GB postcode SW1A1AA: API error
ERROR Lookup failed: API error
.INFO Calling Postcoder API for GB postcode: OX449EL
INFO Successfully retrieved 1 addresses for GB
WARNING Country code GB not found in UtilsCountrys, using code as fallback
.INFO Calling Postcoder API for GB postcode: SW1A1AA
INFO Successfully retrieved 1 addresses for GB
WARNING Country code GB not found in UtilsCountrys, using code as fallback
.INFO Calling Postcoder API for GB postcode: SW1A1AA
ERROR Postcoder API HTTP error for GB postcode SW1A1AA: 
.INFO Calling Postcoder API for GB postcode: SW1A1AA
ERROR Postcoder API error for GB: Invalid API key
ERROR Postcoder API request failed for GB postcode SW1A1AA: Postcoder API error: Invalid API key
.INFO Calling Postcoder API for GB postcode: SW1A1AA
INFO Successfully retrieved 0 addresses for GB
..INFO Calling Postcoder API for GB postcode: SW1A1AA
ERROR Postcoder API HTTP error for GB postcode SW1A1AA: 
.WARNING POSTCODER_API_KEY not configured
..INFO Calling Postcoder API for GB postcode: SW1A1AA
INFO Successfully retrieved 1 addresses for GB
.INFO Calling Postcoder API for GB postcode: SW1A1AA
ERROR Postcoder API timeout for GB postcode SW1A1AA: Request timed out
.INFO Retrieving full address details for ID: invalid_id
ERROR Postcoder Retrieve API error for GB: Invalid ID
ERROR âŒ Postcoder Retrieve API error for ID invalid_id: Postcoder API error: Invalid ID
..INFO Retrieving full address details for ID: test_id
INFO âœ… Retrieved address data: {'id': 'test_id', 'postcode': '12345', 'street': 'Main Street', 'posttown': 'New York'}
INFO âœ… Successfully retrieved full address for ID: test_id
.WARNING POSTCODER_API_KEY not configured
..INFO Retrieving full address details for ID: test_id_123
INFO âœ… Retrieved address data: {'id': 'test_id_123', 'postcode': 'SW1A1AA', 'summaryline': '10 Downing Street, Westminster, London', 'organisation': '', 'buildingname': '', 'number': '10', 'premise': '10', 'street': 'Downing Street', 'dependentlocality': 'Westminster', 'posttown': 'LONDON', 'county': 'Greater London', 'latitude': 51.503396, 'longitude': -0.127784}
INFO âœ… Successfully retrieved full address for ID: test_id_123
.INFO Retrieving full address details for ID: test_id
ERROR âŒ Postcoder Retrieve API timeout for ID test_id
....WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
ERROR Error transforming address item: 'NoneType' object has no attribute 'get'
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
WARNING Postcoder response is not a list (type=<class 'dict'>), returning empty addresses
WARNING Country code GB not found in UtilsCountrys, using code as fallback
WARNING Postcoder response is not a list (type=<class 'NoneType'>), returning empty addresses
WARNING Country code GB not found in UtilsCountrys, using code as fallback
WARNING Postcoder response is not a list (type=<class 'str'>), returning empty addresses
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.WARNING Country code GB not found in UtilsCountrys, using code as fallback
.........................................................ssssFssEssss..............sINFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO [POSTCODER] FAILED (API) SW1A1AA: 0 addresses in 1ms
.ssssssssINFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 2 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 2 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 2 addresses in 107ms
..sssINFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 163ms
.
  [OK] Cache miss response time: 175.37ms (target: <500ms)
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 26ms
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 33ms
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 39ms
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 40ms
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 50ms
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 54ms
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 56ms
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 63ms
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 68ms
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 71ms
..
  [OK] Concurrent requests performance:
    - Average: 56.09ms
    - Min: 32.40ms
    - Max: 78.15ms
    - Requests: 10

  âœ“ Database query performance:
    - Query time: 2.03ms
    - Queries executed: 1
    - Total cache entries: 101
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='EC1A1BB', postcode='EC1A1BB', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) EC1A1BB: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='OX449EL', postcode='OX449EL', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) OX449EL: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='M13NQ', postcode='M13NQ', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) M13NQ: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='G28DN', postcode='G28DN', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) G28DN: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='EH11YZ', postcode='EH11YZ', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) EH11YZ: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='CF101AA', postcode='CF101AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) CF101AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='BT11AA', postcode='BT11AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) BT11AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='AB101AA', postcode='AB101AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) AB101AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='PL11AA', postcode='PL11AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) PL11AA: 1 addresses in 0ms
.
  âœ“ Different postcode performance:
    - Average: 0.93ms
    - Min: 0.80ms
    - Max: 1.24ms
    - Postcodes tested: 10
INFO ðŸ” Address lookup request: query='SW00AA', postcode='SW00AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW00AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW01AA', postcode='SW01AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW01AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW02AA', postcode='SW02AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW02AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW03AA', postcode='SW03AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW03AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW04AA', postcode='SW04AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW04AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW05AA', postcode='SW05AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW05AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW06AA', postcode='SW06AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW06AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW07AA', postcode='SW07AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW07AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW08AA', postcode='SW08AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW08AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW09AA', postcode='SW09AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW09AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW10AA', postcode='SW10AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW10AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW11AA', postcode='SW11AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW11AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW12AA', postcode='SW12AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW12AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW13AA', postcode='SW13AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW13AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW14AA', postcode='SW14AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW14AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW15AA', postcode='SW15AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW15AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW16AA', postcode='SW16AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW16AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW17AA', postcode='SW17AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW17AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW18AA', postcode='SW18AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW18AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW19AA', postcode='SW19AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW19AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW20AA', postcode='SW20AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW20AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW21AA', postcode='SW21AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW21AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW22AA', postcode='SW22AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW22AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW23AA', postcode='SW23AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW23AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW24AA', postcode='SW24AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW24AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW25AA', postcode='SW25AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW25AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW26AA', postcode='SW26AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW26AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW27AA', postcode='SW27AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW27AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW28AA', postcode='SW28AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW28AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW29AA', postcode='SW29AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW29AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW30AA', postcode='SW30AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW30AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW31AA', postcode='SW31AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW31AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW32AA', postcode='SW32AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW32AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW33AA', postcode='SW33AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW33AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW34AA', postcode='SW34AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW34AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW35AA', postcode='SW35AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW35AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW36AA', postcode='SW36AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW36AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW37AA', postcode='SW37AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW37AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW38AA', postcode='SW38AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW38AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW39AA', postcode='SW39AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW39AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW40AA', postcode='SW40AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW40AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW41AA', postcode='SW41AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW41AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW42AA', postcode='SW42AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW42AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW43AA', postcode='SW43AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW43AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW44AA', postcode='SW44AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW44AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW45AA', postcode='SW45AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW45AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW46AA', postcode='SW46AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW46AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW47AA', postcode='SW47AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW47AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW48AA', postcode='SW48AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW48AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW49AA', postcode='SW49AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW49AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW50AA', postcode='SW50AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW50AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW51AA', postcode='SW51AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW51AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW52AA', postcode='SW52AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW52AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW53AA', postcode='SW53AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW53AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW54AA', postcode='SW54AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW54AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW55AA', postcode='SW55AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW55AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW56AA', postcode='SW56AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW56AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW57AA', postcode='SW57AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW57AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW58AA', postcode='SW58AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW58AA: 1 addresses in 5ms
INFO ðŸ” Address lookup request: query='SW59AA', postcode='SW59AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW59AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW60AA', postcode='SW60AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW60AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW61AA', postcode='SW61AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW61AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW62AA', postcode='SW62AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW62AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW63AA', postcode='SW63AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW63AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW64AA', postcode='SW64AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW64AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW65AA', postcode='SW65AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW65AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW66AA', postcode='SW66AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW66AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW67AA', postcode='SW67AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW67AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW68AA', postcode='SW68AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW68AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW69AA', postcode='SW69AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW69AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW70AA', postcode='SW70AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW70AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW71AA', postcode='SW71AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW71AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW72AA', postcode='SW72AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW72AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW73AA', postcode='SW73AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW73AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW74AA', postcode='SW74AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW74AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW75AA', postcode='SW75AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW75AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW76AA', postcode='SW76AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW76AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW77AA', postcode='SW77AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW77AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW78AA', postcode='SW78AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW78AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW79AA', postcode='SW79AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW79AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW80AA', postcode='SW80AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW80AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW81AA', postcode='SW81AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW81AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW82AA', postcode='SW82AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW82AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW83AA', postcode='SW83AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW83AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW84AA', postcode='SW84AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW84AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW85AA', postcode='SW85AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW85AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW86AA', postcode='SW86AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW86AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW87AA', postcode='SW87AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW87AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW88AA', postcode='SW88AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW88AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW89AA', postcode='SW89AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW89AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW90AA', postcode='SW90AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW90AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW91AA', postcode='SW91AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW91AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW92AA', postcode='SW92AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW92AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW93AA', postcode='SW93AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW93AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW94AA', postcode='SW94AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW94AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW95AA', postcode='SW95AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW95AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW96AA', postcode='SW96AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW96AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW97AA', postcode='SW97AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW97AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW98AA', postcode='SW98AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW98AA: 1 addresses in 1ms
INFO ðŸ” Address lookup request: query='SW99AA', postcode='SW99AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW99AA: 1 addresses in 1ms
.
  âœ“ Memory leak test:
    - Baseline: 0.00MB
    - Final: 0.72MB
    - Growth: 0.72MB
    - Requests: 100
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
.
  âœ“ Sequential request consistency:
    - Average: 1.00ms
    - Std Dev: 0.13ms
    - Variation: 13.42%
    - Requests: 20
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 2ms
.sss
[OK] Analytics log created with correct metadata
INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) SW1A1AA: 1 addresses in 0ms
.
[OK] Cache miss response time: 1.55ms (target: <500ms)
INFO ðŸ” Address lookup request: query='TEST01', postcode='TEST01', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) TEST01: 1 addresses in 54ms
INFO ðŸ” Address lookup request: query='TEST01', postcode='TEST01', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
INFO Calling Postcoder Autocomplete Find API for GB
INFO âœ… Successfully retrieved 1 address suggestions for GB
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) TEST01: 1 addresses in 53ms
.
============================================================
PERFORMANCE TEST SUMMARY
============================================================
Cache Miss (API Call):  55.20ms
Cache Hit (Database):   54.71ms
Performance Gain:       1.01x faster
============================================================

[OK] All performance targets met

INFO ðŸ” Address retrieve request: id='invalid', country=GB
ERROR âŒ Validation error: Invalid ID
...INFO ðŸ” Address retrieve request: id='test_id_123', country=US
INFO âœ… Successfully retrieved address for ID: test_id_123
.INFO ðŸ” Address retrieve request: id='test_id_123', country=GB
INFO âœ… Successfully retrieved address for ID: test_id_123
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=US
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
..INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
WARNING âš ï¸ Failed to log address lookup: Logging failed
..INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
..INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='10 Downing Street', postcode='', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
.INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
..INFO ðŸ” Address lookup request: query='SW1A1AA', postcode='SW1A1AA', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
..WARNING Bad Request: /api/utils/address-lookup/
.INFO ðŸ” Address lookup request: query='10 Downing Street', postcode='', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) 10 Downing: 1 addresses in 2ms
.WARNING Bad Request: /api/utils/address-retrieve/
.INFO ðŸ” Address retrieve request: id='ABC123', country=GB
INFO âœ… Successfully retrieved address for ID: ABC123
.....https://api.getAddress.io/v2/private-address?api-key=-A-yR_lwoE2LJiIoDzrf_Q46686
INFO ðŸ” Address lookup request: query='Test Address', postcode='', country=GB
INFO ðŸ” Calling Postcoder Autocomplete API (no cache for suggestions)
WARNING Country code GB not found in UtilsCountrys
INFO âœ… Transformed 1 autocomplete suggestions
INFO [POSTCODER] SUCCESS (API) Test Addre: 1 addresses in 2ms
.sWARNING Unauthorized: /api/auth/login/
/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/core/cache/backends/base.py:119: CacheKeyWarning: Cache key contains characters that will cause errors if used with memcached: ':1:filter_options_Product Types'
  warnings.warn(warning, CacheKeyWarning)
WARNING Not Found: /api/products/product-group-filters/
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
DEBUG Cache miss for rules:home_page_mount
DEBUG Cached 1 rules for home_page_mount
DEBUG No schema validation - context keys: ['request']
DEBUG  JSONLogic condition evaluated to: True
DEBUG Stored execution record: exec_1769788789_f83e6b35
WARNING get_vat_calculations() is deprecated. Use get_vat_totals() instead. This method will be removed in a future version.
WARNING No template configuration found for account_activation, using defaults
ERROR Failed to queue email: null value in column "reply_to_email" of relation "utils_email_queue" violates not-null constraint
DETAIL:  Failing row contains (72, 5f239353-5f99-4778-b956-5972aab0e5ac, ["newuser@example.com"], [], [], eugene.lo1030@gmail.com, null, Activate Your ActEd Account, {"user": {"id": null, "email": "", "username": "", "is_active": ..., , , high, pending, 2026-01-30 15:59:50.972703+00, 2026-01-30 15:59:50.972785+00, null, 0, 3, null, null, null, , {}, 2026-01-30 15:59:50.972964+00, 2026-01-30 15:59:50.972967+00, [], 3196, null).

ERROR Failed to queue email: Failed to queue email: null value in column "reply_to_email" of relation "utils_email_queue" violates not-null constraint
DETAIL:  Failing row contains (72, 5f239353-5f99-4778-b956-5972aab0e5ac, ["newuser@example.com"], [], [], eugene.lo1030@gmail.com, null, Activate Your ActEd Account, {"user": {"id": null, "email": "", "username": "", "is_active": ..., , , high, pending, 2026-01-30 15:59:50.972703+00, 2026-01-30 15:59:50.972785+00, null, 0, 3, null, null, null, , {}, 2026-01-30 15:59:50.972964+00, 2026-01-30 15:59:50.972967+00, [], 3196, null).

WARNING Failed to get placeholders for template account_activation: EmailTemplate matching query does not exist.
INFO Email BCC monitoring enabled. BCC recipients: ['eugene.lo1030@gmail.com', 'eugenelo@bpp.com']
WARNING Creating token for inactive user: 3196. If this is not intentional, consider checking the user's status before calling the `for_user` method.

Verifying a pact between [1mAdmin3Frontend[0m and [1mAdmin3Backend[0m

  a fuzzy search request for CM2 (4ms loading, 389ms verification)
     Given searchable products exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a fuzzy search request with no matches (4ms loading, 395ms verification)
     Given searchable products exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a login request with wrong password (4ms loading, 919ms verification)
     Given a registered user exists
    returns a response which
      has status code [1m401[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a logout request (4ms loading, 270ms verification)
     Given an authenticated user
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for acted rules (4ms loading, 312ms verification)
     Given acted rules exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for all tutorial products (4ms loading, 306ms verification)
     Given tutorial products exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for available store products (4ms loading, 318ms verification)
     Given store products exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for bundles (4ms loading, 325ms verification)
     Given exam session bundles exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for catalog exam sessions (4ms loading, 305ms verification)
     Given catalog exam sessions exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for catalog products (4ms loading, 304ms verification)
     Given catalog products exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for catalog subjects (4ms loading, 316ms verification)
     Given catalog subjects exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for default search data (4ms loading, 325ms verification)
     Given products exist for default search
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for filter configuration (4ms loading, 332ms verification)
     Given filter configuration exists
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for navigation data (4ms loading, 316ms verification)
     Given catalog data exists
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request for product group filters (4ms loading, 267ms verification)
     Given product groups exist
    returns a response which
      has status code [1m200[0m ([31mFAILED[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([31mFAILED[0m)
      has a matching body ([31mFAILED[0m)

  a request for tutorial events list (4ms loading, 307ms verification)
     Given tutorial events exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request to calculate VAT (4ms loading, 323ms verification)
     Given VAT configuration exists
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request to clear the cart (4ms loading, 326ms verification)
     Given an authenticated user with empty cart
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request to execute rules for home_page_mount (4ms loading, 317ms verification)
     Given rules for home_page_mount exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a request to fetch an empty cart (4ms loading, 318ms verification)
     Given an authenticated user with empty cart
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a valid login request (4ms loading, 619ms verification)
     Given a registered user exists
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  a valid registration request (4ms loading, 700ms verification)
     Given no user with email newuser@example.com exists
    returns a response which
      has status code [1m201[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)

  an advanced search request with subject filter (4ms loading, 343ms verification)
     Given searchable products exist
    returns a response which
      has status code [1m200[0m ([32mOK[0m)
      includes headers
        "[1mContent-Type[0m" with value "[1mapplication/json[0m" ([32mOK[0m)
      has a matching body ([32mOK[0m)


Failures:

1) Verifying a pact between Admin3Frontend and Admin3Backend Given product groups exist - a request for product group filters
    1.1) has a matching body
           expected a body of '[31mapplication/json[0m' but the actual content type was '[32mtext/html;charset=utf-8[0m'
    1.2) has status code 200
           expected [31m200[0m but was [32m404[0m
    1.3) includes header 'Content-Type' with value 'application/json'
           Expected header '[1mContent-Type[0m' to have value '[31mapplication/json[0m' but was '[32mtext/html; charset=utf-8[0m'

There were 1 pact failures

E..FFF.......................................F...F.F..................F..........................F.........Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/management/commands/export_to_dbf.py", line 131, in handle
    data, field_definitions = self.get_model_data(options)
                              ~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/management/commands/export_to_dbf.py", line 149, in get_model_data
    model = apps.get_model(app_label, model_name)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1175, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1179, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1234, in _execute_mock_call
    raise effect
Exception: DB error
.......................An error occurred in add_student: Database threaded connections to 'default' are not allowed in SimpleTestCase subclasses. Either subclass TestCase or TransactionTestCase to ensure proper test isolation or add 'default' to students.tests.test_coverage.TestAddStudentUtil.databases to silence this failure.
An error occurred in add_student: Database threaded connections to 'default' are not allowed in SimpleTestCase subclasses. Either subclass TestCase or TransactionTestCase to ensure proper test isolation or add 'default' to students.tests.test_coverage.TestAddStudentUtil.databases to silence this failure.
An error occurred in add_student: Database threaded connections to 'default' are not allowed in SimpleTestCase subclasses. Either subclass TestCase or TransactionTestCase to ensure proper test isolation or add 'default' to students.tests.test_coverage.TestAddStudentUtil.databases to silence this failure.
An error occurred in add_student: Database threaded connections to 'default' are not allowed in SimpleTestCase subclasses. Either subclass TestCase or TransactionTestCase to ensure proper test isolation or add 'default' to students.tests.test_coverage.TestAddStudentUtil.databases to silence this failure.
An error occurred in add_student: Database threaded connections to 'default' are not allowed in SimpleTestCase subclasses. Either subclass TestCase or TransactionTestCase to ensure proper test isolation or add 'default' to students.tests.test_coverage.TestAddStudentUtil.databases to silence this failure.
WARNING Failed to get country from IP 203.0.113.1: network error
....WARNING IP geolocation failed for 203.0.113.1: reserved range
.DEBUG Localhost IP detected: , defaulting to UK
DEBUG Localhost IP detected: None, defaulting to UK
.DEBUG Localhost IP detected: 127.0.0.1, defaulting to UK
.DEBUG Localhost IP detected: ::1, defaulting to UK
.DEBUG Localhost IP detected: localhost, defaulting to UK
..WARNING IP geolocation request failed for 203.0.113.1: conn error
..WARNING IP geolocation timeout for 203.0.113.1
.ERROR Unexpected error in IP geolocation for 203.0.113.1: unexpected
.......FWARNING Converting non-serializable context item 'model': <class 'unittest.mock.MagicMock'>
EWARNING Converting non-serializable context item 'value': <class 'set'>
.WARNING Converting non-serializable context item 'items': <class 'list'>
.FWARNING Converting non-serializable context item 'obj': <class 'utils.tests.test_queue_service.TestCleanContextForSerialization.test_clean_object_with_dict.<locals>.SimpleObj'>
.........ERROR Failed to process queue item test-123: boom
.ERROR Queue item <MagicMock name='mock.queue_id' id='4641490992'> failed after max attempts
..WARNING Some emails failed, scheduled retry for <MagicMock name='mock.queue_id' id='4613434272'>
..WARNING Some emails failed, scheduled retry for <MagicMock name='mock.queue_id' id='4641497376'>
.WARNING No template configuration found for missing_template, using defaults
ERROR Failed to queue email: Database threaded connections to 'default' are not allowed in SimpleTestCase subclasses. Either subclass TestCase or TransactionTestCase to ensure proper test isolation or add 'default' to utils.tests.test_queue_service.TestQueueEmail.databases to silence this failure.
EERROR Failed to queue email: Database threaded connections to 'default' are not allowed in SimpleTestCase subclasses. Either subclass TestCase or TransactionTestCase to ensure proper test isolation or add 'default' to utils.tests.test_queue_service.TestQueueEmail.databases to silence this failure.
EWARNING No template configuration found for test, using defaults
ERROR Failed to queue email: Database threaded connections to 'default' are not allowed in SimpleTestCase subclasses. Either subclass TestCase or TransactionTestCase to ensure proper test isolation or add 'default' to utils.tests.test_queue_service.TestQueueEmail.databases to silence this failure.
EERROR Exception sending email to test@example.com: SMTP error
.ERROR Failed to send email to test@example.com: Send failed
.ERROR Failed to send email to test@example.com: DB error
.......WARNING Failed to evaluate attachment condition for test.pdf: 'NoneType' object has no attribute 'get'
...........
======================================================================
ERROR: email_system.tests.test_admin (unittest.loader._FailedTest.email_system.tests.test_admin)
----------------------------------------------------------------------
ImportError: Failed to import test module: email_system.tests.test_admin
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/loader.py", line 426, in _find_test_path
    module = self._get_module_from_name(name)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/loader.py", line 367, in _get_module_from_name
    __import__(name)
    ~~~~~~~~~~^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/email_system/tests/test_admin.py", line 13, in <module>
    from email_system.admin import (
    ...<4 lines>...
    )
ImportError: cannot import name 'EmailTemplateAdmin' from 'email_system.admin' (/Users/work/Documents/Code/Admin3/backend/django_Admin3/email_system/admin/__init__.py)


======================================================================
ERROR: test_add_item_creates_cart_item (cart.tests.test_cart_service.CartServiceTest.test_add_item_creates_cart_item)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_add_item_product_not_found (cart.tests.test_cart_service.CartServiceTest.test_add_item_product_not_found)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_clear (cart.tests.test_cart_service.CartServiceTest.test_clear)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_or_create_authenticated (cart.tests.test_cart_service.CartServiceTest.test_get_or_create_authenticated)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_merge_guest_cart (cart.tests.test_cart_service.CartServiceTest.test_merge_guest_cart)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_merge_guest_cart_no_guest (cart.tests.test_cart_service.CartServiceTest.test_merge_guest_cart_no_guest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_remove_item (cart.tests.test_cart_service.CartServiceTest.test_remove_item)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_update_cart_flags (cart.tests.test_cart_service.CartServiceTest.test_update_cart_flags)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_update_cart_flags_empty_cart (cart.tests.test_cart_service.CartServiceTest.test_update_cart_flags_empty_cart)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_update_item (cart.tests.test_cart_service.CartServiceTest.test_update_item)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_update_item_not_found (cart.tests.test_cart_service.CartServiceTest.test_update_item_not_found)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_calculate_vat_calls_rule_engine_with_correct_context (cart.tests.test_cart_service_vat.CartServiceVATTest.test_calculate_vat_calls_rule_engine_with_correct_context)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_calculate_vat_multiple_items (cart.tests.test_cart_service_vat.CartServiceVATTest.test_calculate_vat_multiple_items)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_calculate_vat_row_customer (cart.tests.test_cart_service_vat.CartServiceVATTest.test_calculate_vat_row_customer)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_calculate_vat_stores_result_on_cart (cart.tests.test_cart_service_vat.CartServiceVATTest.test_calculate_vat_stores_result_on_cart)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_calculate_vat_uk_customer (cart.tests.test_cart_service_vat.CartServiceVATTest.test_calculate_vat_uk_customer)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_calculate_vat_updates_cart_item_fields (cart.tests.test_cart_service_vat.CartServiceVATTest.test_calculate_vat_updates_cart_item_fields)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_item_product_code_no_product (cart.tests.test_cart_service_vat.CartServiceVATTest.test_get_item_product_code_no_product)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_item_product_type_default (cart.tests.test_cart_service_vat.CartServiceVATTest.test_get_item_product_type_default)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_item_product_type_fee (cart.tests.test_cart_service_vat.CartServiceVATTest.test_get_item_product_type_fee)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_item_product_type_from_metadata (cart.tests.test_cart_service_vat.CartServiceVATTest.test_get_item_product_type_from_metadata)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_resolve_user_context_anonymous (cart.tests.test_cart_service_vat.CartServiceVATTest.test_resolve_user_context_anonymous)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_resolve_user_context_authenticated (cart.tests.test_cart_service_vat.CartServiceVATTest.test_resolve_user_context_authenticated)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_trigger_vat_calculation_error_handling (cart.tests.test_cart_service_vat.CartServiceVATTest.test_trigger_vat_calculation_error_handling)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_cart_service_vat.py", line 26, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_combined_filters (catalog.tests.test_coverage_gaps.TestAdvancedSearchFilters.test_combined_filters)
Multiple filters can be combined.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 489, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_filter_by_groups (catalog.tests.test_coverage_gaps.TestAdvancedSearchFilters.test_filter_by_groups)
Filter by group IDs should narrow results.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 489, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_filter_by_invalid_groups (catalog.tests.test_coverage_gaps.TestAdvancedSearchFilters.test_filter_by_invalid_groups)
Invalid group IDs should be silently ignored.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 489, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_filter_by_invalid_product_ids (catalog.tests.test_coverage_gaps.TestAdvancedSearchFilters.test_filter_by_invalid_product_ids)
Invalid product IDs should be silently ignored.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 489, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_filter_by_invalid_variations (catalog.tests.test_coverage_gaps.TestAdvancedSearchFilters.test_filter_by_invalid_variations)
Invalid variation IDs should be silently ignored.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 489, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_filter_by_product_ids (catalog.tests.test_coverage_gaps.TestAdvancedSearchFilters.test_filter_by_product_ids)
Filter by specific product IDs.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 489, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_filter_by_variations (catalog.tests.test_coverage_gaps.TestAdvancedSearchFilters.test_filter_by_variations)
Filter by variation IDs should narrow results.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 489, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_pagination_has_next (catalog.tests.test_coverage_gaps.TestAdvancedSearchFilters.test_pagination_has_next)
has_next should be true when more results exist.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 489, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_pagination_has_previous (catalog.tests.test_coverage_gaps.TestAdvancedSearchFilters.test_pagination_has_previous)
has_previous should be true for page > 1.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 489, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_assert_list_response_length_non_paginated (catalog.tests.test_coverage_gaps.TestBaseHelperMethods.test_assert_list_response_length_non_paginated)
assertListResponseLength works with non-paginated list.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_assert_list_response_length_paginated (catalog.tests.test_coverage_gaps.TestBaseHelperMethods.test_assert_list_response_length_paginated)
assertListResponseLength works with paginated dict response.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_assert_response_contains_fields_detail (catalog.tests.test_coverage_gaps.TestBaseHelperMethods.test_assert_response_contains_fields_detail)
assertResponseContainsFields works with detail responses.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_assert_response_contains_fields_empty_list (catalog.tests.test_coverage_gaps.TestBaseHelperMethods.test_assert_response_contains_fields_empty_list)
assertResponseContainsFields with empty list response.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_assert_response_contains_fields_list (catalog.tests.test_coverage_gaps.TestBaseHelperMethods.test_assert_response_contains_fields_list)
assertResponseContainsFields works with list responses.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_api_url_with_pk (catalog.tests.test_coverage_gaps.TestBaseHelperMethods.test_get_api_url_with_pk)
get_api_url with pk returns detail URL.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_api_url_without_pk (catalog.tests.test_coverage_gaps.TestBaseHelperMethods.test_get_api_url_without_pk)
get_api_url without pk returns list URL.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_unauthenticate_clears_credentials (catalog.tests.test_coverage_gaps.TestBaseHelperMethods.test_unauthenticate_clears_credentials)
unauthenticate() removes auth from client.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bundle_contents_component_data_structure (catalog.tests.test_coverage_gaps.TestBundleContentsEdgeCases.test_bundle_contents_component_data_structure)
Bundle contents should have proper component structure.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bundle_contents_generic_exception (catalog.tests.test_coverage_gaps.TestBundleContentsEdgeCases.test_bundle_contents_generic_exception)
Generic exception returns 500.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bundle_contents_missing_bundle_id (catalog.tests.test_coverage_gaps.TestBundleContentsEdgeCases.test_bundle_contents_missing_bundle_id)
Request without bundle_id returns 400.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bundle_contents_nonexistent_bundle (catalog.tests.test_coverage_gaps.TestBundleContentsEdgeCases.test_bundle_contents_nonexistent_bundle)
Request with non-existent bundle_id returns 404.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_filter_by_both (catalog.tests.test_coverage_gaps.TestBundleViewSetFilters.test_filter_by_both)
Filter bundles by both exam_session and subject_code.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 887, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_filter_by_exam_session (catalog.tests.test_coverage_gaps.TestBundleViewSetFilters.test_filter_by_exam_session)
Filter bundles by exam_session query param.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 887, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_filter_by_subject_code (catalog.tests.test_coverage_gaps.TestBundleViewSetFilters.test_filter_by_subject_code)
Filter bundles by subject_code query param.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 887, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_filter_nonexistent_returns_empty (catalog.tests.test_coverage_gaps.TestBundleViewSetFilters.test_filter_nonexistent_returns_empty)
Filtering by non-existent values returns empty list.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 887, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_retrieve_single_bundle (catalog.tests.test_coverage_gaps.TestBundleViewSetFilters.test_retrieve_single_bundle)
Retrieve a single bundle by ID.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 887, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_search_total_matches_structure (catalog.tests.test_coverage_gaps.TestFuzzySearchEdgeCases.test_search_total_matches_structure)
Search response should include total_matches breakdown.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_search_with_custom_limit (catalog.tests.test_coverage_gaps.TestFuzzySearchEdgeCases.test_search_with_custom_limit)
Search with custom limit parameter.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_search_with_custom_min_score (catalog.tests.test_coverage_gaps.TestFuzzySearchEdgeCases.test_search_with_custom_min_score)
Search with custom min_score parameter.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_search_with_total_count (catalog.tests.test_coverage_gaps.TestFuzzySearchEdgeCases.test_search_with_total_count)
Search response should include total_count.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_exception_returns_500_with_structure (catalog.tests.test_coverage_gaps.TestFuzzySearchError.test_exception_returns_500_with_structure)
Exception should return 500 with expected error structure.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_bundles_exam_session_type (catalog.tests.test_coverage_gaps.TestGetBundlesEdgeCases.test_get_bundles_exam_session_type)
Filter bundles by type=exam_session.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_bundles_exception_returns_500 (catalog.tests.test_coverage_gaps.TestGetBundlesEdgeCases.test_get_bundles_exception_returns_500)
Exception returns 500.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_bundles_featured_only (catalog.tests.test_coverage_gaps.TestGetBundlesEdgeCases.test_get_bundles_featured_only)
Filter bundles to featured only.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_bundles_master_type (catalog.tests.test_coverage_gaps.TestGetBundlesEdgeCases.test_get_bundles_master_type)
Filter bundles by type=master.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_bundles_with_exam_session_filter (catalog.tests.test_coverage_gaps.TestGetBundlesEdgeCases.test_get_bundles_with_exam_session_filter)
Filter exam session bundles by exam_session code.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_bundles_all_includes_store_bundles (catalog.tests.test_coverage_gaps.TestGetBundlesWithStoreBundles.test_get_bundles_all_includes_store_bundles)
type=all should include both master and exam session bundles.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 834, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_bundles_filter_exam_session_by_subject (catalog.tests.test_coverage_gaps.TestGetBundlesWithStoreBundles.test_get_bundles_filter_exam_session_by_subject)
Filter exam session bundles by subject code.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 834, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_bundles_filter_store_featured (catalog.tests.test_coverage_gaps.TestGetBundlesWithStoreBundles.test_get_bundles_filter_store_featured)
Filter store bundles by featured flag.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 834, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_exam_session_str (catalog.tests.test_coverage_gaps.TestModelStrMethods.test_exam_session_str)
ExamSession __str__ returns 'session_code (start - end)'.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 60, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_exam_session_subject_product_str (catalog.tests.test_coverage_gaps.TestModelStrMethods.test_exam_session_subject_product_str)
ExamSessionSubjectProduct __str__ returns 'ess - product.code'.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 60, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_exam_session_subject_str (catalog.tests.test_coverage_gaps.TestModelStrMethods.test_exam_session_subject_str)
ExamSessionSubject __str__ returns 'session_code - subject_code'.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 60, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_product_bundle_product_product_property (catalog.tests.test_coverage_gaps.TestModelStrMethods.test_product_bundle_product_product_property)
ProductBundleProduct.product property returns the catalog Product.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 60, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_product_bundle_product_product_variation_property (catalog.tests.test_coverage_gaps.TestModelStrMethods.test_product_bundle_product_product_variation_property)
ProductBundleProduct.product_variation property returns the ProductVariation.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 60, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_product_bundle_product_str (catalog.tests.test_coverage_gaps.TestModelStrMethods.test_product_bundle_product_str)
ProductBundleProduct __str__ returns 'bundle_name -> product (variation)'.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 60, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_product_bundle_str (catalog.tests.test_coverage_gaps.TestModelStrMethods.test_product_bundle_str)
ProductBundle __str__ returns 'subject.code - bundle_name'.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 60, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_product_product_variation_str (catalog.tests.test_coverage_gaps.TestModelStrMethods.test_product_product_variation_str)
ProductProductVariation __str__ returns 'product - variation'.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 60, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_product_str (catalog.tests.test_coverage_gaps.TestModelStrMethods.test_product_str)
Product __str__ returns shortname.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 60, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_product_variation_str (catalog.tests.test_coverage_gaps.TestModelStrMethods.test_product_variation_str)
ProductVariation __str__ returns 'variation_type: name'.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 60, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_subject_str (catalog.tests.test_coverage_gaps.TestModelStrMethods.test_subject_str)
Subject __str__ returns 'code: description'.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 60, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_cache_hit_returns_cached_data (catalog.tests.test_coverage_gaps.TestNavigationDataCacheHit.test_cache_hit_returns_cached_data)
When cache has data, return it directly without querying DB.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 207, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_exception_returns_500 (catalog.tests.test_coverage_gaps.TestNavigationDataError.test_exception_returns_500)
Exception during data fetch should return 500.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 407, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_missing_dl_groups_returns_empty_products (catalog.tests.test_coverage_gaps.TestNavigationDataMissingGroups.test_missing_dl_groups_returns_empty_products)
When distance learning groups don't exist, return empty products.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 235, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_missing_navbar_groups_returns_empty_products (catalog.tests.test_coverage_gaps.TestNavigationDataMissingGroups.test_missing_navbar_groups_returns_empty_products)
When a navbar group doesn't exist, return empty products list.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 235, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_missing_online_classroom_group_returns_empty (catalog.tests.test_coverage_gaps.TestNavigationDataMissingGroups.test_missing_online_classroom_group_returns_empty)
When Online Classroom group is missing, return empty list.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 235, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_missing_tutorial_group_returns_defaults (catalog.tests.test_coverage_gaps.TestNavigationDataMissingGroups.test_missing_tutorial_group_returns_defaults)
When Tutorial group is missing, return default format data.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 235, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_dl_groups_with_data (catalog.tests.test_coverage_gaps.TestNavigationDataWithFilterGroups.test_dl_groups_with_data)
Distance learning groups should have products.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 287, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_navbar_groups_with_data (catalog.tests.test_coverage_gaps.TestNavigationDataWithFilterGroups.test_navbar_groups_with_data)
Navigation data should return groups with products.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 287, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_tutorial_dropdown_with_groups (catalog.tests.test_coverage_gaps.TestNavigationDataWithFilterGroups.test_tutorial_dropdown_with_groups)
Tutorial dropdown should have location, format, and OCR data.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 287, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_import_all_invalid (catalog.tests.test_coverage_gaps.TestProductBulkImportEdgeCases.test_bulk_import_all_invalid)
Bulk import where all products are invalid returns 400.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_import_empty_products (catalog.tests.test_coverage_gaps.TestProductBulkImportEdgeCases.test_bulk_import_empty_products)
Bulk import with empty products list returns 400.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_import_exception_handling (catalog.tests.test_coverage_gaps.TestProductBulkImportEdgeCases.test_bulk_import_exception_handling)
Bulk import with bad data returns 400.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_import_with_valid_and_invalid (catalog.tests.test_coverage_gaps.TestProductBulkImportEdgeCases.test_bulk_import_with_valid_and_invalid)
Bulk import with mix of valid and invalid products.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bundle_contents_excludes_inactive_components (catalog.tests.test_coverage_gaps.TestProductBundleInactiveComponents.test_bundle_contents_excludes_inactive_components)
get_bundle_contents should only return active components.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 1069, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_components_count_excludes_inactive (catalog.tests.test_coverage_gaps.TestProductBundleInactiveComponents.test_components_count_excludes_inactive)
components_count should only count active components.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 1069, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_product_save_works (catalog.tests.test_coverage_gaps.TestProductSaveMethod.test_product_save_works)
Product.save() should work normally (calls super().save()).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 1108, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_product_type_markings (catalog.tests.test_coverage_gaps.TestProductSerializerTypeField.test_product_type_markings)
Product in Marking group should have type='Markings'.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 1025, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_product_type_tutorial (catalog.tests.test_coverage_gaps.TestProductSerializerTypeField.test_product_type_tutorial)
Product in Tutorial group should have type='Tutorial'.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 1025, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_recommendation_circular_raises_error (catalog.tests.test_coverage_gaps.TestProductVariationRecommendation.test_recommendation_circular_raises_error)
Cannot create circular recommendation A->B when B->A exists.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 149, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_recommendation_save_calls_clean (catalog.tests.test_coverage_gaps.TestProductVariationRecommendation.test_recommendation_save_calls_clean)
save() calls clean() for validation.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 149, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_recommendation_self_reference_raises_error (catalog.tests.test_coverage_gaps.TestProductVariationRecommendation.test_recommendation_self_reference_raises_error)
Cannot create recommendation pointing to itself.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 149, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_recommendation_str (catalog.tests.test_coverage_gaps.TestProductVariationRecommendation.test_recommendation_str)
Recommendation __str__ returns 'source -> target' with shortnames.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 149, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_filter_by_group (catalog.tests.test_coverage_gaps.TestProductViewSetFilters.test_filter_by_group)
Filter products by group ID.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 595, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_filter_by_tutorial_format (catalog.tests.test_coverage_gaps.TestProductViewSetFilters.test_filter_by_tutorial_format)
Filter products by tutorial_format.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 595, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_filter_by_variation (catalog.tests.test_coverage_gaps.TestProductViewSetFilters.test_filter_by_variation)
Filter products by variation type.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 595, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_filter_distance_learning_false (catalog.tests.test_coverage_gaps.TestProductViewSetFilters.test_filter_distance_learning_false)
Filter distance learning products = false.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 595, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_filter_distance_learning_true (catalog.tests.test_coverage_gaps.TestProductViewSetFilters.test_filter_distance_learning_true)
Filter distance learning products = true.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_coverage_gaps.py", line 595, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bundle_contents_allows_anonymous (catalog.tests.test_coverage_gaps.TestProductViewSetPermissions.test_bundle_contents_allows_anonymous)
bundle-contents custom action should use AllowAny.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bundles_allows_anonymous (catalog.tests.test_coverage_gaps.TestProductViewSetPermissions.test_bundles_allows_anonymous)
bundles custom action should use AllowAny.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_create_requires_superuser (catalog.tests.test_coverage_gaps.TestProductViewSetPermissions.test_create_requires_superuser)
Create action should use IsSuperUser permission.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_delete_requires_superuser (catalog.tests.test_coverage_gaps.TestProductViewSetPermissions.test_delete_requires_superuser)
Delete action should use IsSuperUser permission.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_retrieve_allows_anonymous (catalog.tests.test_coverage_gaps.TestProductViewSetPermissions.test_retrieve_allows_anonymous)
Retrieve action should use AllowAny permission.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_update_requires_superuser (catalog.tests.test_coverage_gaps.TestProductViewSetPermissions.test_update_requires_superuser)
Update action should use IsSuperUser permission.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_advanced_search_allows_anonymous (catalog.tests.test_permissions.TestCatalogPermissionIntegration.test_advanced_search_allows_anonymous)
GET /api/catalog/advanced-search/ should allow anonymous access.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bundle_list_allows_anonymous (catalog.tests.test_permissions.TestCatalogPermissionIntegration.test_bundle_list_allows_anonymous)
GET /api/catalog/bundles/ should allow anonymous access.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_exam_session_create_allows_superuser (catalog.tests.test_permissions.TestCatalogPermissionIntegration.test_exam_session_create_allows_superuser)
POST /api/catalog/exam-sessions/ should allow superuser.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_exam_session_create_denies_regular_user (catalog.tests.test_permissions.TestCatalogPermissionIntegration.test_exam_session_create_denies_regular_user)
POST /api/catalog/exam-sessions/ should deny regular user.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_exam_session_list_allows_anonymous (catalog.tests.test_permissions.TestCatalogPermissionIntegration.test_exam_session_list_allows_anonymous)
GET /api/catalog/exam-sessions/ should allow anonymous access.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_navigation_data_allows_anonymous (catalog.tests.test_permissions.TestCatalogPermissionIntegration.test_navigation_data_allows_anonymous)
GET /api/catalog/navigation-data/ should allow anonymous access.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_product_create_allows_superuser (catalog.tests.test_permissions.TestCatalogPermissionIntegration.test_product_create_allows_superuser)
POST /api/catalog/products/ should allow superuser.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_product_create_denies_regular_user (catalog.tests.test_permissions.TestCatalogPermissionIntegration.test_product_create_denies_regular_user)
POST /api/catalog/products/ should deny regular user.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_product_list_allows_anonymous (catalog.tests.test_permissions.TestCatalogPermissionIntegration.test_product_list_allows_anonymous)
GET /api/catalog/products/ should allow anonymous access.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_search_allows_anonymous (catalog.tests.test_permissions.TestCatalogPermissionIntegration.test_search_allows_anonymous)
GET /api/catalog/search/ should allow anonymous access.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_subject_create_allows_superuser (catalog.tests.test_permissions.TestCatalogPermissionIntegration.test_subject_create_allows_superuser)
POST /api/catalog/subjects/ should allow superuser.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_subject_create_denies_anonymous (catalog.tests.test_permissions.TestCatalogPermissionIntegration.test_subject_create_denies_anonymous)
POST /api/catalog/subjects/ should deny anonymous.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_subject_create_denies_regular_user (catalog.tests.test_permissions.TestCatalogPermissionIntegration.test_subject_create_denies_regular_user)
POST /api/catalog/subjects/ should deny regular user.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_subject_delete_denies_regular_user (catalog.tests.test_permissions.TestCatalogPermissionIntegration.test_subject_delete_denies_regular_user)
DELETE /api/catalog/subjects/{id}/ should deny regular user.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_subject_list_allows_anonymous (catalog.tests.test_permissions.TestCatalogPermissionIntegration.test_subject_list_allows_anonymous)
GET /api/catalog/subjects/ should allow anonymous access.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_subject_retrieve_allows_anonymous (catalog.tests.test_permissions.TestCatalogPermissionIntegration.test_subject_retrieve_allows_anonymous)
GET /api/catalog/subjects/{id}/ should allow anonymous access.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_subject_update_denies_regular_user (catalog.tests.test_permissions.TestCatalogPermissionIntegration.test_subject_update_denies_regular_user)
PUT /api/catalog/subjects/{id}/ should deny regular user.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_read_only_timestamps (catalog.tests.test_serializers.TestExamSessionSerializer.test_read_only_timestamps)
Verify create_date and modified_date are read-only.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 78, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_serialized_output_format (catalog.tests.test_serializers.TestExamSessionSerializer.test_serialized_output_format)
Verify serialized output matches expected format.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 78, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_serializer_fields (catalog.tests.test_serializers.TestExamSessionSerializer.test_serializer_fields)
Verify ExamSessionSerializer has required fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 78, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_nested_product_structure (catalog.tests.test_serializers.TestProductBundleProductSerializer.test_nested_product_structure)
Verify nested product contains expected fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 216, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_nested_product_variation_structure (catalog.tests.test_serializers.TestProductBundleProductSerializer.test_nested_product_variation_structure)
Verify nested product_variation contains expected fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 216, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_serializer_fields (catalog.tests.test_serializers.TestProductBundleProductSerializer.test_serializer_fields)
Verify ProductBundleProductSerializer has required fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 216, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_components_count_computed (catalog.tests.test_serializers.TestProductBundleSerializer.test_components_count_computed)
Verify components_count returns count of active components.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 263, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_components_nested_serialization (catalog.tests.test_serializers.TestProductBundleSerializer.test_components_nested_serialization)
Verify components are nested ProductBundleProductSerializer instances.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 263, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_read_only_timestamps (catalog.tests.test_serializers.TestProductBundleSerializer.test_read_only_timestamps)
Verify created_at and updated_at are read-only.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 263, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_serializer_fields (catalog.tests.test_serializers.TestProductBundleSerializer.test_serializer_fields)
Verify ProductBundleSerializer has all required fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 263, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_subject_code_from_related (catalog.tests.test_serializers.TestProductBundleSerializer.test_subject_code_from_related)
Verify subject_code is sourced from subject.code.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 263, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_subject_name_from_related (catalog.tests.test_serializers.TestProductBundleSerializer.test_subject_name_from_related)
Verify subject_name is sourced from subject (description as name).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 263, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_computed_type_field_default (catalog.tests.test_serializers.TestProductSerializer.test_computed_type_field_default)
Verify type defaults to 'Material' when product has no groups.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 147, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_product_name_aliases_shortname (catalog.tests.test_serializers.TestProductSerializer.test_product_name_aliases_shortname)
Verify product_name is an alias for shortname.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 147, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_read_only_timestamps (catalog.tests.test_serializers.TestProductSerializer.test_read_only_timestamps)
Verify created_at and updated_at are read-only.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 147, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_serializer_fields (catalog.tests.test_serializers.TestProductSerializer.test_serializer_fields)
Verify ProductSerializer has all required fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 147, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_variations_nested_output (catalog.tests.test_serializers.TestProductSerializer.test_variations_nested_output)
Verify variations are properly nested with expected structure.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 147, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_serialized_output_format (catalog.tests.test_serializers.TestProductVariationSerializer.test_serialized_output_format)
Verify serialized output matches expected format.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 118, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_serializer_fields (catalog.tests.test_serializers.TestProductVariationSerializer.test_serializer_fields)
Verify ProductVariationSerializer has required fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 118, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_name_aliases_description (catalog.tests.test_serializers.TestSubjectSerializer.test_name_aliases_description)
Verify name field is an alias for description (frontend compatibility).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 21, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_serialize_multiple_subjects (catalog.tests.test_serializers.TestSubjectSerializer.test_serialize_multiple_subjects)
Verify serializer works with multiple subjects (many=True).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 21, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_serialized_output_format (catalog.tests.test_serializers.TestSubjectSerializer.test_serialized_output_format)
Verify serialized output matches expected format.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 21, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_serializer_fields (catalog.tests.test_serializers.TestSubjectSerializer.test_serializer_fields)
Verify SubjectSerializer has required fields: id, code, description, name.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_serializers.py", line 21, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_advanced_search_allows_anonymous (catalog.tests.test_views.TestAdvancedProductSearchView.test_advanced_search_allows_anonymous)
advanced-search should allow anonymous access.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_advanced_search_filter_by_subjects (catalog.tests.test_views.TestAdvancedProductSearchView.test_advanced_search_filter_by_subjects)
Advanced search should filter by subject codes.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_advanced_search_pagination (catalog.tests.test_views.TestAdvancedProductSearchView.test_advanced_search_pagination)
Advanced search should support pagination parameters.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_advanced_search_returns_paginated_results (catalog.tests.test_views.TestAdvancedProductSearchView.test_advanced_search_returns_paginated_results)
Advanced search should return paginated results.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_advanced_search_text_query (catalog.tests.test_views.TestAdvancedProductSearchView.test_advanced_search_text_query)
Advanced search should filter by text query.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bundle_viewset_is_readonly (catalog.tests.test_views.TestBundleViewSet.test_bundle_viewset_is_readonly)
BundleViewSet should not allow create/update/delete.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_bundles (catalog.tests.test_views.TestBundleViewSet.test_list_bundles)
List endpoint should return exam session bundles.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_bundles_allows_anonymous (catalog.tests.test_views.TestBundleViewSet.test_list_bundles_allows_anonymous)
List endpoint should allow anonymous access.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_create_exam_session_requires_superuser (catalog.tests.test_views.TestExamSessionViewSet.test_create_exam_session_requires_superuser)
Create endpoint should require superuser permission.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_create_exam_session_with_superuser (catalog.tests.test_views.TestExamSessionViewSet.test_create_exam_session_with_superuser)
Superuser should be able to create exam sessions.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_exam_sessions (catalog.tests.test_views.TestExamSessionViewSet.test_list_exam_sessions)
List endpoint should return all exam sessions.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_exam_sessions_allows_anonymous (catalog.tests.test_views.TestExamSessionViewSet.test_list_exam_sessions_allows_anonymous)
List endpoint should allow anonymous access.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_exam_sessions_contains_required_fields (catalog.tests.test_views.TestExamSessionViewSet.test_list_exam_sessions_contains_required_fields)
List response should contain expected fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_retrieve_exam_session (catalog.tests.test_views.TestExamSessionViewSet.test_retrieve_exam_session)
Retrieve endpoint should return a single exam session.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_fuzzy_search_allows_anonymous (catalog.tests.test_views.TestFuzzySearchView.test_fuzzy_search_allows_anonymous)
search should allow anonymous access.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_fuzzy_search_empty_query (catalog.tests.test_views.TestFuzzySearchView.test_fuzzy_search_empty_query)
Empty query should return empty suggestions.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_fuzzy_search_finds_products (catalog.tests.test_views.TestFuzzySearchView.test_fuzzy_search_finds_products)
Search should find matching products.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_fuzzy_search_finds_subjects (catalog.tests.test_views.TestFuzzySearchView.test_fuzzy_search_finds_subjects)
Search should find matching subjects.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_fuzzy_search_returns_structure (catalog.tests.test_views.TestFuzzySearchView.test_fuzzy_search_returns_structure)
Search should return expected response structure.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_navigation_data_allows_anonymous (catalog.tests.test_views.TestNavigationDataView.test_navigation_data_allows_anonymous)
navigation-data should allow anonymous access.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_views.py", line 477, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_navigation_data_cached (catalog.tests.test_views.TestNavigationDataView.test_navigation_data_cached)
navigation-data should use caching with key 'navigation_data_v2'.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_views.py", line 477, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_navigation_data_returns_combined_data (catalog.tests.test_views.TestNavigationDataView.test_navigation_data_returns_combined_data)
navigation-data should return subjects, navbar, distance_learning, tutorial data.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_views.py", line 477, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_navigation_data_subjects_active_only (catalog.tests.test_views.TestNavigationDataView.test_navigation_data_subjects_active_only)
navigation-data should return only active subjects.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_views.py", line 477, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_import_products_as_superuser (catalog.tests.test_views.TestProductViewSet.test_bulk_import_products_as_superuser)
POST /api/catalog/products/bulk-import/ as superuser creates products.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_import_products_requires_superuser (catalog.tests.test_views.TestProductViewSet.test_bulk_import_products_requires_superuser)
GET /api/catalog/products/bulk-import/ without superuser returns 403 or 405.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_create_product_requires_superuser (catalog.tests.test_views.TestProductViewSet.test_create_product_requires_superuser)
Create endpoint should require superuser permission.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_bundle_contents_action (catalog.tests.test_views.TestProductViewSet.test_get_bundle_contents_action)
bundle-contents action should return bundle components (T029).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_bundle_contents_literal_url (catalog.tests.test_views.TestProductViewSet.test_get_bundle_contents_literal_url)
GET /api/catalog/products/bundle-contents/ returns bundle components.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_bundles_action (catalog.tests.test_views.TestProductViewSet.test_get_bundles_action)
bundles action should return available bundles (T029).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_bundles_filter_by_subject (catalog.tests.test_views.TestProductViewSet.test_get_bundles_filter_by_subject)
bundles action should filter by subject code.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_products (catalog.tests.test_views.TestProductViewSet.test_list_products)
List endpoint should return active products.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_products_allows_anonymous (catalog.tests.test_views.TestProductViewSet.test_list_products_allows_anonymous)
List endpoint should allow anonymous access.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_products_contains_required_fields (catalog.tests.test_views.TestProductViewSet.test_list_products_contains_required_fields)
List response should contain expected fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_products_includes_type_field (catalog.tests.test_views.TestProductViewSet.test_list_products_includes_type_field)
Products should have computed 'type' field.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_products_includes_variations (catalog.tests.test_views.TestProductViewSet.test_list_products_includes_variations)
Products should include nested variations.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_retrieve_product (catalog.tests.test_views.TestProductViewSet.test_retrieve_product)
Retrieve endpoint should return a single product.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_import_returns_errors_for_invalid_data (catalog.tests.test_views.TestSubjectViewSet.test_bulk_import_returns_errors_for_invalid_data)
bulk-import should return errors for invalid subjects.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_views.py", line 44, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_import_subjects_action (catalog.tests.test_views.TestSubjectViewSet.test_bulk_import_subjects_action)
bulk-import action should create multiple subjects (T026).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_views.py", line 44, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_create_subject_requires_superuser (catalog.tests.test_views.TestSubjectViewSet.test_create_subject_requires_superuser)
Create endpoint should require superuser permission (T026).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_views.py", line 44, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_create_subject_with_superuser (catalog.tests.test_views.TestSubjectViewSet.test_create_subject_with_superuser)
Superuser should be able to create subjects (T026).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_views.py", line 44, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_delete_subject_requires_superuser (catalog.tests.test_views.TestSubjectViewSet.test_delete_subject_requires_superuser)
Delete endpoint should require superuser permission.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_views.py", line 44, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_subjects_allows_anonymous (catalog.tests.test_views.TestSubjectViewSet.test_list_subjects_allows_anonymous)
List endpoint should allow anonymous access (AllowAny).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_views.py", line 44, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_subjects_cached (catalog.tests.test_views.TestSubjectViewSet.test_list_subjects_cached)
List endpoint should use caching with key 'subjects_list_v1' (T025).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_views.py", line 44, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_subjects_contains_required_fields (catalog.tests.test_views.TestSubjectViewSet.test_list_subjects_contains_required_fields)
List response should contain id, code, description, name fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_views.py", line 44, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_subjects_name_equals_description (catalog.tests.test_views.TestSubjectViewSet.test_list_subjects_name_equals_description)
The 'name' field should be an alias for 'description'.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_views.py", line 44, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_subjects_returns_active_only (catalog.tests.test_views.TestSubjectViewSet.test_list_subjects_returns_active_only)
List endpoint should return only active subjects (T025).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_views.py", line 44, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_retrieve_subject (catalog.tests.test_views.TestSubjectViewSet.test_retrieve_subject)
Retrieve endpoint should return a single subject.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_views.py", line 44, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_update_subject_requires_superuser (catalog.tests.test_views.TestSubjectViewSet.test_update_subject_requires_superuser)
Update endpoint should require superuser permission.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/test_views.py", line 44, in setUp
    super().setUp()
    ~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/base.py", line 51, in setUp
    self.setup_catalog_test_data()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 205, in setup_catalog_test_data
    self.subject_cm2 = create_subject(
                       ~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Mathematics'
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/catalog/tests/fixtures.py", line 36, in create_subject
    return Subject.objects.create(
           ~~~~~~~~~~~~~~~~~~~~~~^
        code=code,
        ^^^^^^^^^^
    ...<2 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_logout_successful_blacklist (core_auth.tests.test_auth_views.CoverageGapTestCase.test_logout_successful_blacklist)
Logout returns success when token blacklisting works (line 212).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1429, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1411, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1503, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1473, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <class 'rest_framework_simplejwt.tokens.RefreshToken'> does not have the attribute 'blacklist'

======================================================================
ERROR: test_add_placeholder_exception (email_system.tests.test_email_service.AddPlaceholderToTemplateTest.test_add_placeholder_exception)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1429, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1411, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1487, in __enter__
    self.target = self.getter()
                  ~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pkgutil.py", line 473, in resolve_name
    result = getattr(result, p)
AttributeError: module 'email_system.services.email_service' has no attribute 'EmailTemplate'

======================================================================
ERROR: test_converts_html (email_system.tests.test_email_service.HtmlToTextTest.test_converts_html)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1429, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1411, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1503, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1473, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'email_system.services.email_service' from '/Users/work/Documents/Code/Admin3/backend/django_Admin3/email_system/services/email_service.py'> does not have the attribute 'html2text'

======================================================================
ERROR: test_queue_email_fallback_html (email_system.tests.test_email_service.QueueEmailTest.test_queue_email_fallback_html)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1429, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1411, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1503, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1473, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'email_system.services.email_service' from '/Users/work/Documents/Code/Admin3/backend/django_Admin3/email_system/services/email_service.py'> does not have the attribute 'email_queue_service'

======================================================================
ERROR: test_queue_email_fallback_mjml (email_system.tests.test_email_service.QueueEmailTest.test_queue_email_fallback_mjml)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1429, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1411, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1503, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1473, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'email_system.services.email_service' from '/Users/work/Documents/Code/Admin3/backend/django_Admin3/email_system/services/email_service.py'> does not have the attribute 'email_queue_service'

======================================================================
ERROR: test_queue_email_success (email_system.tests.test_email_service.QueueEmailTest.test_queue_email_success)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1429, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1411, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1503, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1473, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'email_system.services.email_service' from '/Users/work/Documents/Code/Admin3/backend/django_Admin3/email_system/services/email_service.py'> does not have the attribute 'email_queue_service'

======================================================================
ERROR: test_template_lookup_exception (email_system.tests.test_email_service.ShouldUseQueueTest.test_template_lookup_exception)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1429, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1411, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1487, in __enter__
    self.target = self.getter()
                  ~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pkgutil.py", line 473, in resolve_name
    result = getattr(result, p)
AttributeError: module 'email_system.services.email_service' has no attribute 'EmailTemplate'

======================================================================
ERROR: test_categories_and_product_types_are_distinct (filtering.tests.test_filter_partitioning.TestFilterPartitioning.test_categories_and_product_types_are_distinct)
Categories and product_types contain non-overlapping group sets.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_filter_partitioning.py", line 61, in setUp
    deps = create_catalog_dependencies('CM2', '2025-04')
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 210, in create_catalog_dependencies
    subject = create_subject(subject_code)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_dual_assignment_respected (filtering.tests.test_filter_partitioning.TestFilterPartitioning.test_dual_assignment_respected)
A group assigned to both configs appears in both sections.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_filter_partitioning.py", line 61, in setUp
    deps = create_catalog_dependencies('CM2', '2025-04')
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 210, in create_catalog_dependencies
    subject = create_subject(subject_code)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_unassigned_groups_excluded (filtering.tests.test_filter_partitioning.TestFilterPartitioning.test_unassigned_groups_excluded)
Groups not assigned to any FilterConfigurationGroup do not appear.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_filter_partitioning.py", line 61, in setUp
    deps = create_catalog_dependencies('CM2', '2025-04')
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 210, in create_catalog_dependencies
    subject = create_subject(subject_code)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_apply_with_code_strings (filtering.tests.test_filter_service.TestFilterGroupStrategy.test_apply_with_code_strings)
apply converts code strings to IDs.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_filter_service.py", line 267, in test_apply_with_code_strings
    result = self.strategy.apply(qs, ['GS_PARENT'])
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/services/filter_service.py", line 171, in apply
    return queryset.filter(product__groups__id__in=group_ids).distinct()
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1542, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1560, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1570, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1671, in add_q
    clause, _ = self._add_q(q_object, can_reuse)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1703, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1551, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1358, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1832, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'product' into field. Choices are: bundle_memberships, cart_items, created_at, exam_session_subject, exam_session_subject_id, id, is_active, marking_papers, order_items, prices, product_code, product_product_variation, product_product_variation_id, tutorial_events, updated_at

======================================================================
ERROR: test_apply_with_include_children (filtering.tests.test_filter_service.TestFilterGroupStrategy.test_apply_with_include_children)
apply uses _get_all_descendant_ids when include_children is True.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_filter_service.py", line 298, in test_apply_with_include_children
    result = strategy.apply(qs, [self.parent.id])
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/services/filter_service.py", line 169, in apply
    return queryset.filter(product__groups__id__in=all_group_ids).distinct()
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1542, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1560, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1570, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1671, in add_q
    clause, _ = self._add_q(q_object, can_reuse)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1703, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1551, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1358, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1832, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'product' into field. Choices are: bundle_memberships, cart_items, created_at, exam_session_subject, exam_session_subject_id, id, is_active, marking_papers, order_items, prices, product_code, product_product_variation, product_product_variation_id, tutorial_events, updated_at

======================================================================
ERROR: test_apply_with_integer_ids (filtering.tests.test_filter_service.TestFilterGroupStrategy.test_apply_with_integer_ids)
apply accepts integer group IDs.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_filter_service.py", line 254, in test_apply_with_integer_ids
    result = self.strategy.apply(qs, [self.parent.id])
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/services/filter_service.py", line 171, in apply
    return queryset.filter(product__groups__id__in=group_ids).distinct()
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1542, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1560, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1570, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1671, in add_q
    clause, _ = self._add_q(q_object, can_reuse)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1703, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1551, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1358, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1832, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'product' into field. Choices are: bundle_memberships, cart_items, created_at, exam_session_subject, exam_session_subject_id, id, is_active, marking_papers, order_items, prices, product_code, product_product_variation, product_product_variation_id, tutorial_events, updated_at

======================================================================
ERROR: test_apply_with_string_digit_ids (filtering.tests.test_filter_service.TestFilterGroupStrategy.test_apply_with_string_digit_ids)
apply accepts string digit IDs (legacy support).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_filter_service.py", line 261, in test_apply_with_string_digit_ids
    result = self.strategy.apply(qs, [str(self.parent.id)])
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/services/filter_service.py", line 171, in apply
    return queryset.filter(product__groups__id__in=group_ids).distinct()
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1542, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1560, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1570, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1671, in add_q
    clause, _ = self._add_q(q_object, can_reuse)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1703, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1551, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1358, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1832, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'product' into field. Choices are: bundle_memberships, cart_items, created_at, exam_session_subject, exam_session_subject_id, id, is_active, marking_papers, order_items, prices, product_code, product_product_variation, product_product_variation_id, tutorial_events, updated_at

======================================================================
ERROR: test_apply_with_values (filtering.tests.test_filter_service.TestProductVariationFilterStrategy.test_apply_with_values)
apply filters by product variation IDs.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_filter_service.py", line 391, in test_apply_with_values
    result = self.strategy.apply(qs, [1, 2])
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/services/filter_service.py", line 224, in apply
    return queryset.filter(product__product_variations__id__in=filter_values).distinct()
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1542, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1560, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1570, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1671, in add_q
    clause, _ = self._add_q(q_object, can_reuse)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1703, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1551, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1358, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1832, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'product' into field. Choices are: bundle_memberships, cart_items, created_at, exam_session_subject, exam_session_subject_id, id, is_active, marking_papers, order_items, prices, product_code, product_product_variation, product_product_variation_id, tutorial_events, updated_at

======================================================================
ERROR: test_apply_with_custom_mapping (filtering.tests.test_filter_service.TestTutorialFormatFilterStrategy.test_apply_with_custom_mapping)
apply uses custom format_mapping from ui_config.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_filter_service.py", line 434, in test_apply_with_custom_mapping
    result = strategy.apply(qs, ['online', 'in_person'])
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/services/filter_service.py", line 254, in apply
    return queryset.filter(combined_filter).distinct()
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1542, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1560, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1570, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1671, in add_q
    clause, _ = self._add_q(q_object, can_reuse)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1703, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1528, in build_filter
    return self._add_q(
           ~~~~~~~~~~~^
        filter_expr,
        ^^^^^^^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1703, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1551, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1358, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1832, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'product' into field. Choices are: bundle_memberships, cart_items, created_at, exam_session_subject, exam_session_subject_id, id, is_active, marking_papers, order_items, prices, product_code, product_product_variation, product_product_variation_id, tutorial_events, updated_at

======================================================================
ERROR: test_apply_with_default_mapping (filtering.tests.test_filter_service.TestTutorialFormatFilterStrategy.test_apply_with_default_mapping)
apply uses default format mapping when none configured.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_filter_service.py", line 420, in test_apply_with_default_mapping
    result = self.strategy.apply(qs, ['face_to_face'])
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/services/filter_service.py", line 254, in apply
    return queryset.filter(combined_filter).distinct()
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1542, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1560, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1570, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1671, in add_q
    clause, _ = self._add_q(q_object, can_reuse)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1703, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1528, in build_filter
    return self._add_q(
           ~~~~~~~~~~~^
        filter_expr,
        ^^^^^^^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1703, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1551, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1358, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1832, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'product' into field. Choices are: bundle_memberships, cart_items, created_at, exam_session_subject, exam_session_subject_id, id, is_active, marking_papers, order_items, prices, product_code, product_product_variation, product_product_variation_id, tutorial_events, updated_at

======================================================================
ERROR: test_apply_with_multiple_values (filtering.tests.test_filter_service.TestTutorialFormatFilterStrategy.test_apply_with_multiple_values)
apply combines multiple format filters with OR.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_filter_service.py", line 440, in test_apply_with_multiple_values
    result = self.strategy.apply(qs, ['face_to_face', 'live_online'])
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/services/filter_service.py", line 254, in apply
    return queryset.filter(combined_filter).distinct()
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1542, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1560, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1570, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1671, in add_q
    clause, _ = self._add_q(q_object, can_reuse)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1703, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1528, in build_filter
    return self._add_q(
           ~~~~~~~~~~~^
        filter_expr,
        ^^^^^^^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1703, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1551, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1358, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1832, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'product' into field. Choices are: bundle_memberships, cart_items, created_at, exam_session_subject, exam_session_subject_id, id, is_active, marking_papers, order_items, prices, product_code, product_product_variation, product_product_variation_id, tutorial_events, updated_at

======================================================================
ERROR: test_apply_with_unmapped_value (filtering.tests.test_filter_service.TestTutorialFormatFilterStrategy.test_apply_with_unmapped_value)
apply falls back to using the raw value if not in mapping.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_filter_service.py", line 446, in test_apply_with_unmapped_value
    result = self.strategy.apply(qs, ['some_unknown_format'])
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/services/filter_service.py", line 254, in apply
    return queryset.filter(combined_filter).distinct()
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1542, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1560, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1570, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1671, in add_q
    clause, _ = self._add_q(q_object, can_reuse)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1703, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1528, in build_filter
    return self._add_q(
           ~~~~~~~~~~~^
        filter_expr,
        ^^^^^^^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1703, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1551, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1358, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/query.py", line 1832, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'product' into field. Choices are: bundle_memberships, cart_items, created_at, exam_session_subject, exam_session_subject_id, id, is_active, marking_papers, order_items, prices, product_code, product_product_variation, product_product_variation_id, tutorial_events, updated_at

======================================================================
ERROR: test_modes_uses_variation_type (filtering.tests.test_format_cleanup.TestFormatCleanup.test_modes_uses_variation_type)
T060: modes_of_delivery counts use variation_type, not filter groups.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_format_cleanup.py", line 148, in test_modes_uses_variation_type
    cm2 = create_subject('CM2')
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_grandparent_includes_all_descendants (filtering.tests.test_hierarchy_resolution.TestHierarchyResolution.test_grandparent_includes_all_descendants)
T029: Multi-level hierarchy resolves all descendants.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_hierarchy_resolution.py", line 72, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_hierarchy_aware_counts (filtering.tests.test_hierarchy_resolution.TestHierarchyResolution.test_hierarchy_aware_counts)
T032: Filter counts reflect descendant products.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_hierarchy_resolution.py", line 72, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_leaf_returns_direct_only (filtering.tests.test_hierarchy_resolution.TestHierarchyResolution.test_leaf_returns_direct_only)
T030: Leaf group returns only directly assigned products.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_hierarchy_resolution.py", line 72, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_parent_includes_children (filtering.tests.test_hierarchy_resolution.TestHierarchyResolution.test_parent_includes_children)
T028: Selecting parent group includes child group products.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_hierarchy_resolution.py", line 72, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_parent_with_direct_products (filtering.tests.test_hierarchy_resolution.TestHierarchyResolution.test_parent_with_direct_products)
T031: Group with direct products AND children returns both.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_hierarchy_resolution.py", line 72, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_cascade_delete_store_product (marking.tests.test_models.MarkingPaperTestCase.test_cascade_delete_store_product)
Test cascading delete - deleting store product deletes marking papers.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_date_timezone_awareness (marking.tests.test_models.MarkingPaperTestCase.test_date_timezone_awareness)
Test deadline and recommended_submit_date are timezone-aware.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_db_table_name (marking.tests.test_models.MarkingPaperTestCase.test_db_table_name)
Test custom database table name.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_deadline_date_validation (marking.tests.test_models.MarkingPaperTestCase.test_deadline_date_validation)
Test deadline date can be set to future dates.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_deadline_required (marking.tests.test_models.MarkingPaperTestCase.test_deadline_required)
Test deadline is a required field.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_foreign_key_relationship_to_store_product (marking.tests.test_models.MarkingPaperTestCase.test_foreign_key_relationship_to_store_product)
Test ForeignKey relationship with store.Product.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_marking_paper_creation_with_required_fields (marking.tests.test_models.MarkingPaperTestCase.test_marking_paper_creation_with_required_fields)
Test MarkingPaper creation with all required fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_multiple_papers_for_same_store_product (marking.tests.test_models.MarkingPaperTestCase.test_multiple_papers_for_same_store_product)
Test creating multiple marking papers for same store product.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_name_field_uniqueness_not_enforced (marking.tests.test_models.MarkingPaperTestCase.test_name_field_uniqueness_not_enforced)
Test name field has no unique constraint (duplicates allowed).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_name_max_length_validation (marking.tests.test_models.MarkingPaperTestCase.test_name_max_length_validation)
Test name field respects 10 character maximum.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_query_by_deadline_range (marking.tests.test_models.MarkingPaperTestCase.test_query_by_deadline_range)
Test querying marking papers by deadline range.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_query_by_store_product (marking.tests.test_models.MarkingPaperTestCase.test_query_by_store_product)
Test querying marking papers by store product.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_recommended_date_after_deadline_warning (marking.tests.test_models.MarkingPaperTestCase.test_recommended_date_after_deadline_warning)
Test recommended_submit_date can be after deadline (illogical but allowed).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_recommended_date_before_deadline (marking.tests.test_models.MarkingPaperTestCase.test_recommended_date_before_deadline)
Test recommended_submit_date can be before deadline.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_recommended_submit_date_required (marking.tests.test_models.MarkingPaperTestCase.test_recommended_submit_date_required)
Test recommended_submit_date is a required field.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_str_method_formatting (marking.tests.test_models.MarkingPaperTestCase.test_str_method_formatting)
Test __str__ method returns name and store product.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_models.py", line 33, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_deadlines_action_mixed_valid_invalid_ids (marking.tests.test_views.MarkingPaperAPITestCase.test_bulk_deadlines_action_mixed_valid_invalid_ids)
Test POST /api/markings/papers/bulk-deadlines/ with mixed valid/invalid IDs.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_deadlines_action_with_empty_list (marking.tests.test_views.MarkingPaperAPITestCase.test_bulk_deadlines_action_with_empty_list)
Test POST /api/markings/papers/bulk-deadlines/ with empty list.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_deadlines_action_with_invalid_ids_type (marking.tests.test_views.MarkingPaperAPITestCase.test_bulk_deadlines_action_with_invalid_ids_type)
Test POST /api/markings/papers/bulk-deadlines/ with non-list store_product_ids.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_deadlines_action_with_nonexistent_ids (marking.tests.test_views.MarkingPaperAPITestCase.test_bulk_deadlines_action_with_nonexistent_ids)
Test POST /api/markings/papers/bulk-deadlines/ with nonexistent IDs.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_deadlines_action_with_valid_store_product_ids (marking.tests.test_views.MarkingPaperAPITestCase.test_bulk_deadlines_action_with_valid_store_product_ids)
Test POST /api/markings/papers/bulk-deadlines/ with valid store product ids.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_deadlines_action_without_any_ids (marking.tests.test_views.MarkingPaperAPITestCase.test_bulk_deadlines_action_without_any_ids)
Test POST /api/markings/papers/bulk-deadlines/ without any ids.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_bulk_deadlines_response_structure (marking.tests.test_views.MarkingPaperAPITestCase.test_bulk_deadlines_response_structure)
Test bulk deadlines action response structure.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_deadlines_action_with_invalid_store_product_id (marking.tests.test_views.MarkingPaperAPITestCase.test_deadlines_action_with_invalid_store_product_id)
Test GET /api/markings/papers/deadlines/?store_product_id={invalid_id}.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_deadlines_action_with_store_product_no_papers (marking.tests.test_views.MarkingPaperAPITestCase.test_deadlines_action_with_store_product_no_papers)
Test deadlines action for store product with no marking papers.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_deadlines_action_with_valid_store_product_id (marking.tests.test_views.MarkingPaperAPITestCase.test_deadlines_action_with_valid_store_product_id)
Test GET /api/markings/papers/deadlines/?store_product_id={id}.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_deadlines_action_without_any_id (marking.tests.test_views.MarkingPaperAPITestCase.test_deadlines_action_without_any_id)
Test GET /api/markings/papers/deadlines/ without any id parameter.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_deadlines_response_structure (marking.tests.test_views.MarkingPaperAPITestCase.test_deadlines_response_structure)
Test deadlines action response contains expected fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_marking_papers (marking.tests.test_views.MarkingPaperAPITestCase.test_list_marking_papers)
Test GET /api/markings/papers/ (if list endpoint exists).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_permission_classes_allow_any (marking.tests.test_views.MarkingPaperAPITestCase.test_permission_classes_allow_any)
Test API endpoints are accessible without authentication (AllowAny).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_readonly_viewset_no_create (marking.tests.test_views.MarkingPaperAPITestCase.test_readonly_viewset_no_create)
Test ReadOnlyModelViewSet does not allow POST to create papers.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_readonly_viewset_no_delete (marking.tests.test_views.MarkingPaperAPITestCase.test_readonly_viewset_no_delete)
Test ReadOnlyModelViewSet does not allow DELETE.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_readonly_viewset_no_update (marking.tests.test_views.MarkingPaperAPITestCase.test_readonly_viewset_no_update)
Test ReadOnlyModelViewSet does not allow PUT/PATCH updates.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_retrieve_marking_paper (marking.tests.test_views.MarkingPaperAPITestCase.test_retrieve_marking_paper)
Test GET /api/markings/papers/{id}/.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/marking/tests/test_views.py", line 36, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_blocked_rules_raise_error (orders.tests.test_checkout_orchestrator.CheckoutOrchestratorTest.test_blocked_rules_raise_error)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_checkout_orchestrator.py", line 33, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_card_without_card_data_raises_validation_error (orders.tests.test_checkout_orchestrator.CheckoutOrchestratorTest.test_card_without_card_data_raises_validation_error)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_checkout_orchestrator.py", line 33, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_empty_cart_raises_validation_error (orders.tests.test_checkout_orchestrator.CheckoutOrchestratorTest.test_empty_cart_raises_validation_error)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_checkout_orchestrator.py", line 33, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_invoice_without_employer_code_raises_validation_error (orders.tests.test_checkout_orchestrator.CheckoutOrchestratorTest.test_invoice_without_employer_code_raises_validation_error)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_checkout_orchestrator.py", line 33, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_payment_failure_deletes_order (orders.tests.test_checkout_orchestrator.CheckoutOrchestratorTest.test_payment_failure_deletes_order)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_checkout_orchestrator.py", line 33, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_saves_acknowledgments (orders.tests.test_checkout_orchestrator.CheckoutOrchestratorTest.test_saves_acknowledgments)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_checkout_orchestrator.py", line 33, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_successful_card_checkout (orders.tests.test_checkout_orchestrator.CheckoutOrchestratorTest.test_successful_card_checkout)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_checkout_orchestrator.py", line 33, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_successful_invoice_checkout (orders.tests.test_checkout_orchestrator.CheckoutOrchestratorTest.test_successful_invoice_checkout)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_checkout_orchestrator.py", line 33, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_order_item_creation (orders.tests.test_models.OrderItemModelTest.test_order_item_creation)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_models.py", line 65, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_order_item_db_table (orders.tests.test_models.OrderItemModelTest.test_order_item_db_table)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_models.py", line 65, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_build_atomic_transaction (orders.tests.test_order_builder.OrderBuilderTest.test_build_atomic_transaction)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_order_builder.py", line 24, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_build_creates_order_with_totals (orders.tests.test_order_builder.OrderBuilderTest.test_build_creates_order_with_totals)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_order_builder.py", line 24, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_build_transfers_fees (orders.tests.test_order_builder.OrderBuilderTest.test_build_transfers_fees)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_order_builder.py", line 24, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_build_transfers_items (orders.tests.test_order_builder.OrderBuilderTest.test_build_transfers_items)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_order_builder.py", line 24, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_build_with_zero_vat (orders.tests.test_order_builder.OrderBuilderTest.test_build_with_zero_vat)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_order_builder.py", line 24, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_checkout_card_success (orders.tests.test_views.CheckoutViewTest.test_checkout_card_success)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_views.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_checkout_empty_cart (orders.tests.test_views.CheckoutViewTest.test_checkout_empty_cart)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_views.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_checkout_invoice_success (orders.tests.test_views.CheckoutViewTest.test_checkout_invoice_success)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_views.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_checkout_missing_card_data (orders.tests.test_views.CheckoutViewTest.test_checkout_missing_card_data)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_views.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_checkout_unauthenticated (orders.tests.test_views.CheckoutViewTest.test_checkout_unauthenticated)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_views.py", line 28, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_cannot_access_other_users_order (orders.tests.test_views.OrderViewSetTest.test_cannot_access_other_users_order)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_views.py", line 123, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_only_own_orders (orders.tests.test_views.OrderViewSetTest.test_list_only_own_orders)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_views.py", line 123, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_orders (orders.tests.test_views.OrderViewSetTest.test_list_orders)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_views.py", line 123, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_retrieve_order_detail (orders.tests.test_views.OrderViewSetTest.test_retrieve_order_detail)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_views.py", line 123, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_unauthenticated_access_blocked (orders.tests.test_views.OrderViewSetTest.test_unauthenticated_access_blocked)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/orders/tests/test_views.py", line 123, in setUp
    subject = Subject.objects.create(code='CM2')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_resolve_mapping_expression_known (rules_engine.tests.test_coverage_services.TestTemplateProcessor.test_resolve_mapping_expression_known)
Should handle known expression functions.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_coverage_services.py", line 1200, in test_resolve_mapping_expression_known
    result = self.processor._resolve_mapping_definition(
        {'type': 'expression', 'expression': 'current_timestamp'},
        {},
    )
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/services/template_processor.py", line 119, in _resolve_mapping_definition
    return self.functions[expr](context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
TypeError: TemplateProcessor._current_timestamp() takes 1 positional argument but 2 were given

======================================================================
ERROR: test_calculate_vat_cart_items_success (rules_engine.tests.test_coverage_views.TestCalculateVatView.test_calculate_vat_cart_items_success)
Should return 200 for valid cart items calculation.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1429, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1411, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1503, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1473, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'rules_engine.views' from '/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/views.py'> does not have the attribute 'VATCalculationService'

======================================================================
ERROR: test_calculate_vat_service_error (rules_engine.tests.test_coverage_views.TestCalculateVatView.test_calculate_vat_service_error)
Should return 500 on service errors.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1429, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1411, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1503, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1473, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'rules_engine.views' from '/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/views.py'> does not have the attribute 'VATCalculationService'

======================================================================
ERROR: test_calculate_vat_single_amount_success (rules_engine.tests.test_coverage_views.TestCalculateVatView.test_calculate_vat_single_amount_success)
Should return 200 for valid single amount calculation.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1429, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1411, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1503, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1473, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'rules_engine.views' from '/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/views.py'> does not have the attribute 'VATCalculationService'

======================================================================
ERROR: test_calculate_vat_validation_error (rules_engine.tests.test_coverage_views.TestCalculateVatView.test_calculate_vat_validation_error)
Should return 400 on ValidationError.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1429, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1411, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1503, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1473, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'rules_engine.views' from '/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/views.py'> does not have the attribute 'VATCalculationService'

======================================================================
ERROR: test_get_template_styles_with_theme (rules_engine.tests.test_coverage_views.TestMessageTemplateViewSet.test_get_template_styles_with_theme)
Should return theme styles when template has style config with theme.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "acted_content_style_themes" does not exist
LINE 1: INSERT INTO "acted_content_style_themes" ("name", "descripti...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_coverage_views.py", line 469, in test_get_template_styles_with_theme
    theme = ContentStyleTheme.objects.create(name='cov_test_theme')
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "acted_content_style_themes" does not exist
LINE 1: INSERT INTO "acted_content_style_themes" ("name", "descripti...
                    ^


======================================================================
ERROR: test_bundle_count_reflects_filters (search.tests.test_bundle_filtering.TestBundleFiltering.test_bundle_count_reflects_filters)
T040: Bundle count in filter_counts reflects filtered bundle count.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_bundle_filtering.py", line 76, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_category_filter_applied_to_bundles (search.tests.test_bundle_filtering.TestBundleFiltering.test_category_filter_applied_to_bundles)
T036: Bundles filtered by category â€” not just subject.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_bundle_filtering.py", line 76, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_mode_of_delivery_filter_applied (search.tests.test_bundle_filtering.TestBundleFiltering.test_mode_of_delivery_filter_applied)
T037: Bundles filtered by mode of delivery.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_bundle_filtering.py", line 76, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_no_filters_returns_all_bundles (search.tests.test_bundle_filtering.TestBundleFiltering.test_no_filters_returns_all_bundles)
T039: With no filters, all active bundles are returned.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_bundle_filtering.py", line 76, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_single_product_matches_all_dimensions (search.tests.test_bundle_filtering.TestBundleFiltering.test_single_product_matches_all_dimensions)
T038: Single-product matching â€” one product must match ALL dimensions.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_bundle_filtering.py", line 76, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_dimension_excludes_own_filter (search.tests.test_disjunctive_faceting.TestDisjunctiveFaceting.test_dimension_excludes_own_filter)
T020: Subject dimension counts exclude subject filter.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_disjunctive_faceting.py", line 64, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_multi_filter_disjunctive_counts (search.tests.test_disjunctive_faceting.TestDisjunctiveFaceting.test_multi_filter_disjunctive_counts)
T019: With subject=CM2 + category=Material, product_type counts
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_disjunctive_faceting.py", line 64, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_no_filters_counts_total_catalog (search.tests.test_disjunctive_faceting.TestDisjunctiveFaceting.test_no_filters_counts_total_catalog)
T017: With no filters, counts reflect entire catalog.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_disjunctive_faceting.py", line 64, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_subject_filter_affects_category_counts (search.tests.test_disjunctive_faceting.TestDisjunctiveFaceting.test_subject_filter_affects_category_counts)
T018: With subject=CM2, category counts reflect only CM2 products.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_disjunctive_faceting.py", line 64, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_zero_count_entries_included (search.tests.test_disjunctive_faceting.TestDisjunctiveFaceting.test_zero_count_entries_included)
T021: Zero-count entries ARE included in API response.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_disjunctive_faceting.py", line 64, in setUp
    self.cm2 = create_subject('CM2')
               ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_empty_list_returns_empty (search.tests.test_serializers.TestStoreProductListSerializerGroupedProducts.test_empty_list_returns_empty)
Empty input produces empty output.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_serializers.py", line 42, in setUp
    self.subject = create_subject('CM2')
                   ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_groups_same_catalog_product_variations (search.tests.test_serializers.TestStoreProductListSerializerGroupedProducts.test_groups_same_catalog_product_variations)
Variations of the same catalog product should be grouped together.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_serializers.py", line 42, in setUp
    self.subject = create_subject('CM2')
                   ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_multiple_catalog_products_separate_groups (search.tests.test_serializers.TestStoreProductListSerializerGroupedProducts.test_multiple_catalog_products_separate_groups)
Different catalog products produce separate groups.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_serializers.py", line 42, in setUp
    self.subject = create_subject('CM2')
                   ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_serialized_fields_present (search.tests.test_serializers.TestStoreProductListSerializerGroupedProducts.test_serialized_fields_present)
All required fields should be present in serialized output.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_serializers.py", line 42, in setUp
    self.subject = create_subject('CM2')
                   ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_variation_fields_present (search.tests.test_serializers.TestStoreProductListSerializerGroupedProducts.test_variation_fields_present)
Variation data should have all expected fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_serializers.py", line 42, in setUp
    self.subject = create_subject('CM2')
                   ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_variation_includes_prices (search.tests.test_serializers.TestStoreProductListSerializerGroupedProducts.test_variation_includes_prices)
Variations should serialize associated prices.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/test_serializers.py", line 42, in setUp
    self.subject = create_subject('CM2')
                   ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/search/tests/factories.py", line 50, in create_subject
    return Subject.objects.create(**defaults)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_product_count (store.tests.test_coverage.TestBundleAdmin.test_get_product_count)
Admin display: get_product_count returns active products count (line 87).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_coverage.py", line 233, in setUp
    self.admin = BundleAdmin(model=None, admin_site=AdminSite())
                 ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/contrib/admin/options.py", line 675, in __init__
    self.opts = model._meta
                ^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute '_meta'

======================================================================
ERROR: test_get_session_code (store.tests.test_coverage.TestBundleAdmin.test_get_session_code)
Admin display: get_session_code returns session code (line 83).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_coverage.py", line 233, in setUp
    self.admin = BundleAdmin(model=None, admin_site=AdminSite())
                 ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/contrib/admin/options.py", line 675, in __init__
    self.opts = model._meta
                ^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute '_meta'

======================================================================
ERROR: test_get_subject_code (store.tests.test_coverage.TestBundleAdmin.test_get_subject_code)
Admin display: get_subject_code returns subject code (line 79).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_coverage.py", line 233, in setUp
    self.admin = BundleAdmin(model=None, admin_site=AdminSite())
                 ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/contrib/admin/options.py", line 675, in __init__
    self.opts = model._meta
                ^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute '_meta'

======================================================================
ERROR: test_get_bundle_name (store.tests.test_coverage.TestBundleProductAdmin.test_get_bundle_name)
Admin display: get_bundle_name returns bundle name (line 100).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_coverage.py", line 260, in setUp
    self.admin = BundleProductAdmin(model=None, admin_site=AdminSite())
                 ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/contrib/admin/options.py", line 675, in __init__
    self.opts = model._meta
                ^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute '_meta'

======================================================================
ERROR: test_get_product_code (store.tests.test_coverage.TestBundleProductAdmin.test_get_product_code)
Admin display: get_product_code returns product code (line 104).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_coverage.py", line 260, in setUp
    self.admin = BundleProductAdmin(model=None, admin_site=AdminSite())
                 ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/contrib/admin/options.py", line 675, in __init__
    self.opts = model._meta
                ^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute '_meta'

======================================================================
ERROR: test_get_product_code (store.tests.test_coverage.TestPriceAdmin.test_get_product_code)
Admin display: get_product_code returns product code (line 57).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_coverage.py", line 216, in setUp
    self.admin = PriceAdmin(model=None, admin_site=AdminSite())
                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/contrib/admin/options.py", line 675, in __init__
    self.opts = model._meta
                ^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute '_meta'

======================================================================
ERROR: test_get_session_code (store.tests.test_coverage.TestProductAdmin.test_get_session_code)
Admin display: get_session_code returns session code (line 44).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_coverage.py", line 194, in setUp
    self.admin = ProductAdmin(model=None, admin_site=AdminSite())
                 ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/contrib/admin/options.py", line 675, in __init__
    self.opts = model._meta
                ^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute '_meta'

======================================================================
ERROR: test_get_subject_code (store.tests.test_coverage.TestProductAdmin.test_get_subject_code)
Admin display: get_subject_code returns subject code (line 40).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_coverage.py", line 194, in setUp
    self.admin = ProductAdmin(model=None, admin_site=AdminSite())
                 ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/contrib/admin/options.py", line 675, in __init__
    self.opts = model._meta
                ^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute '_meta'

======================================================================
ERROR: test_group_store_products_marking_type (store.tests.test_coverage.TestSearchSerializer.test_group_store_products_marking_type)
group_store_products_for_search detects 'Markings' type.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_coverage.py", line 558, in test_group_store_products_marking_type
    ProductProductGroup.objects.create(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        product=self.catalog_product,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        filter_group=self.marking_group
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 667, in create
    obj = self.model(**kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 590, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: ProductProductGroup() got unexpected keyword arguments: 'filter_group'

======================================================================
ERROR: test_group_store_products_tutorial_type (store.tests.test_coverage.TestSearchSerializer.test_group_store_products_tutorial_type)
group_store_products_for_search detects 'Tutorial' type.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_coverage.py", line 524, in test_group_store_products_tutorial_type
    ProductProductGroup.objects.create(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        product=self.catalog_product,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        filter_group=self.tutorial_group
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 667, in create
    obj = self.model(**kwargs)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 590, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: ProductProductGroup() got unexpected keyword arguments: 'filter_group'

======================================================================
ERROR: setUpClass (store.tests.test_models.TestProductModelCreation)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_models.py", line 104, in setUpTestData
    cls.subject = Subject.objects.create(
                  ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Actuarial Mathematics',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: setUpClass (store.tests.test_views.TestBundleProductEndpoint)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_views.py", line 39, in setUpTestData
    cls.subject = Subject.objects.create(
                  ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Actuarial Mathematics',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: setUpClass (store.tests.test_views.TestBundleViewSet)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_views.py", line 39, in setUpTestData
    cls.subject = Subject.objects.create(
                  ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Actuarial Mathematics',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: setUpClass (store.tests.test_views.TestPriceViewSet)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_views.py", line 39, in setUpTestData
    cls.subject = Subject.objects.create(
                  ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Actuarial Mathematics',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: setUpClass (store.tests.test_views.TestProductViewSet)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_views.py", line 39, in setUpTestData
    cls.subject = Subject.objects.create(
                  ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Actuarial Mathematics',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: setUpClass (store.tests.test_views.TestStoreAPIReadOnly)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_views.py", line 39, in setUpTestData
    cls.subject = Subject.objects.create(
                  ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Actuarial Mathematics',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_auto_timestamp_fields (tutorials.tests.test_models.TutorialEventTestCase.test_auto_timestamp_fields)
Test created_at and updated_at are automatically set.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_cascade_delete_essp_variation (tutorials.tests.test_models.TutorialEventTestCase.test_cascade_delete_essp_variation)
Test cascading delete - deleting ESSP variation deletes tutorial events.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_code_max_length_validation (tutorials.tests.test_models.TutorialEventTestCase.test_code_max_length_validation)
Test code field respects 100 character maximum.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_code_unique_constraint (tutorials.tests.test_models.TutorialEventTestCase.test_code_unique_constraint)
Test code field has unique constraint.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_date_field_validation (tutorials.tests.test_models.TutorialEventTestCase.test_date_field_validation)
Test start_date and end_date are DateField types.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_db_table_name (tutorials.tests.test_models.TutorialEventTestCase.test_db_table_name)
Test custom database table name.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_end_date_required (tutorials.tests.test_models.TutorialEventTestCase.test_end_date_required)
Test end_date is a required field.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_finalisation_date_optional (tutorials.tests.test_models.TutorialEventTestCase.test_finalisation_date_optional)
Test finalisation_date is optional (null=True, blank=True).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_foreign_key_relationship_to_essp_variation (tutorials.tests.test_models.TutorialEventTestCase.test_foreign_key_relationship_to_essp_variation)
Test ForeignKey relationship with ExamSessionSubjectProductVariation.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_is_soldout_default_value (tutorials.tests.test_models.TutorialEventTestCase.test_is_soldout_default_value)
Test is_soldout defaults to False.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_ordering_by_start_date_and_code (tutorials.tests.test_models.TutorialEventTestCase.test_ordering_by_start_date_and_code)
Test default ordering is by start_date, then code.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_query_available_events (tutorials.tests.test_models.TutorialEventTestCase.test_query_available_events)
Test querying available (not soldout) tutorial events.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_query_by_date_range (tutorials.tests.test_models.TutorialEventTestCase.test_query_by_date_range)
Test querying tutorial events by date range.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_query_by_essp_variation (tutorials.tests.test_models.TutorialEventTestCase.test_query_by_essp_variation)
Test querying tutorial events by ESSP variation.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_remain_space_default_value (tutorials.tests.test_models.TutorialEventTestCase.test_remain_space_default_value)
Test remain_space defaults to 0.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_start_date_required (tutorials.tests.test_models.TutorialEventTestCase.test_start_date_required)
Test start_date is a required field.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_str_method_formatting (tutorials.tests.test_models.TutorialEventTestCase.test_str_method_formatting)
Test __str__ method returns code and venue.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_subject_code_property (tutorials.tests.test_models.TutorialEventTestCase.test_subject_code_property)
Test subject_code property returns correct subject code.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_tutorial_event_creation_with_all_fields (tutorials.tests.test_models.TutorialEventTestCase.test_tutorial_event_creation_with_all_fields)
Test TutorialEvent creation with all fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_tutorial_event_creation_with_required_fields (tutorials.tests.test_models.TutorialEventTestCase.test_tutorial_event_creation_with_required_fields)
Test TutorialEvent creation with all required fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_updated_at_changes_on_save (tutorials.tests.test_models.TutorialEventTestCase.test_updated_at_changes_on_save)
Test updated_at changes when record is saved.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_venue_max_length_validation (tutorials.tests.test_models.TutorialEventTestCase.test_venue_max_length_validation)
Test venue field respects 255 character maximum.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_verbose_name (tutorials.tests.test_models.TutorialEventTestCase.test_verbose_name)
Test model verbose name is set correctly.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_verbose_name_plural (tutorials.tests.test_models.TutorialEventTestCase.test_verbose_name_plural)
Test model verbose name plural is set correctly.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_models.py", line 35, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_comprehensive_data_uses_cache (tutorials.tests.test_views.TutorialComprehensiveDataViewTestCase.test_comprehensive_data_uses_cache)
Test that comprehensive data view uses cache.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 694, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_comprehensive_data (tutorials.tests.test_views.TutorialComprehensiveDataViewTestCase.test_get_comprehensive_data)
Test GET /api/tutorials/data/comprehensive/.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 694, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_create_tutorial_event (tutorials.tests.test_views.TutorialEventAPITestCase.test_create_tutorial_event)
Test POST /api/tutorials/events/ to create new event.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_create_tutorial_event_duplicate_code (tutorials.tests.test_views.TutorialEventAPITestCase.test_create_tutorial_event_duplicate_code)
Test POST /api/tutorials/events/ with duplicate code.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_create_tutorial_event_missing_required_fields (tutorials.tests.test_views.TutorialEventAPITestCase.test_create_tutorial_event_missing_required_fields)
Test POST /api/tutorials/events/ with missing required fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_delete_tutorial_event (tutorials.tests.test_views.TutorialEventAPITestCase.test_delete_tutorial_event)
Test DELETE /api/tutorials/events/{id}/.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_tutorial_events (tutorials.tests.test_views.TutorialEventAPITestCase.test_list_tutorial_events)
Test GET /api/tutorials/events/.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_tutorial_events_response_structure (tutorials.tests.test_views.TutorialEventAPITestCase.test_list_tutorial_events_response_structure)
Test tutorial event list response contains expected fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_permission_classes_allow_any (tutorials.tests.test_views.TutorialEventAPITestCase.test_permission_classes_allow_any)
Test API endpoints are accessible without authentication (AllowAny).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_retrieve_tutorial_event (tutorials.tests.test_views.TutorialEventAPITestCase.test_retrieve_tutorial_event)
Test GET /api/tutorials/events/{id}/.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_retrieve_tutorial_event_nonexistent (tutorials.tests.test_views.TutorialEventAPITestCase.test_retrieve_tutorial_event_nonexistent)
Test GET /api/tutorials/events/{id}/ for nonexistent event.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_retrieve_tutorial_event_response_structure (tutorials.tests.test_views.TutorialEventAPITestCase.test_retrieve_tutorial_event_response_structure)
Test tutorial event retrieve response contains expected fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_tutorial_event_ordering (tutorials.tests.test_views.TutorialEventAPITestCase.test_tutorial_event_ordering)
Test tutorial events ordering in list response.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_update_tutorial_event_patch (tutorials.tests.test_views.TutorialEventAPITestCase.test_update_tutorial_event_patch)
Test PATCH /api/tutorials/events/{id}/ to partially update event.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_update_tutorial_event_put (tutorials.tests.test_views.TutorialEventAPITestCase.test_update_tutorial_event_put)
Test PUT /api/tutorials/events/{id}/ to update event.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 39, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_all_tutorial_events (tutorials.tests.test_views.TutorialEventListViewTestCase.test_list_all_tutorial_events)
Test GET /api/tutorials/list/ without filters.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 288, in setUp
    self.subject1 = Subject.objects.create(
                    ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_tutorial_events_filter_by_subject (tutorials.tests.test_views.TutorialEventListViewTestCase.test_list_tutorial_events_filter_by_subject)
Test GET /api/tutorials/list/?subject_code=CM2.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 288, in setUp
    self.subject1 = Subject.objects.create(
                    ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_all_tutorial_products (tutorials.tests.test_views.TutorialProductListAllViewTestCase.test_list_all_tutorial_products)
Test GET /api/tutorials/products/all/ returns all tutorial products.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 478, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_all_tutorial_products_cache_cleared (tutorials.tests.test_views.TutorialProductListAllViewTestCase.test_list_all_tutorial_products_cache_cleared)
Test that cache can be cleared.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 478, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_all_tutorial_products_uses_cache (tutorials.tests.test_views.TutorialProductListAllViewTestCase.test_list_all_tutorial_products_uses_cache)
Test that subsequent requests use cached data.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 478, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_tutorial_products_missing_exam_session (tutorials.tests.test_views.TutorialProductListViewTestCase.test_list_tutorial_products_missing_exam_session)
Test GET /api/tutorials/products/ without exam_session parameter.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 410, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_tutorial_products_missing_subject_code (tutorials.tests.test_views.TutorialProductListViewTestCase.test_list_tutorial_products_missing_subject_code)
Test GET /api/tutorials/products/ without subject_code parameter.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 410, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_tutorial_products_with_required_params (tutorials.tests.test_views.TutorialProductListViewTestCase.test_list_tutorial_products_with_required_params)
Test GET /api/tutorials/products/?exam_session={id}&subject_code={code}.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 410, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_product_variations (tutorials.tests.test_views.TutorialProductVariationListViewTestCase.test_list_product_variations)
Test GET /api/tutorials/products/{id}/variations/.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 584, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_product_variations_coverage_detection (tutorials.tests.test_views.TutorialProductVariationListViewTestCase.test_list_product_variations_coverage_detection)
GET /api/tutorials/products/999999/variations/ with nonexistent product returns empty.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 584, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_product_variations_no_results (tutorials.tests.test_views.TutorialProductVariationListViewTestCase.test_list_product_variations_no_results)
Test listing variations for product with no variations.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 584, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_list_product_variations_with_subject_filter (tutorials.tests.test_views.TutorialProductVariationListViewTestCase.test_list_product_variations_with_subject_filter)
Test filtering variations by subject_code.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/tutorials/tests/test_views.py", line 584, in setUp
    self.subject = Subject.objects.create(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        code='CM2',
        ^^^^^^^^^^^
        description='Financial Engineering',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        active=True
        ^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "catalog_subjects_code_key"
DETAIL:  Key (code)=(CM2) already exists.


======================================================================
ERROR: test_get_profile_home_address_none_address_data (users.tests.test_views.UserProfileAddressFallbackTestCase.test_get_profile_home_address_none_address_data)
Test GET /api/users/profile/ with home address that has None address_data.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "address_data" of relation "user_profile_address" violates not-null constraint
DETAIL:  Failing row contains (164, HOME, null, UK, null, null, 3163).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/users/tests/test_views.py", line 853, in test_get_profile_home_address_none_address_data
    UserProfileAddress.objects.filter(pk=address.pk).update(address_data=None)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 1300, in update
    rows = query.get_compiler(self.db).execute_sql(ROW_COUNT)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 2111, in execute_sql
    row_count = super().execute_sql(result_type)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/sql/compiler.py", line 1624, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "address_data" of relation "user_profile_address" violates not-null constraint
DETAIL:  Failing row contains (164, HOME, null, UK, null, null, 3163).


======================================================================
ERROR: test_regions_have_correct_names (utils.tests.test_migrations.DataMigrationTestCase.test_regions_have_correct_names)
Test regions have correct names.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_migrations.py", line 46, in test_regions_have_correct_names
    region = UtilsRegion.objects.get(code=code)
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/models/query.py", line 639, in get
    raise self.model.DoesNotExist(
        "%s matching query does not exist." % self.model._meta.object_name
    )
utils.models.UtilsRegion.DoesNotExist: UtilsRegion matching query does not exist.

======================================================================
ERROR: test_provider_honours_pact_with_consumer (pact_tests.test_provider_verification.PactProviderVerificationTest.test_provider_honours_pact_with_consumer)
Replay all consumer interactions and verify responses match.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/pact_tests/test_provider_verification.py", line 95, in test_provider_honours_pact_with_consumer
    verifier.verify()
    ~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/pact/v3/verifier.py", line 769, in verify
    pact.v3.ffi.verifier_execute(self._handle)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/pact/v3/ffi.py", line 7330, in verifier_execute
    raise RuntimeError(msg)
RuntimeError: Failed to execute verifier for VerifierHandle(0x116bfda40).

======================================================================
ERROR: test_clean_django_model_instance (utils.tests.test_queue_service.TestCleanContextForSerialization.test_clean_django_model_instance)
Django model instances should be converted to dict of basic fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/services/queue_service.py", line 142, in _clean_context_for_serialization
    json.dumps(value, default=datetime_serializer)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/__init__.py", line 242, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/encoder.py", line 202, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/encoder.py", line 263, in iterencode
    return _iterencode(o, 0)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/services/queue_service.py", line 22, in datetime_serializer
    raise TypeError(f"Object of type {type(obj)} is not JSON serializable")
TypeError: Object of type <class 'unittest.mock.MagicMock'> is not JSON serializable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/services/queue_service.py", line 167, in _clean_context_for_serialization
    cleaned_context[key] = str(value)
                           ~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 2266, in __get__
    return self.create_mock()
           ~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 2259, in create_mock
    m = parent._get_child_mock(name=entry, _new_name=entry,
                               _new_parent=parent)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1069, in _get_child_mock
    if self._mock_sealed:
       ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 694, in __getattr__
    elif self._mock_methods is not None:
         ^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 693, in __getattr__
    raise AttributeError(name)
AttributeError: _mock_methods

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_queue_service.py", line 151, in test_clean_django_model_instance
    result = service._clean_context_for_serialization(context)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/services/queue_service.py", line 169, in _clean_context_for_serialization
    cleaned_context[key] = str(value)
                           ~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 2266, in __get__
    return self.create_mock()
           ~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 2259, in create_mock
    m = parent._get_child_mock(name=entry, _new_name=entry,
                               _new_parent=parent)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1069, in _get_child_mock
    if self._mock_sealed:
       ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 694, in __getattr__
    elif self._mock_methods is not None:
         ^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 693, in __getattr__
    raise AttributeError(name)
AttributeError: _mock_methods

======================================================================
ERROR: test_queue_email_no_template_found (utils.tests.test_queue_service.TestQueueEmail.test_queue_email_no_template_found)
Missing template should use defaults with warning.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/services/queue_service.py", line 111, in queue_email
    with transaction.atomic():
         ~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/transaction.py", line 198, in __enter__
    if not connection.get_autocommit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/base/base.py", line 454, in get_autocommit
    self.ensure_connection()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/test/testcases.py", line 301, in patched_ensure_connection
    return _DatabaseFailure(self.ensure_connection, message)()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/test/testcases.py", line 192, in __call__
    raise DatabaseOperationForbidden(self.message)
django.test.testcases.DatabaseOperationForbidden: Database threaded connections to 'default' are not allowed in SimpleTestCase subclasses. Either subclass TestCase or TransactionTestCase to ensure proper test isolation or add 'default' to utils.tests.test_queue_service.TestQueueEmail.databases to silence this failure.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_queue_service.py", line 847, in test_queue_email_no_template_found
    result = service.queue_email(
        template_name='missing_template',
        to_emails=['test@test.com'],
        context={'key': 'value'},
    )
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/services/queue_service.py", line 133, in queue_email
    raise Exception(f"Failed to queue email: {str(e)}")
Exception: Failed to queue email: Database threaded connections to 'default' are not allowed in SimpleTestCase subclasses. Either subclass TestCase or TransactionTestCase to ensure proper test isolation or add 'default' to utils.tests.test_queue_service.TestQueueEmail.databases to silence this failure.

======================================================================
ERROR: test_queue_email_with_string_recipient (utils.tests.test_queue_service.TestQueueEmail.test_queue_email_with_string_recipient)
String recipients should be normalized to list.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/services/queue_service.py", line 111, in queue_email
    with transaction.atomic():
         ~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/transaction.py", line 198, in __enter__
    if not connection.get_autocommit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/base/base.py", line 454, in get_autocommit
    self.ensure_connection()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/test/testcases.py", line 301, in patched_ensure_connection
    return _DatabaseFailure(self.ensure_connection, message)()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/test/testcases.py", line 192, in __call__
    raise DatabaseOperationForbidden(self.message)
django.test.testcases.DatabaseOperationForbidden: Database threaded connections to 'default' are not allowed in SimpleTestCase subclasses. Either subclass TestCase or TransactionTestCase to ensure proper test isolation or add 'default' to utils.tests.test_queue_service.TestQueueEmail.databases to silence this failure.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_queue_service.py", line 830, in test_queue_email_with_string_recipient
    result = service.queue_email(
        template_name='test_template',
        to_emails='single@test.com',
        context={'order_id': '123'},
    )
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/services/queue_service.py", line 133, in queue_email
    raise Exception(f"Failed to queue email: {str(e)}")
Exception: Failed to queue email: Database threaded connections to 'default' are not allowed in SimpleTestCase subclasses. Either subclass TestCase or TransactionTestCase to ensure proper test isolation or add 'default' to utils.tests.test_queue_service.TestQueueEmail.databases to silence this failure.

======================================================================
ERROR: test_queue_email_with_subject_override (utils.tests.test_queue_service.TestQueueEmail.test_queue_email_with_subject_override)
Subject override should take precedence over template subject.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/services/queue_service.py", line 111, in queue_email
    with transaction.atomic():
         ~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/transaction.py", line 198, in __enter__
    if not connection.get_autocommit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/db/backends/base/base.py", line 454, in get_autocommit
    self.ensure_connection()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/test/testcases.py", line 301, in patched_ensure_connection
    return _DatabaseFailure(self.ensure_connection, message)()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/work/Documents/Code/Admin3/.venv/lib/python3.14/site-packages/django/test/testcases.py", line 192, in __call__
    raise DatabaseOperationForbidden(self.message)
django.test.testcases.DatabaseOperationForbidden: Database threaded connections to 'default' are not allowed in SimpleTestCase subclasses. Either subclass TestCase or TransactionTestCase to ensure proper test isolation or add 'default' to utils.tests.test_queue_service.TestQueueEmail.databases to silence this failure.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_queue_service.py", line 864, in test_queue_email_with_subject_override
    result = service.queue_email(
        template_name='test',
    ...<2 lines>...
        subject_override='Custom Subject',
    )
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/services/queue_service.py", line 133, in queue_email
    raise Exception(f"Failed to queue email: {str(e)}")
Exception: Failed to queue email: Database threaded connections to 'default' are not allowed in SimpleTestCase subclasses. Either subclass TestCase or TransactionTestCase to ensure proper test isolation or add 'default' to utils.tests.test_queue_service.TestQueueEmail.databases to silence this failure.

======================================================================
FAIL: test_is_material_product_ppv_not_found (cart.tests.test_coverage_gaps.CartServiceEdgeCaseTest.test_is_material_product_ppv_not_found)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/cart/tests/test_coverage_gaps.py", line 1120, in test_is_material_product_ppv_not_found
    self.assertFalse(self.service._is_material_product(item))
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: True is not false

======================================================================
FAIL: test_apply_with_invalid_value_type (filtering.tests.test_filter_service.TestFilterGroupStrategy.test_apply_with_invalid_value_type)
apply handles invalid value types gracefully.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/filtering/tests/test_filter_service.py", line 281, in test_apply_with_invalid_value_type
    with self.assertLogs('filtering.services.filter_service', level='WARNING') as cm:
         ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/_log.py", line 84, in __exit__
    self._raiseFailure(
    ~~~~~~~~~~~~~~~~~~^
        "no logs of level {} or higher triggered on {}"
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        .format(logging.getLevelName(self.level), self.logger.name))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: no logs of level WARNING or higher triggered on filtering.services.filter_service

======================================================================
FAIL: test_calculate_vat_invalid_net_amount (rules_engine.tests.test_coverage_views.TestCalculateVatView.test_calculate_vat_invalid_net_amount)
Should return 400 for invalid net_amount.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_coverage_views.py", line 321, in test_calculate_vat_invalid_net_amount
    self.assertEqual(response.status_code, status.HTTP_400_BAD_REQUEST)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 500 != 400

======================================================================
FAIL: test_execute_with_entry_point_key (rules_engine.tests.test_coverage_views.TestExecuteRulesView.test_execute_with_entry_point_key)
Should accept 'entry_point' (snake_case) as parameter.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_coverage_views.py", line 174, in test_execute_with_entry_point_key
    self.assertEqual(response.status_code, status.HTTP_200_OK)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 400 != 200

======================================================================
FAIL: test_execute_with_entrypoint_key (rules_engine.tests.test_coverage_views.TestExecuteRulesView.test_execute_with_entrypoint_key)
Should accept 'entryPoint' (camelCase) as parameter.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_coverage_views.py", line 164, in test_execute_with_entrypoint_key
    self.assertEqual(response.status_code, status.HTTP_200_OK)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 400 != 200

======================================================================
FAIL: test_execute_with_session_acknowledgments (rules_engine.tests.test_coverage_views.TestExecuteRulesView.test_execute_with_session_acknowledgments)
Should include session acknowledgments in context.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_coverage_views.py", line 229, in test_execute_with_session_acknowledgments
    self.assertEqual(response.status_code, status.HTTP_200_OK)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 400 != 200

======================================================================
FAIL: test_get_template_styles_not_found (rules_engine.tests.test_coverage_views.TestMessageTemplateViewSet.test_get_template_styles_not_found)
Should return 404 for non-existent template.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_coverage_views.py", line 453, in test_get_template_styles_not_found
    self.assertEqual(response.status_code, status.HTTP_404_NOT_FOUND)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 500 != 404

======================================================================
FAIL: test_get_template_styles_success_no_style_config (rules_engine.tests.test_coverage_views.TestMessageTemplateViewSet.test_get_template_styles_success_no_style_config)
Should return global styles when no template style config exists.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_coverage_views.py", line 459, in test_get_template_styles_success_no_style_config
    self.assertEqual(response.status_code, status.HTTP_200_OK)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 500 != 200

======================================================================
FAIL: test_execution_pagination_and_cleanup (rules_engine.tests.test_stage6_rule_execution.Stage6ActedRuleExecutionTests.test_execution_pagination_and_cleanup)
TDD RED: Test execution log pagination and cleanup functionality
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/rules_engine/tests/test_stage6_rule_execution.py", line 597, in test_execution_pagination_and_cleanup
    self.assertEqual(remaining_executions.count(), 25 - old_count)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 27 != 25

======================================================================
FAIL: test_tutorial_product_code_generation (store.tests.test_coverage.TestProductModelProperties.test_tutorial_product_code_generation)
Product code generation for tutorial/other type (lines 88-89).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/store/tests/test_coverage.py", line 316, in test_tutorial_product_code_generation
    self.assertIn(str(product.pk), product.product_code)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: '771' not found in 'CS1/TCSM01LON/2025-09-None'

======================================================================
FAIL: test_command_runs_with_no_users (users.tests.test_views.TestProfileAPIManagementCommandTestCase.test_command_runs_with_no_users)
Test the management command handles the case when no users exist.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/users/tests/test_views.py", line 1049, in test_command_runs_with_no_users
    self.assertIn('Total users: 0', output)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'Total users: 0' not found in "Testing Profile API functionality...\nTotal users: <MagicMock name='objects.none().count()' id='4613918400'>\nTotal profiles: <MagicMock name='objects.none().count()' id='4613917056'>\n\nTesting profile data structure for user: <MagicMock name='objects.none().first().username' id='4638405504'>\nâœ“ Profile data structure test successful\nProfile data preview: {'user': {'id': <MagicMock name='objects.none().first().id' id='4588969264'>, 'username': <MagicMock name='objects.none().first().username' id='4638405504'>, 'email': <MagicMock name='objects.none().first().email' id='4592854624'>, 'first_name': <MagicMock name='objects.none().first().first_name' id='4592855968'>, 'last_name': <MagicMock name='objects.none().first().last_name' id='4592850592'>, 'is_active': <MagicMock name='objects.none().first().is_active' id='4592855632'>}, 'profile': {'title': <MagicMock name='objects.none().first().userprofile.title' id='4592860336'>, 'send_invoices_to': <MagicMock name='objects.none().first().userprofile.send_invoices_to' id='4592857984'>, 'send_study_material_to': <MagicMock name='objects.none().first().userprofile.send_study_material_to' id='4592848240'>, 'remarks': <MagicMock name='objects.none().first().userprofile.remarks' id='4614223056'>}, 'home_address': {'building': <MagicMock name='objects.none().first().userprofile.addresses.filter().first().building' id='4614212640'>, 'street': <MagicMock name='objects.none().first().userprofile.addresses.filter().first().street' id='4614210960'>, 'district': <MagicMock name='objects.none().first().userprofile.addresses.filter().first().district' id='4614211296'>, 'town': <MagicMock name='objects.none().first().userprofile.addresses.filter().first().town' id='4614210288'>, 'county': <MagicMock name='objects.none().first().userprofile.addresses.filter().first().county' id='4614211632'>, 'postcode': <MagicMock name='objects.none().first().userprofile.addresses.filter().first().postcode' id='4614211968'>, 'state': <MagicMock name='objects.none().first().userprofile.addresses.filter().first().state' id='4614209616'>, 'country': <MagicMock name='objects.none().first().userprofile.addresses.filter().first().country' id='4635876320'>}, 'work_address': {'company': <MagicMock name='objects.none().first().userprofile.addresses.filter().first().company' id='4635875984'>, 'department': <MagicMock name='objects.none().first().userprofile.addresses.filter().first().department' id='4635875312'>, 'building': <MagicMock name='objects.none().first().userprofile.addresses.filter().first().building' id='4614212640'>, 'street': <MagicMock name='objects.none().first().userprofile.addresses.filter().first().street' id='4614210960'>, 'district': <MagicMock name='objects.none().first().userprofile.addresses.filter().first().district' id='4614211296'>, 'town': <MagicMock name='objects.none().first().userprofile.addresses.filter().first().town' id='4614210288'>, 'county': <MagicMock name='objects.none().first().userprofile.addresses.filter().first().county' id='4614211632'>, 'postcode': <MagicMock name='objects.none().first().userprofile.addresses.filter().first().postcode' id='4614211968'>, 'state': <MagicMock name='objects.none().first().userprofile.addresses.filter().first().state' id='4614209616'>, 'country': <MagicMock name='objects.none().first().userprofile.addresses.filter().first().country' id='4635876320'>}, 'contact_numbers': {}, 'emails': {}}\nProfile API test completed!\n"

======================================================================
FAIL: test_update_profile_contact_numbers_with_country_codes (users.tests.test_views.UserProfileContactCountryCodeTestCase.test_update_profile_contact_numbers_with_country_codes)
Test PATCH /api/users/update_profile/ with contact number country codes (covers views.py line 293).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1432, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/users/tests/test_views.py", line 897, in test_update_profile_contact_numbers_with_country_codes
    self.assertEqual(response.status_code, status.HTTP_200_OK)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 500 != 200

======================================================================
FAIL: test_create_user_with_work_phone (users.tests.test_views.UserRegistrationSerializerEdgeCaseTestCase.test_create_user_with_work_phone)
Test registration with work phone number (covers serializers.py line 74).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1432, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/users/tests/test_views.py", line 730, in test_create_user_with_work_phone
    self.assertEqual(response.status_code, status.HTTP_201_CREATED)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 500 != 201

======================================================================
FAIL: test_five_regions_created (utils.tests.test_migrations.DataMigrationTestCase.test_five_regions_created)
Test 5 regions created (UK, IE, EU, SA, ROW).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_migrations.py", line 26, in test_five_regions_created
    self.assertEqual(UtilsRegion.objects.count(), 5)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 0 != 5

======================================================================
FAIL: test_add_student_success (students.tests.test_coverage.TestAddStudentUtil.test_add_student_success)
add_student creates user and student within a transaction.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1432, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/students/tests/test_coverage.py", line 242, in test_add_student_success
    mock_create_user.assert_called_once_with(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        username='testuser',
        ^^^^^^^^^^^^^^^^^^^^
        password='pass123',
        ^^^^^^^^^^^^^^^^^^^
        email='test@example.com',
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 996, in assert_called_once_with
    raise AssertionError(msg)
AssertionError: Expected 'create_user' to be called once. Called 0 times.

======================================================================
FAIL: test_add_student_success_minimal (students.tests.test_coverage.TestAddStudentUtil.test_add_student_success_minimal)
add_student works with only required arguments.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1432, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/students/tests/test_coverage.py", line 268, in test_add_student_success_minimal
    mock_create_user.assert_called_once_with(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        username='minimal',
        ^^^^^^^^^^^^^^^^^^^
        password='pass',
        ^^^^^^^^^^^^^^^^
        email='min@example.com',
        ^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 996, in assert_called_once_with
    raise AssertionError(msg)
AssertionError: Expected 'create_user' to be called once. Called 0 times.

======================================================================
FAIL: test_add_student_with_extra_student_data (students.tests.test_coverage.TestAddStudentUtil.test_add_student_with_extra_student_data)
add_student passes additional kwargs to Student.objects.create.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1432, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/students/tests/test_coverage.py", line 326, in test_add_student_with_extra_student_data
    mock_create_student.assert_called_once_with(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        user=mock_user,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        remarks='Test remarks',
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 996, in assert_called_once_with
    raise AssertionError(msg)
AssertionError: Expected 'create' to be called once. Called 0 times.

======================================================================
FAIL: test_bigintegerfield (utils.tests.test_dbf_export_service.TestDbfExportServiceDjangoFieldConversion.test_bigintegerfield)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_dbf_export_service.py", line 79, in test_bigintegerfield
    self.assertEqual(result[2], 18)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
AssertionError: 10 != 18

======================================================================
FAIL: test_datetimefield_splits (utils.tests.test_dbf_export_service.TestDbfExportServiceDjangoFieldConversion.test_datetimefield_splits)
DateTimeField should split into date and time fields.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_dbf_export_service.py", line 121, in test_datetimefield_splits
    self.assertIsInstance(result, list)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
AssertionError: ('TIMESTAMP', 'D', 8, 0) is not an instance of <class 'list'>

======================================================================
FAIL: test_emailfield (utils.tests.test_dbf_export_service.TestDbfExportServiceDjangoFieldConversion.test_emailfield)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_dbf_export_service.py", line 139, in test_emailfield
    self.assertEqual(result[2], 100)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
AssertionError: 254 != 100

======================================================================
FAIL: test_handles_list_return_from_datetime (utils.tests.test_dbf_export_service.TestDbfExportServiceGetModelFieldDefs.test_handles_list_return_from_datetime)
DateTimeField returns list, should extend definitions.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1432, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_dbf_export_service.py", line 586, in test_handles_list_return_from_datetime
    self.assertEqual(len(result), 2)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
AssertionError: 1 != 2

======================================================================
FAIL: test_datetimefield_conversion (utils.tests.test_export_to_dbf.TestDjangoFieldToDbf.test_datetimefield_conversion)
DateTimeField should map to YDBF_DATE (list return).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/unittest/mock.py", line 1432, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_export_to_dbf.py", line 257, in test_datetimefield_conversion
    self.assertIsInstance(result, list)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
AssertionError: ('TIMESTAMP', 'D', 8, 0) is not an instance of <class 'list'>

======================================================================
FAIL: test_clean_datetime_value (utils.tests.test_queue_service.TestCleanContextForSerialization.test_clean_datetime_value)
Datetime values should be converted to ISO format.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_queue_service.py", line 116, in test_clean_datetime_value
    self.assertEqual(result['created'], dt.isoformat())
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: datetime.datetime(2026, 1, 30, 15, 59, 51, 898725, tzinfo=datetime.timezone.utc) != '2026-01-30T15:59:51.898725+00:00'

======================================================================
FAIL: test_clean_nested_dict (utils.tests.test_queue_service.TestCleanContextForSerialization.test_clean_nested_dict)
Nested dicts should be recursively cleaned.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/work/Documents/Code/Admin3/backend/django_Admin3/utils/tests/test_queue_service.py", line 174, in test_clean_nested_dict
    self.assertEqual(result['nested']['created'], dt.isoformat())
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: datetime.datetime(2026, 1, 30, 15, 59, 51, 905600, tzinfo=datetime.timezone.utc) != '2026-01-30T15:59:51.905600+00:00'

----------------------------------------------------------------------
Ran 2185 tests in 229.565s

FAILED (failures=24, errors=376, skipped=67)
Preserving test database for alias 'default'...
