
> admin3@0.1.1 test
> react-scripts test --testPathPattern=CheckoutSteps|CheckoutPage|CartPanel.tutorialRemoval|filterStateManagement --verbose

  console.error
    Error executing checkout_start rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:258:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 271 |[39m         }
     [90m 272 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m         console[33m.[39merror([32m'Error executing checkout_start rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m         [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m         [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Ordering/CheckoutSteps.js:273:17)

  console.error
    An update to CheckoutSteps inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 282 |[39m         }
     [90m 283 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 284 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 285 |[39m       }
     [90m 286 |[39m     }[33m;[39m
     [90m 287 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executeRules (src/components/Ordering/CheckoutSteps.js:284:9)

  console.error
    Error fetching user profile: TypeError: Cannot read properties of undefined (reading 'status')
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:100:20
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 127 |[39m         }
     [90m 128 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 129 |[39m         console[33m.[39merror([32m'Error fetching user profile:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 130 |[39m       } [36mfinally[39m {
     [90m 131 |[39m         setProfileLoading([36mfalse[39m)[33m;[39m
     [90m 132 |[39m       }[0m

      at src/components/Ordering/CheckoutSteps.js:129:17

  console.error
    Error executing checkout_start rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:258:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 271 |[39m         }
     [90m 272 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m         console[33m.[39merror([32m'Error executing checkout_start rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m         [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m         [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Ordering/CheckoutSteps.js:273:17)

  console.error
    Error fetching user profile: TypeError: _userService.default.getUserProfile is not a function
        at fetchUserProfile (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:98:42)
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:207:5
        at Object.react-stack-bottom-frame (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
        at runWithFiberInDEV (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
        at commitHookEffectListMount (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
        at commitHookPassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)
        at flushPassiveEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)
        at flushPendingEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:15702:14)
        at performSyncWorkOnRoot (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:16228:11)
        at flushSyncWorkAcrossRoots_impl (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:16079:21)
        at flushSpawnedWork (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:15677:9)
        at commitRoot (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:15403:9)
        at performWorkOnRoot (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:14526:15)
        at performWorkOnRootViaSchedulerTask (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)
        at flushActQueue (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react/cjs/react.development.js:566:34)
        at Object.<anonymous>.process.env.NODE_ENV.exports.act (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react/cjs/react.development.js:859:10)
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithTheme (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/__tests__/CheckoutSteps.test.js:12:16)
        at Object.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/__tests__/CheckoutSteps.test.js:123:5)
        at Promise.then.completed (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/re  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error executing product_list_mount rules: TypeError: Cannot read properties of undefined (reading 'success')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Product/ProductList.js:243:28)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 271 |[39m                 }
     [90m 272 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m                 console[33m.[39merror([32m'Error executing product_list_mount rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m                 [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m                 [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Product/ProductList.js:273:25)

  console.error
    Error executing checkout_start rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:258:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 271 |[39m         }
     [90m 272 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m         console[33m.[39merror([32m'Error executing checkout_start rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m         [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m         [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Ordering/CheckoutSteps.js:273:17)

  console.error
    An update to CheckoutSteps inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 282 |[39m         }
     [90m 283 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 284 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 285 |[39m       }
     [90m 286 |[39m     }[33m;[39m
     [90m 287 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executeRules (src/components/Ordering/CheckoutSteps.js:284:9)

  console.error
    Error fetching user profile: TypeError: Cannot read properties of undefined (reading 'status')
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:100:20
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 127 |[39m         }
     [90m 128 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 129 |[39m         console[33m.[39merror([32m'Error fetching user profile:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 130 |[39m       } [36mfinally[39m {
     [90m 131 |[39m         setProfileLoading([36mfalse[39m)[33m;[39m
     [90m 132 |[39m       }[0m

      at src/components/Ordering/CheckoutSteps.js:129:17

  console.error
    Error executing checkout_start rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:258:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 271 |[39m         }
     [90m 272 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m         console[33m.[39merror([32m'Error executing checkout_start rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m         [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m         [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Ordering/CheckoutSteps.js:273:17)

  console.error
    Error executing checkout_start rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:258:20)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 271 |[39m         }
     [90m 272 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m         console[33m.[39merror([32m'Error executing checkout_start rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m         [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m         [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Ordering/CheckoutSteps.js:273:17)

  console.error
    Error: No data found at `state.catalogApi`. Did you forget to add the reducer to the store?

    [0m [90m 156 |[39m
     [90m 157 |[39m       [90m// Trigger the search[39m
    [31m[1m>[22m[39m[90m 158 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m triggerSearch(searchParams)[33m.[39munwrap()[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 159 |[39m
     [90m 160 |[39m       [90m// End performance tracking (Story 1.15)[39m
     [90m 161 |[39m       [36mif[39m ([33mPerformanceTracker[39m[33m.[39misSupported()) {[0m

      at selectApiState (node_modules/@reduxjs/toolkit/src/query/core/buildSelectors.ts:107:17)
      at selectQueries (node_modules/@reduxjs/toolkit/src/query/core/buildSelectors.ts:113:12)
      at Object.selectQueryEntry (node_modules/@reduxjs/toolkit/src/query/core/buildSelectors.ts:116:12)
      at Object.call [as condition] (node_modules/@reduxjs/toolkit/src/query/core/buildThunks.ts:523:40)
      at node_modules/@reduxjs/toolkit/src/createAsyncThunk.ts:331:35
      at node_modules/@reduxjs/toolkit/src/createAsyncThunk.ts:400:9
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:30:14)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:301:14
      at dispatch (node_modules/redux/src/applyMiddleware.ts:52:38)
      at node_modules/@reduxjs/toolkit/src/query/core/buildInitiate.ts:274:27
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:30:14)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:301:14)
      at node_modules/@reduxjs/toolkit/src/query/react/buildHooks.ts:1186:42
      at batch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at triggerSearch (node_modules/@reduxjs/toolkit/src/query/react/buildHooks.ts:1184:9)
      at executeSearch (src/hooks/useProductsSearch.js:158:28)
      at src/hooks/useProductsSearch.js:277:9
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

  console.error
    An update to CheckoutSteps inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 282 |[39m         }
     [90m 283 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 284 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 285 |[39m       }
     [90m 286 |[39m     }[33m;[39m
     [90m 287 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executeRules (src/components/Ordering/CheckoutSteps.js:284:9)

act-scripts/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-runner/build/testWorker.js:133:12)

    [0m [90m 127 |[39m         }
     [90m 128 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 129 |[39m         console[33m.[39merror([32m'Error fetching user profile:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 130 |[39m       } [36mfinally[39m {
     [90m 131 |[39m         setProfileLoading([36mfalse[39m)[33m;[39m
     [90m 132 |[39m       }[0m

      at fetchUserProfile (src/components/Ordering/CheckoutSteps.js:129:17)
      at src/components/Ordering/CheckoutSteps.js:207:5
      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15702:14)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16228:11)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:16079:21)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:15677:9)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:15403:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14526:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithTheme (src/components/Ordering/__tests__/CheckoutSteps.test.js:12:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/CheckoutSteps.test.js:123:5)

  console.error
    Error fetching user profile: TypeError: _userService.default.getUserProfile is not a function
        at fetchUserProfile (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:98:42)
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:207:5
        at Object.react-stack-bottom-frame (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
        at runWithFiberInDEV (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
        at commitHookEffectListMount (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
        at commitHookPassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)
        at flushPassiveEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)
        at flushPendingEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:15702:14)
        at performSyncWorkOnRoot (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:16228:11)
        at flushSyncWorkAcrossRoots_impl (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:16079:21)
        at flushSpawnedWork (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:15677:9)
        at commitRoot (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:15403:9)
        at performWorkOnRoot (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:14526:15)
        at performWorkOnRootViaSchedulerTask (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)
        at flushActQueue (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react/cjs/react.development.js:566:34)
        at Object.<anonymous>.process.env.NODE_ENV.exports.act (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react/cjs/react.development.js:859:10)
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithTheme (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/__tests__/CheckoutSteps.test.js:12:16)
        at Object.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/__tests__/CheckoutSteps.test.js:230:5)
        at Promise.then.completed (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/run.js:218:40)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)
        at _runTest (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-runner/build/testWorker.js:133:12)

    [0m [90m 127 |[39m         }
     [90m 128 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 129 |[39m         console[33m.[39merror([32m'Error fetching user profile:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 130 |[39m       } [36mfinally[39m {
     [90m 131 |[39m         setProfileLoading([36mfalse[39m)[33m;[39m
     [90m 132 |[39m       }[0m

      at fetchUserProfile (src/components/Ordering/CheckoutSteps.js:129:17)
      at src/components/Ordering/CheckoutSteps.js:207:5
      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15702:14)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16228:11)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:16079:21)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:15677:9)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:15403:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14526:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithTheme (src/components/Ordering/__tests__/CheckoutSteps.test.js:12:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/CheckoutSteps.test.js:230:5)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    üîç [SEARCH] Search failed: Error: Warning: Middleware for RTK-Query API at reducerPath "catalogApi" has not been added to the store.
    You must add the middleware for RTK-Query to function correctly!
        at middlewareWarning (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/@reduxjs/toolkit/src/query/core/buildInitiate.ts:228:15)
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/@reduxjs/toolkit/src/query/core/buildInitiate.ts:276:7
        at next (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:30:14)
        at next (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
        at next (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
        at dispatch (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:301:14)
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/@reduxjs/toolkit/src/query/react/buildHooks.ts:1186:42
        at batch (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-redux/src/utils/batch.ts:3:3)
        at triggerSearch (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/@reduxjs/toolkit/src/query/react/buildHooks.ts:1184:9)
        at executeSearch (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/hooks/useProductsSearch.js:158:28)
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/hooks/useProductsSearch.js:277:9
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 191 |[39m       
     [90m 192 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 193 |[39m       console[33m.[39merror([32m'üîç [SEARCH] Search failed:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 194 |[39m       
     [90m 195 |[39m       [90m// Format error message consistently[39m
     [90m 196 |[39m       [36mlet[39m errorMessage [33m=[39m [32m'Search request failed'[39m[33m;[39m[0m

      at executeSearch (src/hooks/useProductsSearch.js:193:15)
      at src/hooks/useProductsSearch.js:277:9
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

  console.error
    An update to FilterPanel inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 262 |[39m     [90m// When: User selects CB1 subject[39m
     [90m 263 |[39m     [36mconst[39m setSubjects [33m=[39m ([36mawait[39m [36mimport[39m([32m'../../../store/slices/filtersSlice'[39m))[33m.[39msetSubjects[33m;[39m
    [31m[1m>[22m[39m[90m 264 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 265 |[39m
     [90m 266 |[39m     [90m// Then: URL updates immediately[39m
     [90m 267 |[39m     [36mawait[39m waitFor(() [33m=>[39m {[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:264:11)

  console.error
    An update to FilterPanel inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 262 |[39m     [90m// When: User selects CB1 subject[39m
     [90m 263 |[39m     [36mconst[39m setSubjects [33m=[39m ([36mawait[39m [36mimport[39m([32m'../../../store/slices/filtersSlice'[39m))[33m.[39msetSubjects[33m;[39m
    [31m[1m>[22m[39m[90m 264 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 265 |[39m
     [90m 266 |[39m     [90m// Then: URL updates immediately[39m
     [90m 267 |[39m     [36mawait[39m waitFor(() [33m=>[39m {[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:264:11)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    An update to FilterPanel inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 274 |[39m     mockReplaceState[33m.[39mmockClear()[33m;[39m
     [90m 275 |[39m     [36mconst[39m setCategories [33m=[39m ([36mawait[39m [36mimport[39m([32m'../../../store/slices/filtersSlice'[39m))[33m.[39msetCategories[33m;[39m
    [31m[1m>[22m[39m[90m 276 |[39m     store[33m.[39mdispatch(setCategories([[32m'MAT'[39m]))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 277 |[39m
     [90m 278 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
     [90m 279 |[39m       expect(mockReplaceState)[33m.[39mtoHaveBeenCalled()[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:276:11)

  console.error
    An update to FilterPanel inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 274 |[39m     mockReplaceState[33m.[39mmockClear()[33m;[39m
     [90m 275 |[39m     [36mconst[39m setCategories [33m=[39m ([36mawait[39m [36mimport[39m([32m'../../../store/slices/filtersSlice'[39m))[33m.[39msetCategories[33m;[39m
    [31m[1m>[22m[39m[90m 276 |[39m     store[33m.[39mdispatch(setCategories([[32m'MAT'[39m]))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 277 |[39m
     [90m 278 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
     [90m 279 |[39m       expect(mockReplaceState)[33m.[39mtoHaveBeenCalled()[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:276:11)

  console.error
    Error executing product_list_mount rules: TypeError: Cannot read properties of undefined (reading 'success')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Product/ProductList.js:243:28)

    [0m [90m 271 |[39m                 }
     [90m 272 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m                 console[33m.[39merror([32m'Error executing product_list_mount rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m                 [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m                 [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Product/ProductList.js:273:25)

  console.error
    An update to ProductList inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 289 |[39m                 [90m// Don't show other rule engine errors to user - shouldn't block product list[39m
     [90m 290 |[39m             } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 291 |[39m                 setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 292 |[39m             }
     [90m 293 |[39m         }[33m;[39m
     [90m 294 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executeRules (src/components/Product/ProductList.js:291:17)

  console.error
    An update to ActiveFilters inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 439 |[39m
     [90m 440 |[39m     [36mconst[39m setSubjects [33m=[39m ([36mawait[39m [36mimport[39m([32m'../../../store/slices/filtersSlice'[39m))[33m.[39msetSubjects[33m;[39m
    [31m[1m>[22m[39m[90m 441 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 442 |[39m
     [90m 443 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
     [90m 444 |[39m       expect(mockReplaceState)[33m.[39mtoHaveBeenCalled()[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:441:11)

  console.error
    An update to ActiveFilters inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 439 |[39m
     [90m 440 |[39m     [36mconst[39m setSubjects [33m=[39m ([36mawait[39m [36mimport[39m([32m'../../../store/slices/filtersSlice'[39m))[33m.[39msetSubjects[33m;[39m
    [31m[1m>[22m[39m[90m 441 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 442 |[39m
     [90m 443 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
     [90m 444 |[39m       expect(mockReplaceState)[33m.[39mtoHaveBeenCalled()[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:441:11)

  console.error
    An update to FilterPanel inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 439 |[39m
     [90m 440 |[39m     [36mconst[39m setSubjects [33m=[39m ([36mawait[39m [36mimport[39m([32m'../../../store/slices/filtersSlice'[39m))[33m.[39msetSubjects[33m;[39m
    [31m[1m>[22m[39m[90m 441 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 442 |[39m
     [90m 443 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
     [90m 444 |[39m       expect(mockReplaceState)[33m.[39mtoHaveBeenCalled()[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:441:11)

  console.error
    Error fetching user profile: TypeError: _userService.default.getUserProfile is not a function
        at fetchUserProfile (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:98:42)
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:207:5
        at Object.react-stack-bottom-frame (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
        at runWithFiberInDEV (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
        at commitHookEffectListMount (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
        at commitHookPassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)
        at flushPassiveEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)
        at flushPendingEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:15702:14)
        at performSyncWorkOnRoot (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:16228:11)
        at flushSyncWorkAcrossRoots_impl (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:16079:21)
        at flushSpawnedWork (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:15677:9)
        at commitRoot (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:15403:9)
        at performWorkOnRoot (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:14526:15)
        at performWorkOnRootViaSchedulerTask (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)
        at flushActQueue (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react/cjs/react.development.js:566:34)
        at Object.<anonymous>.process.env.NODE_ENV.exports.act (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react/cjs/react.development.js:859:10)
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithTheme (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/__tests__/CheckoutSteps.test.js:12:16)
        at Object.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/__tests__/CheckoutSteps.test.js:284:5)
        at Promise.then.completed (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/run.js:218:40)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)
        at _runTest (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/run.js:66:9)
        at _run  console.error
    An update to FilterPanel inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 439 |[39m
     [90m 440 |[39m     [36mconst[39m setSubjects [33m=[39m ([36mawait[39m [36mimport[39m([32m'../../../store/slices/filtersSlice'[39m))[33m.[39msetSubjects[33m;[39m
    [31m[1m>[22m[39m[90m 441 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 442 |[39m
     [90m 443 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
     [90m 444 |[39m       expect(mockReplaceState)[33m.[39mtoHaveBeenCalled()[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:441:11)

  console.error
    An update to ProductList inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 439 |[39m
     [90m 440 |[39m     [36mconst[39m setSubjects [33m=[39m ([36mawait[39m [36mimport[39m([32m'../../../store/slices/filtersSlice'[39m))[33m.[39msetSubjects[33m;[39m
    [31m[1m>[22m[39m[90m 441 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 442 |[39m
     [90m 443 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
     [90m 444 |[39m       expect(mockReplaceState)[33m.[39mtoHaveBeenCalled()[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:441:11)

  console.error
    An update to ProductList inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 439 |[39m
     [90m 440 |[39m     [36mconst[39m setSubjects [33m=[39m ([36mawait[39m [36mimport[39m([32m'../../../store/slices/filtersSlice'[39m))[33m.[39msetSubjects[33m;[39m
    [31m[1m>[22m[39m[90m 441 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 442 |[39m
     [90m 443 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
     [90m 444 |[39m       expect(mockReplaceState)[33m.[39mtoHaveBeenCalled()[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:441:11)

  console.error
    Error executing product_list_mount rules: TypeError: Cannot read properties of undefined (reading 'success')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Product/ProductList.js:243:28)

    [0m [90m 271 |[39m                 }
     [90m 272 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m                 console[33m.[39merror([32m'Error executing product_list_mount rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m                 [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m                 [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Product/ProductList.js:273:25)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    Error executing checkout_start rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:258:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 271 |[39m         }
     [90m 272 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m         console[33m.[39merror([32m'Error executing checkout_start rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m         [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m         [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Ordering/CheckoutSteps.js:273:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    An update to CheckoutSteps inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 282 |[39m         }
     [90m 283 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 284 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 285 |[39m       }
     [90m 286 |[39m     }[33m;[39m
     [90m 287 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executeRules (src/components/Ordering/CheckoutSteps.js:284:9)

  console.error
    Error executing product_list_mount rules: TypeError: Cannot read properties of undefined (reading 'success')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Product/ProductList.js:243:28)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 271 |[39m                 }
     [90m 272 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m                 console[33m.[39merror([32m'Error executing product_list_mount rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m                 [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m                 [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Product/ProductList.js:273:25)

TestsForDescribeBlock (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-runner/build/testWorker.js:133:12)

    [0m [90m 127 |[39m         }
     [90m 128 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 129 |[39m         console[33m.[39merror([32m'Error fetching user profile:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 130 |[39m       } [36mfinally[39m {
     [90m 131 |[39m         setProfileLoading([36mfalse[39m)[33m;[39m
     [90m 132 |[39m       }[0m

      at fetchUserProfile (src/components/Ordering/CheckoutSteps.js:129:17)
      at src/components/Ordering/CheckoutSteps.js:207:5
      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15702:14)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16228:11)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:16079:21)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:15677:9)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:15403:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14526:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithTheme (src/components/Ordering/__tests__/CheckoutSteps.test.js:12:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/CheckoutSteps.test.js:284:5)

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

  console.error
    Error executing product_list_mount rules: TypeError: Cannot read properties of undefined (reading 'success')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Product/ProductList.js:243:28)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 271 |[39m                 }
     [90m 272 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m                 console[33m.[39merror([32m'Error executing product_list_mount rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m                 [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m                 [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Product/ProductList.js:273:25)

  console.error
    An update to ProductList inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 289 |[39m                 [90m// Don't show other rule engine errors to user - shouldn't block product list[39m
     [90m 290 |[39m             } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 291 |[39m                 setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 292 |[39m             }
     [90m 293 |[39m         }[33m;[39m
     [90m 294 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executeRules (src/components/Product/ProductList.js:291:17)

  console.error
    An update to ActiveFilters inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 482 |[39m
     [90m 483 |[39m     [90m// Apply search and filters together[39m
    [31m[1m>[22m[39m[90m 484 |[39m     store[33m.[39mdispatch(setSearchQuery([32m'exam materials'[39m))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 485 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m 486 |[39m
     [90m 487 |[39m     [90m// Verify both in Redux[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:484:11)

  console.error
    An update to ActiveFilters inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 482 |[39m
     [90m 483 |[39m     [90m// Apply search and filters together[39m
    [31m[1m>[22m[39m[90m 484 |[39m     store[33m.[39mdispatch(setSearchQuery([32m'exam materials'[39m))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 485 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m 486 |[39m
     [90m 487 |[39m     [90m// Verify both in Redux[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:484:11)

  console.error
    An update to ActiveFilters inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 482 |[39m
     [90m 483 |[39m     [90m// Apply search and filters together[39m
    [31m[1m>[22m[39m[90m 484 |[39m     store[33m.[39mdispatch(setSearchQuery([32m'exam materials'[39m))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 485 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m 486 |[39m
     [90m 487 |[39m     [90m// Verify both in Redux[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:484:11)

  console.error
    An update to FilterPanel inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 482 |[39m
     [90m 483 |[39m     [90m// Apply search and filters together[39m
    [31m[1m>[22m[39m[90m 484 |[39m     store[33m.[39mdispatch(setSearchQuery([32m'exam materials'[39m))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 485 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m 486 |[39m
     [90m 487 |[39m     [90m// Verify both in Redux[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:484:11)

  console.error
    An update to ProductList inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 482 |[39m
     [90m 483 |[39m     [90m// Apply search and filters together[39m
    [31m[1m>[22m[39m[90m 484 |[39m     store[33m.[39mdispatch(setSearchQuery([32m'exam materials'[39m))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 485 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m 486 |[39m
     [90m 487 |[39m     [90m// Verify both in Redux[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:484:11)

  console.error
    An update to ProductList inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 482 |[39m
     [90m 483 |[39m     [90m// Apply search and filters together[39m
    [31m[1m>[22m[39m[90m 484 |[39m     store[33m.[39mdispatch(setSearchQuery([32m'exam materials'[39m))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 485 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m 486 |[39m
     [90m 487 |[39m     [90m// Verify both in Redux[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:484:11)

  console.error
    An update to ProductList inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 482 |[39m
     [90m 483 |[39m     [90m// Apply search and filters together[39m
    [31m[1m>[22m[39m[90m 484 |[39m     store[33m.[39mdispatch(setSearchQuery([32m'exam materials'[39m))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 485 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m 486 |[39m
     [90m 487 |[39m     [90m// Verify both in Redux[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:484:11)

  console.error
    An update to ProductList inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 482 |[39m
     [90m 483 |[39m     [90m// Apply search and filters together[39m
    [31m[1m>[22m[39m[90m 484 |[39m     store[33m.[39mdispatch(setSearchQuery([32m'exam materials'[39m))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 485 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m 486 |[39m
     [90m 487 |[39m     [90m// Verify both in Redux[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:484:11)

  console.error
    Error fetching user profile: TypeError: Cannot read properties of undefined (reading 'status')
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:100:20
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 127 |[39m         }
     [90m 128 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 129 |[39m         console[33m.[39merror([32m'Error fetching user profile:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 130 |[39m       } [36mfinally[39m {
     [90m 131 |[39m         setProfileLoading([36mfalse[39m)[33m;[39m
     [90m 132 |[39m       }[0m

      at src/components/Ordering/CheckoutSteps.js:129:17

  console.error
    An update to ActiveFilters inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 483 |[39m     [90m// Apply search and filters together[39m
     [90m 484 |[39m     store[33m.[39mdispatch(setSearchQuery([32m'exam materials'[39m))[33m;[39m
    [31m[1m>[22m[39m[90m 485 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 486 |[39m
     [90m 487 |[39m     [90m// Verify both in Redux[39m
     [90m 488 |[39m     [36mconst[39m state [33m=[39m store[33m.[39mgetState()[33m.[39mfilters[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:485:11)

  console.error
    Error executing checkout_start rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:258:20)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 271 |[39m         }
     [90m 272 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m         console[33m.[39merror([32m'Error executing checkout_start rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m         [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m         [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Ordering/CheckoutSteps.js:273:17)

  console.error
    An update to ActiveFilters inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 483 |[39m     [90m// Apply search and filters together[39m
     [90m 484 |[39m     store[33m.[39mdispatch(setSearchQuery([32m'exam materials'[39m))[33m;[39m
    [31m[1m>[22m[39m[90m 485 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 486 |[39m
     [90m 487 |[39m     [90m// Verify both in Redux[39m
     [90m 488 |[39m     [36mconst[39m state [33m=[39m store[33m.[39mgetState()[33m.[39mfilters[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:485:11)

  console.error
    An update to ActiveFilters inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 483 |[39m     [90m// Apply search and filters together[39m
     [90m 484 |[39m     store[33m.[39mdispatch(setSearchQuery([32m'exam materials'[39m))[33m;[39m
    [31m[1m>[22m[39m[90m 485 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 486 |[39m
     [90m 487 |[39m     [90m// Verify both in Redux[39m
     [90m 488 |[39m     [36mconst[39m state [33m=[39m store[33m.[39mgetState()[33m.[39mfilters[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:485:11)

  console.error
    An update to FilterPanel inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 483 |[39m     [90m// Apply search and filters together[39m
     [90m 484 |[39m     store[33m.[39mdispatch(setSearchQuery([32m'exam materials'[39m))[33m;[39m
    [31m[1m>[22m[39m[90m 485 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 486 |[39m
     [90m 487 |[39m     [90m// Verify both in Redux[39m
     [90m 488 |[39m     [36mconst[39m state [33m=[39m store[33m.[39mgetState()[33m.[39mfilters[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:485:11)

  console.error
    An update to FilterPanel inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 483 |[39m     [90m// Apply search and filters together[39m
     [90m 484 |[39m     store[33m.[39mdispatch(setSearchQuery([32m'exam materials'[39m))[33m;[39m
    [31m[1m>[22m[39m[90m 485 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 486 |[39m
     [90m 487 |[39m     [90m// Verify both in Redux[39m
     [90m 488 |[39m     [36mconst[39m state [33m=[39m store[33m.[39mgetState()[33m.[39mfilters[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:485:11)

  console.error
    An update to ProductList inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 483 |[39m     [90m// Apply search and filters together[39m
     [90m 484 |[39m     store[33m.[39mdispatch(setSearchQuery([32m'exam materials'[39m))[33m;[39m
    [31m[1m>[22m[39m[90m 485 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 486 |[39m
     [90m 487 |[39m     [90m// Verify both in Redux[39m
     [90m 488 |[39m     [36mconst[39m state [33m=[39m store[33m.[39mgetState()[33m.[39mfilters[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:485:11)

  console.error
    An update to ProductList inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 483 |[39m     [90m// Apply search and filters together[39m
     [90m 484 |[39m     store[33m.[39mdispatch(setSearchQuery([32m'exam materials'[39m))[33m;[39m
    [31m[1m>[22m[39m[90m 485 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 486 |[39m
     [90m 487 |[39m     [90m// Verify both in Redux[39m
     [90m 488 |[39m     [36mconst[39m state [33m=[39m store[33m.[39mgetState()[33m.[39mfilters[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:485:11)

  console.error
    An update to ProductList inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 483 |[39m     [90m// Apply search and filters together[39m
     [90m 484 |[39m     store[33m.[39mdispatch(setSearchQuery([32m'exam materials'[39m))[33m;[39m
    [31m[1m>[22m[39m[90m 485 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 486 |[39m
     [90m 487 |[39m     [90m// Verify both in Redux[39m
     [90m 488 |[39m     [36mconst[39m state [33m=[39m store[33m.[39mgetState()[33m.[39mfilters[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:485:11)

  console.error
    An update to ProductList inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 483 |[39m     [90m// Apply search and filters together[39m
     [90m 484 |[39m     store[33m.[39mdispatch(setSearchQuery([32m'exam materials'[39m))[33m;[39m
    [31m[1m>[22m[39m[90m 485 |[39m     store[33m.[39mdispatch(setSubjects([[32m'CB1'[39m]))[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 486 |[39m
     [90m 487 |[39m     [90m// Verify both in Redux[39m
     [90m 488 |[39m     [36mconst[39m state [33m=[39m store[33m.[39mgetState()[33m.[39mfilters[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)
      at Object.callback (node_modules/react-dom/cjs/react-dom-client.development.js:6109:41)
      at node_modules/react-redux/src/utils/Subscription.ts:29:20
      at defaultNoopBatch (node_modules/react-redux/src/utils/batch.ts:3:3)
      at Object.notify (node_modules/react-redux/src/utils/Subscription.ts:26:7)
      at Object.notifyNestedSubs (node_modules/react-redux/src/utils/Subscription.ts:124:15)
      at listener2 (node_modules/react-redux/src/utils/Subscription.ts:129:20)
      at wrappedListener (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:79:67)
      at node_modules/redux/src/createStore.ts:220:7
          at Map.forEach (<anonymous>)
      at Object.dispatch (node_modules/redux/src/createStore.ts:219:15)
      at next (node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts:112:22)
      at node_modules/@reduxjs/toolkit/src/serializableStateInvariantMiddleware.ts:169:22
      at next (node_modules/redux-thunk/dist/cjs/redux-thunk.cjs:32:12)
      at next (node_modules/@reduxjs/toolkit/src/immutableStateInvariantMiddleware.ts:174:34)
      at next (node_modules/@reduxjs/toolkit/src/actionCreatorInvariantMiddleware.ts:29:12)
      at Object.dispatch (node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts:328:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/filterStateManagement.test.js:485:11)

  console.error
    Failed to load countries: TypeError: Network request failed
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/whatwg-fetch/dist/fetch.umd.js:567:18
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 117 |[39m         }
     [90m 118 |[39m       })
    [31m[1m>[22m[39m[90m 119 |[39m       [33m.[39m[36mcatch[39m((err) [33m=>[39m console[33m.[39merror([32m"Failed to load countries:"[39m[33m,[39m err))[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 120 |[39m   }[33m,[39m [])[33m;[39m
     [90m 121 |[39m
     [90m 122 |[39m   [90m// Validation functions[39m[0m

      at src/components/Common/CommunicationDetailsPanel.js:119:31

  console.error
    Failed to load countries: TypeError: Network request failed
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/whatwg-fetch/dist/fetch.umd.js:567:18
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 117 |[39m         }
     [90m 118 |[39m       })
    [31m[1m>[22m[39m[90m 119 |[39m       [33m.[39m[36mcatch[39m((err) [33m=>[39m console[33m.[39merror([32m"Failed to load countries:"[39m[33m,[39m err))[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 120 |[39m   }[33m,[39m [])[33m;[39m
     [90m 121 |[39m
     [90m 122 |[39m   [90m// Validation functions[39m[0m

      at src/components/Common/CommunicationDetailsPanel.js:119:31

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error executing product_list_mount rules: TypeError: Cannot read properties of undefined (reading 'success')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Product/ProductList.js:243:28)

    [0m [90m 271 |[39m                 }
     [90m 272 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m                 console[33m.[39merror([32m'Error executing product_list_mount rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m                 [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m                 [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Product/ProductList.js:273:25)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error fetching user profile: TypeError: _userService.default.getUserProfile is not a function
        at fetchUserProfile (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:98:42)
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:207:5
        at Object.react-stack-bottom-frame (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
        at runWithFiberInDEV (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
        at commitHookEffectListMount (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
        at commitHookPassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
        at recursivelyTraversePassiveMountEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
        at commitPassiveMountOnFiber (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)
        at flushPassiveEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)
        at flushPendingEffects (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:15702:14)
        at performSyncWorkOnRoot (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:16228:11)
        at flushSyncWorkAcrossRoots_impl (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:16079:21)
        at flushSpawnedWork (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:15677:9)
        at commitRoot (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:15403:9)
        at performWorkOnRoot (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:14526:15)
        at performWorkOnRootViaSchedulerTask (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)
        at flushActQueue (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react/cjs/react.development.js:566:34)
        at Object.<anonymous>.process.env.NODE_ENV.exports.act (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react/cjs/react.development.js:859:10)
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithTheme (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/__tests__/CheckoutSteps.test.js:12:16)
        at Object.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/__tests__/CheckoutSteps.test.js:329:5)
        at Promise.then.completed (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/run.js:218:40)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)
        at _runTest (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/run.js:66:9)
        at _run  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    Error executing checkout_start rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:258:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 271 |[39m         }
     [90m 272 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m         console[33m.[39merror([32m'Error executing checkout_start rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m         [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m         [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Ordering/CheckoutSteps.js:273:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error fetching user profile: TypeError: Cannot read properties of undefined (reading 'status')
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:100:20
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 127 |[39m         }
     [90m 128 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 129 |[39m         console[33m.[39merror([32m'Error fetching user profile:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 130 |[39m       } [36mfinally[39m {
     [90m 131 |[39m         setProfileLoading([36mfalse[39m)[33m;[39m
     [90m 132 |[39m       }[0m

      at src/components/Ordering/CheckoutSteps.js:129:17

  console.error
    An update to CheckoutSteps inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 282 |[39m         }
     [90m 283 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 284 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 285 |[39m       }
     [90m 286 |[39m     }[33m;[39m
     [90m 287 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executeRules (src/components/Ordering/CheckoutSteps.js:284:9)

  console.error
    Error executing checkout_start rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:258:20)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 271 |[39m         }
     [90m 272 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m         console[33m.[39merror([32m'Error executing checkout_start rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m         [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m         [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Ordering/CheckoutSteps.js:273:17)

TestsForDescribeBlock (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/react-scripts/node_modules/jest-runner/build/testWorker.js:133:12)

    [0m [90m 127 |[39m         }
     [90m 128 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 129 |[39m         console[33m.[39merror([32m'Error fetching user profile:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 130 |[39m       } [36mfinally[39m {
     [90m 131 |[39m         setProfileLoading([36mfalse[39m)[33m;[39m
     [90m 132 |[39m       }[0m

      at fetchUserProfile (src/components/Ordering/CheckoutSteps.js:129:17)
      at src/components/Ordering/CheckoutSteps.js:207:5
      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15702:14)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16228:11)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:16079:21)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:15677:9)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:15403:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14526:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithTheme (src/components/Ordering/__tests__/CheckoutSteps.test.js:12:16)
      at Object.<anonymous> (src/components/Ordering/__tests__/CheckoutSteps.test.js:329:5)

  console.error
    Failed to load countries: TypeError: Network request failed
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/whatwg-fetch/dist/fetch.umd.js:567:18
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 117 |[39m         }
     [90m 118 |[39m       })
    [31m[1m>[22m[39m[90m 119 |[39m       [33m.[39m[36mcatch[39m((err) [33m=>[39m console[33m.[39merror([32m"Failed to load countries:"[39m[33m,[39m err))[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 120 |[39m   }[33m,[39m [])[33m;[39m
     [90m 121 |[39m
     [90m 122 |[39m   [90m// Validation functions[39m[0m

      at src/components/Common/CommunicationDetailsPanel.js:119:31

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

  console.error
    Failed to load countries: TypeError: Network request failed
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/whatwg-fetch/dist/fetch.umd.js:567:18
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 117 |[39m         }
     [90m 118 |[39m       })
    [31m[1m>[22m[39m[90m 119 |[39m       [33m.[39m[36mcatch[39m((err) [33m=>[39m console[33m.[39merror([32m"Failed to load countries:"[39m[33m,[39m err))[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 120 |[39m   }[33m,[39m [])[33m;[39m
     [90m 121 |[39m
     [90m 122 |[39m   [90m// Validation functions[39m[0m

      at src/components/Common/CommunicationDetailsPanel.js:119:31

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    Failed to load countries: TypeError: Network request failed
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/whatwg-fetch/dist/fetch.umd.js:567:18
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 117 |[39m         }
     [90m 118 |[39m       })
    [31m[1m>[22m[39m[90m 119 |[39m       [33m.[39m[36mcatch[39m((err) [33m=>[39m console[33m.[39merror([32m"Failed to load countries:"[39m[33m,[39m err))[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 120 |[39m   }[33m,[39m [])[33m;[39m
     [90m 121 |[39m
     [90m 122 |[39m   [90m// Validation functions[39m[0m

      at src/components/Common/CommunicationDetailsPanel.js:119:31

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Failed to load countries: TypeError: Network request failed
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/whatwg-fetch/dist/fetch.umd.js:567:18
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 117 |[39m         }
     [90m 118 |[39m       })
    [31m[1m>[22m[39m[90m 119 |[39m       [33m.[39m[36mcatch[39m((err) [33m=>[39m console[33m.[39merror([32m"Failed to load countries:"[39m[33m,[39m err))[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 120 |[39m   }[33m,[39m [])[33m;[39m
     [90m 121 |[39m
     [90m 122 |[39m   [90m// Validation functions[39m[0m

      at src/components/Common/CommunicationDetailsPanel.js:119:31

  console.error
    Failed to load countries: TypeError: Network request failed
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/whatwg-fetch/dist/fetch.umd.js:567:18
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 117 |[39m         }
     [90m 118 |[39m       })
    [31m[1m>[22m[39m[90m 119 |[39m       [33m.[39m[36mcatch[39m((err) [33m=>[39m console[33m.[39merror([32m"Failed to load countries:"[39m[33m,[39m err))[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 120 |[39m   }[33m,[39m [])[33m;[39m
     [90m 121 |[39m
     [90m 122 |[39m   [90m// Validation functions[39m[0m

      at src/components/Common/CommunicationDetailsPanel.js:119:31

  console.error
    Failed to load countries: TypeError: Network request failed
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/whatwg-fetch/dist/fetch.umd.js:567:18
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 117 |[39m         }
     [90m 118 |[39m       })
    [31m[1m>[22m[39m[90m 119 |[39m       [33m.[39m[36mcatch[39m((err) [33m=>[39m console[33m.[39merror([32m"Failed to load countries:"[39m[33m,[39m err))[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 120 |[39m   }[33m,[39m [])[33m;[39m
     [90m 121 |[39m
     [90m 122 |[39m   [90m// Validation functions[39m[0m

      at src/components/Common/CommunicationDetailsPanel.js:119:31

  console.error
    Failed to load countries: TypeError: Network request failed
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/whatwg-fetch/dist/fetch.umd.js:567:18
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 117 |[39m         }
     [90m 118 |[39m       })
    [31m[1m>[22m[39m[90m 119 |[39m       [33m.[39m[36mcatch[39m((err) [33m=>[39m console[33m.[39merror([32m"Failed to load countries:"[39m[33m,[39m err))[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 120 |[39m   }[33m,[39m [])[33m;[39m
     [90m 121 |[39m
     [90m 122 |[39m   [90m// Validation functions[39m[0m

      at src/components/Common/CommunicationDetailsPanel.js:119:31

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

  console.error
    Failed to load countries: TypeError: Network request failed
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/whatwg-fetch/dist/fetch.umd.js:567:18
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 117 |[39m         }
     [90m 118 |[39m       })
    [31m[1m>[22m[39m[90m 119 |[39m       [33m.[39m[36mcatch[39m((err) [33m=>[39m console[33m.[39merror([32m"Failed to load countries:"[39m[33m,[39m err))[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 120 |[39m   }[33m,[39m [])[33m;[39m
     [90m 121 |[39m
     [90m 122 |[39m   [90m// Validation functions[39m[0m

      at src/components/Common/CommunicationDetailsPanel.js:119:31

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error executing checkout_start rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:258:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 271 |[39m         }
     [90m 272 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m         console[33m.[39merror([32m'Error executing checkout_start rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m         [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m         [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Ordering/CheckoutSteps.js:273:17)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    An update to CheckoutSteps inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 282 |[39m         }
     [90m 283 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 284 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 285 |[39m       }
     [90m 286 |[39m     }[33m;[39m
     [90m 287 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executeRules (src/components/Ordering/CheckoutSteps.js:284:9)

  console.error
    Error fetching user profile: TypeError: Cannot read properties of undefined (reading 'status')
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:100:20
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 127 |[39m         }
     [90m 128 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 129 |[39m         console[33m.[39merror([32m'Error fetching user profile:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 130 |[39m       } [36mfinally[39m {
     [90m 131 |[39m         setProfileLoading([36mfalse[39m)[33m;[39m
     [90m 132 |[39m       }[0m

      at src/components/Ordering/CheckoutSteps.js:129:17

  console.error
    Error executing checkout_start rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:258:20)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 271 |[39m         }
     [90m 272 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m         console[33m.[39merror([32m'Error executing checkout_start rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m         [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m         [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Ordering/CheckoutSteps.js:273:17)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Failed to load countries: TypeError: Network request failed
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/whatwg-fetch/dist/fetch.umd.js:567:18
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 117 |[39m         }
     [90m 118 |[39m       })
    [31m[1m>[22m[39m[90m 119 |[39m       [33m.[39m[36mcatch[39m((err) [33m=>[39m console[33m.[39merror([32m"Failed to load countries:"[39m[33m,[39m err))[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 120 |[39m   }[33m,[39m [])[33m;[39m
     [90m 121 |[39m
     [90m 122 |[39m   [90m// Validation functions[39m[0m

      at src/components/Common/CommunicationDetailsPanel.js:119:31

  console.error
    Failed to load countries: TypeError: Network request failed
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/whatwg-fetch/dist/fetch.umd.js:567:18
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 117 |[39m         }
     [90m 118 |[39m       })
    [31m[1m>[22m[39m[90m 119 |[39m       [33m.[39m[36mcatch[39m((err) [33m=>[39m console[33m.[39merror([32m"Failed to load countries:"[39m[33m,[39m err))[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 120 |[39m   }[33m,[39m [])[33m;[39m
     [90m 121 |[39m
     [90m 122 |[39m   [90m// Validation functions[39m[0m

      at src/components/Common/CommunicationDetailsPanel.js:119:31

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error executing checkout_start rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:258:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 271 |[39m         }
     [90m 272 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m         console[33m.[39merror([32m'Error executing checkout_start rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m         [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m         [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Ordering/CheckoutSteps.js:273:17)

  console.error
    An update to CheckoutSteps inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 282 |[39m         }
     [90m 283 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 284 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 285 |[39m       }
     [90m 286 |[39m     }[33m;[39m
     [90m 287 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executeRules (src/components/Ordering/CheckoutSteps.js:284:9)

  console.error
    Error fetching user profile: TypeError: Cannot read properties of undefined (reading 'status')
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:100:20
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 127 |[39m         }
     [90m 128 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 129 |[39m         console[33m.[39merror([32m'Error fetching user profile:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 130 |[39m       } [36mfinally[39m {
     [90m 131 |[39m         setProfileLoading([36mfalse[39m)[33m;[39m
     [90m 132 |[39m       }[0m

      at src/components/Ordering/CheckoutSteps.js:129:17

  console.error
    Error executing checkout_start rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:258:20)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 271 |[39m         }
     [90m 272 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m         console[33m.[39merror([32m'Error executing checkout_start rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m         [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m         [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Ordering/CheckoutSteps.js:273:17)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Failed to load countries: TypeError: Network request failed
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/whatwg-fetch/dist/fetch.umd.js:567:18
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 117 |[39m         }
     [90m 118 |[39m       })
    [31m[1m>[22m[39m[90m 119 |[39m       [33m.[39m[36mcatch[39m((err) [33m=>[39m console[33m.[39merror([32m"Failed to load countries:"[39m[33m,[39m err))[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 120 |[39m   }[33m,[39m [])[33m;[39m
     [90m 121 |[39m
     [90m 122 |[39m   [90m// Validation functions[39m[0m

      at src/components/Common/CommunicationDetailsPanel.js:119:31

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error fetching user profile: TypeError: Cannot read properties of undefined (reading 'status')
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:100:20
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 127 |[39m         }
     [90m 128 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 129 |[39m         console[33m.[39merror([32m'Error fetching user profile:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 130 |[39m       } [36mfinally[39m {
     [90m 131 |[39m         setProfileLoading([36mfalse[39m)[33m;[39m
     [90m 132 |[39m       }[0m

      at src/components/Ordering/CheckoutSteps.js:129:17

  console.error
    Error executing checkout_start rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:258:20)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 271 |[39m         }
     [90m 272 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m         console[33m.[39merror([32m'Error executing checkout_start rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m         [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m         [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Ordering/CheckoutSteps.js:273:17)

  console.error
    Failed to load countries: TypeError: Network request failed
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/whatwg-fetch/dist/fetch.umd.js:567:18
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 117 |[39m         }
     [90m 118 |[39m       })
    [31m[1m>[22m[39m[90m 119 |[39m       [33m.[39m[36mcatch[39m((err) [33m=>[39m console[33m.[39merror([32m"Failed to load countries:"[39m[33m,[39m err))[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 120 |[39m   }[33m,[39m [])[33m;[39m
     [90m 121 |[39m
     [90m 122 |[39m   [90m// Validation functions[39m[0m

      at src/components/Common/CommunicationDetailsPanel.js:119:31

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

  console.error
    Error fetching user profile: TypeError: Cannot read properties of undefined (reading 'status')
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:100:20
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 127 |[39m         }
     [90m 128 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 129 |[39m         console[33m.[39merror([32m'Error fetching user profile:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 130 |[39m       } [36mfinally[39m {
     [90m 131 |[39m         setProfileLoading([36mfalse[39m)[33m;[39m
     [90m 132 |[39m       }[0m

      at src/components/Ordering/CheckoutSteps.js:129:17

  console.error
    Error executing checkout_start rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:258:20)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 271 |[39m         }
     [90m 272 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m         console[33m.[39merror([32m'Error executing checkout_start rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m         [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m         [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Ordering/CheckoutSteps.js:273:17)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Failed to load countries: TypeError: Network request failed
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/whatwg-fetch/dist/fetch.umd.js:567:18
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 117 |[39m         }
     [90m 118 |[39m       })
    [31m[1m>[22m[39m[90m 119 |[39m       [33m.[39m[36mcatch[39m((err) [33m=>[39m console[33m.[39merror([32m"Failed to load countries:"[39m[33m,[39m err))[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 120 |[39m   }[33m,[39m [])[33m;[39m
     [90m 121 |[39m
     [90m 122 |[39m   [90m// Validation functions[39m[0m

      at src/components/Common/CommunicationDetailsPanel.js:119:31

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error fetching user profile: TypeError: Cannot read properties of undefined (reading 'status')
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:100:20
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 127 |[39m         }
     [90m 128 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 129 |[39m         console[33m.[39merror([32m'Error fetching user profile:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 130 |[39m       } [36mfinally[39m {
     [90m 131 |[39m         setProfileLoading([36mfalse[39m)[33m;[39m
     [90m 132 |[39m       }[0m

      at src/components/Ordering/CheckoutSteps.js:129:17

  console.error
    Error executing checkout_start rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:258:20)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 271 |[39m         }
     [90m 272 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m         console[33m.[39merror([32m'Error executing checkout_start rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m         [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m         [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Ordering/CheckoutSteps.js:273:17)

  console.error
    Failed to load countries: TypeError: Network request failed
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/whatwg-fetch/dist/fetch.umd.js:567:18
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 117 |[39m         }
     [90m 118 |[39m       })
    [31m[1m>[22m[39m[90m 119 |[39m       [33m.[39m[36mcatch[39m((err) [33m=>[39m console[33m.[39merror([32m"Failed to load countries:"[39m[33m,[39m err))[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 120 |[39m   }[33m,[39m [])[33m;[39m
     [90m 121 |[39m
     [90m 122 |[39m   [90m// Validation functions[39m[0m

      at src/components/Common/CommunicationDetailsPanel.js:119:31

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error fetching user profile: TypeError: Cannot read properties of undefined (reading 'status')
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:100:20
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 127 |[39m         }
     [90m 128 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 129 |[39m         console[33m.[39merror([32m'Error fetching user profile:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 130 |[39m       } [36mfinally[39m {
     [90m 131 |[39m         setProfileLoading([36mfalse[39m)[33m;[39m
     [90m 132 |[39m       }[0m

      at src/components/Ordering/CheckoutSteps.js:129:17

  console.error
    Error executing checkout_start rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:258:20)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 271 |[39m         }
     [90m 272 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m         console[33m.[39merror([32m'Error executing checkout_start rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m         [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m         [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Ordering/CheckoutSteps.js:273:17)

  console.error
    Failed to load countries: TypeError: Network request failed
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/whatwg-fetch/dist/fetch.umd.js:567:18
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 117 |[39m         }
     [90m 118 |[39m       })
    [31m[1m>[22m[39m[90m 119 |[39m       [33m.[39m[36mcatch[39m((err) [33m=>[39m console[33m.[39merror([32m"Failed to load countries:"[39m[33m,[39m err))[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 120 |[39m   }[33m,[39m [])[33m;[39m
     [90m 121 |[39m
     [90m 122 |[39m   [90m// Validation functions[39m[0m

      at src/components/Common/CommunicationDetailsPanel.js:119:31

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error fetching user profile: TypeError: Cannot read properties of undefined (reading 'status')
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:100:20
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 127 |[39m         }
     [90m 128 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 129 |[39m         console[33m.[39merror([32m'Error fetching user profile:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 130 |[39m       } [36mfinally[39m {
     [90m 131 |[39m         setProfileLoading([36mfalse[39m)[33m;[39m
     [90m 132 |[39m       }[0m

      at src/components/Ordering/CheckoutSteps.js:129:17

  console.error
    Error executing checkout_start rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:258:20)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 271 |[39m         }
     [90m 272 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m         console[33m.[39merror([32m'Error executing checkout_start rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m         [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m         [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Ordering/CheckoutSteps.js:273:17)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

  console.error
    Failed to load countries: TypeError: Network request failed
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/whatwg-fetch/dist/fetch.umd.js:567:18
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 117 |[39m         }
     [90m 118 |[39m       })
    [31m[1m>[22m[39m[90m 119 |[39m       [33m.[39m[36mcatch[39m((err) [33m=>[39m console[33m.[39merror([32m"Failed to load countries:"[39m[33m,[39m err))[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 120 |[39m   }[33m,[39m [])[33m;[39m
     [90m 121 |[39m
     [90m 122 |[39m   [90m// Validation functions[39m[0m

      at src/components/Common/CommunicationDetailsPanel.js:119:31

  console.warn
    MUI: You have provided an out-of-range value `13` for the select component.
    Consider providing a value that matches one of the available options or ''.
    The available values are ``, `01`, `02`, `03`, `04`, `05`, `06`, `07`, `08`, `09`, `10`, `11`, `12`.

      at node_modules/@mui/material/Select/SelectInput.js:399:17
      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)

  console.warn
    MUI: You have provided an out-of-range value `13` for the select component.
    Consider providing a value that matches one of the available options or ''.
    The available values are ``, `01`, `02`, `03`, `04`, `05`, `06`, `07`, `08`, `09`, `10`, `11`, `12`.

      at node_modules/@mui/material/Select/SelectInput.js:399:17
      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.warn
    MUI: You have provided an out-of-range value `20` for the select component.
    Consider providing a value that matches one of the available options or ''.
    The available values are ``, `25`, `26`, `27`, `28`, `29`, `30`, `31`, `32`, `33`, `34`.

      at node_modules/@mui/material/Select/SelectInput.js:399:17
      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)

  console.warn
    MUI: You have provided an out-of-range value `20` for the select component.
    Consider providing a value that matches one of the available options or ''.
    The available values are ``, `25`, `26`, `27`, `28`, `29`, `30`, `31`, `32`, `33`, `34`.

      at node_modules/@mui/material/Select/SelectInput.js:399:17
      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    `value` prop on `input` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.

    [0m [90m 27 |[39m [90m// Helper to render component[39m
     [90m 28 |[39m [36mconst[39m renderPaymentStep [33m=[39m (props [33m=[39m {}) [33m=>[39m {
    [31m[1m>[22m[39m[90m 29 |[39m   [36mreturn[39m render([33m<[39m[33mPaymentStep[39m {[33m...[39mprops} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m                [31m[1m^[22m[39m
     [90m 30 |[39m }[33m;[39m
     [90m 31 |[39m
     [90m 32 |[39m describe([32m'PaymentStep - Test Card Visibility'[39m[33m,[39m () [33m=>[39m {[0m

      at validatePropertiesInDevelopment (node_modules/react-dom/cjs/react-dom-client.development.js:17107:21)
      at setInitialProperties (node_modules/react-dom/cjs/react-dom-client.development.js:17741:7)
      at completeWork (node_modules/react-dom/cjs/react-dom-client.development.js:11391:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15268:19)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15149:11)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14419:13)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderPaymentStep (src/components/Ordering/CheckoutSteps/__tests__/PaymentStep.test.js:29:16)
      at src/components/Ordering/CheckoutSteps/__tests__/PaymentStep.test.js:475:7
      at Object.<anonymous> (node_modules/react-scripts/node_modules/expect/build/toThrowMatchers.js:83:11)
      at Object.toThrow (node_modules/react-scripts/node_modules/expect/build/index.js:382:21)
      at Object.<anonymous> (src/components/Ordering/CheckoutSteps/__tests__/PaymentStep.test.js:483:12)

  console.error
    Error fetching user profile: TypeError: Cannot read properties of undefined (reading 'status')
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:100:20
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 127 |[39m         }
     [90m 128 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 129 |[39m         console[33m.[39merror([32m'Error fetching user profile:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 130 |[39m       } [36mfinally[39m {
     [90m 131 |[39m         setProfileLoading([36mfalse[39m)[33m;[39m
     [90m 132 |[39m       }[0m

      at src/components/Ordering/CheckoutSteps.js:129:17

  console.warn
    MUI: You have provided an out-of-range value `null` for the select component.
    Consider providing a value that matches one of the available options or ''.
    The available values are ``, `01`, `02`, `03`, `04`, `05`, `06`, `07`, `08`, `09`, `10`, `11`, `12`.

      at node_modules/@mui/material/Select/SelectInput.js:399:17
      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)

  console.error
    Error executing checkout_start rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:258:20)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 271 |[39m         }
     [90m 272 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m         console[33m.[39merror([32m'Error executing checkout_start rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m         [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m         [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Ordering/CheckoutSteps.js:273:17)

  console.warn
    MUI: You have provided an out-of-range value `null` for the select component.
    Consider providing a value that matches one of the available options or ''.
    The available values are ``, `25`, `26`, `27`, `28`, `29`, `30`, `31`, `32`, `33`, `34`.

      at node_modules/@mui/material/Select/SelectInput.js:399:17
      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)

  console.warn
    MUI: You have provided an out-of-range value `null` for the select component.
    Consider providing a value that matches one of the available options or ''.
    The available values are ``, `01`, `02`, `03`, `04`, `05`, `06`, `07`, `08`, `09`, `10`, `11`, `12`.

      at node_modules/@mui/material/Select/SelectInput.js:399:17
      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)

  console.warn
    MUI: You have provided an out-of-range value `null` for the select component.
    Consider providing a value that matches one of the available options or ''.
    The available values are ``, `25`, `26`, `27`, `28`, `29`, `30`, `31`, `32`, `33`, `34`.

      at node_modules/@mui/material/Select/SelectInput.js:399:17
      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Failed to load countries: TypeError: Network request failed
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/whatwg-fetch/dist/fetch.umd.js:567:18
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 117 |[39m         }
     [90m 118 |[39m       })
    [31m[1m>[22m[39m[90m 119 |[39m       [33m.[39m[36mcatch[39m((err) [33m=>[39m console[33m.[39merror([32m"Failed to load countries:"[39m[33m,[39m err))[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 120 |[39m   }[33m,[39m [])[33m;[39m
     [90m 121 |[39m
     [90m 122 |[39m   [90m// Validation functions[39m[0m

      at src/components/Common/CommunicationDetailsPanel.js:119:31

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error executing payment rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executePaymentRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps/PaymentStep.js:100:20)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 153 |[39m         }
     [90m 154 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 156 |[39m       } [36mfinally[39m {
     [90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m 158 |[39m       }[0m

      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:155:17)

  console.error
    An update to PaymentStep inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 155 |[39m         console[33m.[39merror([32m'Error executing payment rules:'[39m[33m,[39m err)[33m;[39m
     [90m 156 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 157 |[39m         setRulesLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 158 |[39m       }
     [90m 159 |[39m     }[33m;[39m
     [90m 160 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at setRulesLoading (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at executePaymentRules (src/components/Ordering/CheckoutSteps/PaymentStep.js:157:9)

  console.error
    Error fetching user profile: TypeError: Cannot read properties of undefined (reading 'status')
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:100:20
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 127 |[39m         }
     [90m 128 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 129 |[39m         console[33m.[39merror([32m'Error fetching user profile:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 130 |[39m       } [36mfinally[39m {
     [90m 131 |[39m         setProfileLoading([36mfalse[39m)[33m;[39m
     [90m 132 |[39m       }[0m

      at src/components/Ordering/CheckoutSteps.js:129:17

  console.error
    Error executing checkout_start rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:258:20)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 271 |[39m         }
     [90m 272 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m         console[33m.[39merror([32m'Error executing checkout_start rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m         [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m         [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Ordering/CheckoutSteps.js:273:17)

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

  console.error
    Failed to load countries: TypeError: Network request failed
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/whatwg-fetch/dist/fetch.umd.js:567:18
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 117 |[39m         }
     [90m 118 |[39m       })
    [31m[1m>[22m[39m[90m 119 |[39m       [33m.[39m[36mcatch[39m((err) [33m=>[39m console[33m.[39merror([32m"Failed to load countries:"[39m[33m,[39m err))[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 120 |[39m   }[33m,[39m [])[33m;[39m
     [90m 121 |[39m
     [90m 122 |[39m   [90m// Validation functions[39m[0m

      at src/components/Common/CommunicationDetailsPanel.js:119:31

  console.error
    Error fetching user profile: TypeError: Cannot read properties of undefined (reading 'status')
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:100:20
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 127 |[39m         }
     [90m 128 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 129 |[39m         console[33m.[39merror([32m'Error fetching user profile:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 130 |[39m       } [36mfinally[39m {
     [90m 131 |[39m         setProfileLoading([36mfalse[39m)[33m;[39m
     [90m 132 |[39m       }[0m

      at src/components/Ordering/CheckoutSteps.js:129:17

  console.error
    Error executing checkout_start rules: TypeError: Cannot read properties of undefined (reading 'messages')
        at executeRules (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/src/components/Ordering/CheckoutSteps.js:258:20)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 271 |[39m         }
     [90m 272 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 273 |[39m         console[33m.[39merror([32m'Error executing checkout_start rules:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 274 |[39m
     [90m 275 |[39m         [90m// Handle schema validation errors specifically[39m
     [90m 276 |[39m         [36mif[39m (err[33m.[39mname [33m===[39m [32m'SchemaValidationError'[39m) {[0m

      at executeRules (src/components/Ordering/CheckoutSteps.js:273:17)

  console.error
    Failed to load countries: TypeError: Network request failed
        at /Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/whatwg-fetch/dist/fetch.umd.js:567:18
        at Timeout.task [as _onTimeout] (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
        at listOnTimeout (node:internal/timers:608:17)
        at processTimers (node:internal/timers:543:7)

    [0m [90m 117 |[39m         }
     [90m 118 |[39m       })
    [31m[1m>[22m[39m[90m 119 |[39m       [33m.[39m[36mcatch[39m((err) [33m=>[39m console[33m.[39merror([32m"Failed to load countries:"[39m[33m,[39m err))[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 120 |[39m   }[33m,[39m [])[33m;[39m
     [90m 121 |[39m
     [90m 122 |[39m   [90m// Validation functions[39m[0m

      at src/components/Common/CommunicationDetailsPanel.js:119:31

  console.error
    Error: AggregateError
        at Object.dispatchError (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:63:19)
        at Request.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
        at Request.emit (node:events:519:35)
        at ClientRequest.<anonymous> (/Users/work/Documents/Code/Admin3/frontend/react-Admin3/node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)
        at ClientRequest.emit (node:events:507:28)
        at emitErrorEvent (node:_http_client:104:11)
        at Socket.socketErrorListener (node:_http_client:518:5)
        at Socket.emit (node:events:507:28)
        at emitErrorNT (node:internal/streams/destroy:170:8)
        at emitErrorCloseNT (node:internal/streams/destroy:129:3)
        at processTicksAndRejections (node:internal/process/task_queues:90:21) undefined

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at Object.dispatchError (node_modules/jsdom/lib/jsdom/living/xhr/xhr-utils.js:66:53)
      at Request.<anonymous> (node_modules/jsdom/lib/jsdom/living/xhr/XMLHttpRequest-impl.js:655:18)
      at ClientRequest.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/http-request.js:121:14)

