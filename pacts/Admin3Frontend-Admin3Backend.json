{
  "consumer": {
    "name": "Admin3Frontend"
  },
  "interactions": [
    {
      "description": "a fuzzy search request for CM2",
      "providerStates": [
        {
          "name": "searchable products exist"
        }
      ],
      "request": {
        "method": "GET",
        "path": "/api/search/fuzzy/",
        "query": {
          "limit": [
            "50"
          ],
          "q": [
            "CM2"
          ]
        }
      },
      "response": {
        "body": {
          "products": [
            {
              "id": 1,
              "product_code": "SM01",
              "product_name": "CM2 Printed Study Material",
              "subject_code": "CM2"
            }
          ],
          "search_info": {
            "matches_found": 5,
            "query": "CM2"
          },
          "suggested_filters": {
            "categories": [],
            "products": [],
            "subjects": []
          },
          "total_count": 5
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.products": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$.products[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.products[*].product_code": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.products[*].product_name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.products[*].subject_code": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.search_info": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.search_info.matches_found": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.search_info.query": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.suggested_filters": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.total_count": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            }
          }
        },
        "status": 200
      }
    },
    {
      "description": "a fuzzy search request with no matches",
      "providerStates": [
        {
          "name": "searchable products exist"
        }
      ],
      "request": {
        "method": "GET",
        "path": "/api/search/fuzzy/",
        "query": {
          "limit": [
            "50"
          ],
          "q": [
            "xyznonexistent"
          ]
        }
      },
      "response": {
        "body": {
          "products": [],
          "search_info": {
            "matches_found": 0,
            "query": "xyznonexistent"
          },
          "suggested_filters": {
            "categories": [],
            "products": [],
            "subjects": []
          },
          "total_count": 0
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.search_info": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.search_info.matches_found": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.search_info.query": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.suggested_filters": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.total_count": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            }
          }
        },
        "status": 200
      }
    },
    {
      "description": "a login request with wrong password",
      "providerStates": [
        {
          "name": "a registered user exists"
        }
      ],
      "request": {
        "body": {
          "password": "WrongPassword",
          "username": "test@example.com"
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "method": "POST",
        "path": "/api/auth/login/"
      },
      "response": {
        "body": {
          "error": "Invalid credentials"
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$.error": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            }
          }
        },
        "status": 401
      }
    },
    {
      "description": "a logout request",
      "providerStates": [
        {
          "name": "an authenticated user"
        }
      ],
      "request": {
        "headers": {
          "Content-Type": "application/json"
        },
        "method": "POST",
        "path": "/api/auth/logout/"
      },
      "response": {
        "body": {
          "status": "success"
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$.status": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            }
          }
        },
        "status": 200
      }
    },
    {
      "description": "a request for acted rules",
      "providerStates": [
        {
          "name": "acted rules exist"
        }
      ],
      "request": {
        "method": "GET",
        "path": "/api/rules/acted-rules/"
      },
      "response": {
        "body": {
          "count": 1,
          "next": null,
          "previous": null,
          "results": [
            {
              "active": true,
              "entry_point": "home_page_mount",
              "id": 1,
              "name": "Home Page Banner",
              "rule_code": "rule_home_banner"
            }
          ]
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.count": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.results": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$.results[*].active": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.results[*].entry_point": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.results[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.results[*].name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.results[*].rule_code": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            }
          }
        },
        "status": 200
      }
    },
    {
      "description": "a request for all tutorial products",
      "providerStates": [
        {
          "name": "tutorial products exist"
        }
      ],
      "request": {
        "method": "GET",
        "path": "/api/tutorials/products/all/"
      },
      "response": {
        "body": [
          {
            "location": "CM2 Tutorial London",
            "product_id": 1,
            "subject_code": "CM2",
            "subject_name": "CM2 - Models"
          }
        ],
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$[*].location": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].product_id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$[*].subject_code": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].subject_name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            }
          }
        },
        "status": 200
      }
    },
    {
      "description": "a request for available store products",
      "providerStates": [
        {
          "name": "store products exist"
        }
      ],
      "request": {
        "method": "GET",
        "path": "/api/store/products/",
        "query": {
          "page": [
            "1"
          ],
          "page_size": [
            "50"
          ]
        }
      },
      "response": {
        "body": {
          "bundles_count": 0,
          "count": 1,
          "has_next": false,
          "has_previous": false,
          "page": 1,
          "products_count": 1,
          "results": [
            {
              "id": 1,
              "is_active": true,
              "is_bundle": false,
              "name": "CM2 Printed Study Material",
              "session_code": "2025-04",
              "subject_code": "CM2"
            }
          ]
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.bundles_count": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.count": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.has_next": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.has_previous": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.page": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.products_count": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.results": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$.results[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.results[*].is_active": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.results[*].is_bundle": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.results[*].name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.results[*].session_code": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.results[*].subject_code": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            }
          }
        },
        "status": 200
      }
    },
    {
      "description": "a request for bundles",
      "providerStates": [
        {
          "name": "exam session bundles exist"
        }
      ],
      "request": {
        "method": "GET",
        "path": "/api/store/bundles/"
      },
      "response": {
        "body": {
          "count": 1,
          "results": [
            {
              "id": 1,
              "is_active": true,
              "name": "CM2 April 2025 Bundle",
              "product_count": 1
            }
          ]
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.count": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.results": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$.results[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.results[*].is_active": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.results[*].name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.results[*].product_count": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            }
          }
        },
        "status": 200
      }
    },
    {
      "description": "a request for catalog exam sessions",
      "providerStates": [
        {
          "name": "catalog exam sessions exist"
        }
      ],
      "request": {
        "method": "GET",
        "path": "/api/catalog/exam-sessions/"
      },
      "response": {
        "body": {
          "count": 1,
          "next": null,
          "previous": null,
          "results": [
            {
              "end_date": "2025-04-30T00:00:00Z",
              "id": 1,
              "session_code": "2025-04",
              "start_date": "2025-01-01T00:00:00Z"
            }
          ]
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.count": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.results": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$.results[*].end_date": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.results[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.results[*].session_code": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.results[*].start_date": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            }
          }
        },
        "status": 200
      }
    },
    {
      "description": "a request for catalog products",
      "providerStates": [
        {
          "name": "catalog products exist"
        }
      ],
      "request": {
        "method": "GET",
        "path": "/api/catalog/products/"
      },
      "response": {
        "body": {
          "count": 1,
          "next": null,
          "previous": null,
          "results": [
            {
              "code": "SM01",
              "fullname": "CM2 Printed Study Material",
              "id": 1,
              "is_active": true,
              "product_name": "CM2",
              "shortname": "CM2"
            }
          ]
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.count": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.results": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$.results[*].code": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.results[*].fullname": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.results[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.results[*].is_active": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.results[*].product_name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.results[*].shortname": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            }
          }
        },
        "status": 200
      }
    },
    {
      "description": "a request for catalog subjects",
      "providerStates": [
        {
          "name": "catalog subjects exist"
        }
      ],
      "request": {
        "method": "GET",
        "path": "/api/catalog/subjects/"
      },
      "response": {
        "body": [
          {
            "code": "CM2",
            "description": "CM2 - Models",
            "id": 1,
            "name": "CM2 - Models"
          }
        ],
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$[*].code": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].description": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$[*].name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            }
          }
        },
        "status": 200
      }
    },
    {
      "description": "a request for default search data",
      "providerStates": [
        {
          "name": "products exist for default search"
        }
      ],
      "request": {
        "method": "GET",
        "path": "/api/search/default-data/",
        "query": {
          "limit": [
            "5"
          ]
        }
      },
      "response": {
        "body": {
          "popular_products": [
            {
              "id": 1,
              "product_code": "SM01",
              "product_name": "CM2 Printed Study Material",
              "subject_code": "CM2"
            }
          ],
          "suggested_filters": {
            "product_groups": [
              {
                "description": "",
                "id": 1,
                "name": "Study Materials"
              }
            ],
            "subjects": [
              {
                "code": "CM2",
                "description": "CM2 - Models",
                "id": 1
              }
            ]
          },
          "total_count": 50
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.popular_products": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$.popular_products[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.popular_products[*].product_code": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.popular_products[*].product_name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.popular_products[*].subject_code": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.suggested_filters": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.suggested_filters.product_groups": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$.suggested_filters.product_groups[*]": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.suggested_filters.product_groups[*].description": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.suggested_filters.product_groups[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.suggested_filters.product_groups[*].name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.suggested_filters.subjects": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$.suggested_filters.subjects[*]": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.suggested_filters.subjects[*].code": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.suggested_filters.subjects[*].description": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.suggested_filters.subjects[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.total_count": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            }
          }
        },
        "status": 200
      }
    },
    {
      "description": "a request for filter configuration",
      "providerStates": [
        {
          "name": "filter configuration exists"
        }
      ],
      "request": {
        "method": "GET",
        "path": "/api/products/filter-configuration/"
      },
      "response": {
        "body": {
          "subjects": {
            "label": "Subjects",
            "options": [
              {
                "id": 1,
                "label": "CM2 - Models",
                "value": "CM2"
              }
            ],
            "type": "multi_select"
          }
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.subjects": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.subjects.label": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.subjects.options": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$.subjects.options[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.subjects.options[*].label": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.subjects.options[*].value": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.subjects.type": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            }
          }
        },
        "status": 200
      }
    },
    {
      "description": "a request for navigation data",
      "providerStates": [
        {
          "name": "catalog data exists"
        }
      ],
      "request": {
        "method": "GET",
        "path": "/api/catalog/navigation-data/"
      },
      "response": {
        "body": {
          "distance_learning_dropdown": {
            "results": [
              {
                "id": 1,
                "name": "Core Study Materials",
                "products": [
                  {
                    "code": "SM01",
                    "fullname": "CM2 Printed Study Material",
                    "id": 1,
                    "shortname": "CM2"
                  }
                ]
              }
            ]
          },
          "navbar_product_groups": {
            "results": [
              {
                "id": 1,
                "name": "Core Study Materials",
                "products": [
                  {
                    "code": "SM01",
                    "fullname": "CM2 Printed Study Material",
                    "id": 1,
                    "shortname": "CM2"
                  }
                ]
              }
            ]
          },
          "subjects": [
            {
              "active": true,
              "code": "CM2",
              "description": "CM2 - Models",
              "id": 1,
              "name": "CM2 - Models"
            }
          ]
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.distance_learning_dropdown": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.distance_learning_dropdown.results": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$.distance_learning_dropdown.results[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.distance_learning_dropdown.results[*].name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.distance_learning_dropdown.results[*].products": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$.distance_learning_dropdown.results[*].products[*].code": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.distance_learning_dropdown.results[*].products[*].fullname": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.distance_learning_dropdown.results[*].products[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.distance_learning_dropdown.results[*].products[*].shortname": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.navbar_product_groups": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.navbar_product_groups.results": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$.navbar_product_groups.results[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.navbar_product_groups.results[*].name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.navbar_product_groups.results[*].products": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$.navbar_product_groups.results[*].products[*].code": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.navbar_product_groups.results[*].products[*].fullname": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.navbar_product_groups.results[*].products[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.navbar_product_groups.results[*].products[*].shortname": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.subjects": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$.subjects[*].active": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.subjects[*].code": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.subjects[*].description": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.subjects[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.subjects[*].name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            }
          }
        },
        "status": 200
      }
    },
    {
      "description": "a request for product group filters",
      "providerStates": [
        {
          "name": "product groups exist"
        }
      ],
      "request": {
        "method": "GET",
        "path": "/api/products/product-group-filters/"
      },
      "response": {
        "body": {
          "results": [
            {
              "filter_type": "type",
              "groups": [
                {
                  "id": 1,
                  "name": "Core Study Materials"
                }
              ],
              "id": 1,
              "name": "Study Materials"
            }
          ]
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.results": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$.results[*].filter_type": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.results[*].groups": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$.results[*].groups[*]": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.results[*].groups[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.results[*].groups[*].name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.results[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.results[*].name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            }
          }
        },
        "status": 200
      }
    },
    {
      "description": "a request for tutorial events list",
      "providerStates": [
        {
          "name": "tutorial events exist"
        }
      ],
      "request": {
        "method": "GET",
        "path": "/api/tutorials/list/"
      },
      "response": {
        "body": [
          {
            "code": "TUT-CM2-LON-2025",
            "end_date": "2025-04-05",
            "id": 1,
            "is_soldout": false,
            "start_date": "2025-04-01",
            "store_product_code": "CM2/PCSM01P/2025-04",
            "subject_code": "CM2",
            "venue": "London"
          }
        ],
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$[*].code": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].end_date": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$[*].is_soldout": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].start_date": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].store_product_code": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].subject_code": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].venue": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            }
          }
        },
        "status": 200
      }
    },
    {
      "description": "a request to calculate VAT",
      "providerStates": [
        {
          "name": "VAT configuration exists"
        }
      ],
      "request": {
        "body": {
          "country_code": "GB",
          "net_amount": "100.00"
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "method": "POST",
        "path": "/api/rules/engine/calculate-vat/"
      },
      "response": {
        "body": {
          "country_code": "GB",
          "gross_amount": "120.00",
          "vat_amount": "20.00",
          "vat_rate": "0.20"
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.country_code": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.gross_amount": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.vat_amount": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.vat_rate": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            }
          }
        },
        "status": 200
      }
    },
    {
      "description": "a request to clear the cart",
      "providerStates": [
        {
          "name": "an authenticated user with empty cart"
        }
      ],
      "request": {
        "headers": {
          "Content-Type": "application/json"
        },
        "method": "POST",
        "path": "/api/cart/clear/"
      },
      "response": {
        "body": {
          "id": 1,
          "items": []
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            }
          }
        },
        "status": 200
      }
    },
    {
      "description": "a request to execute rules for home_page_mount",
      "providerStates": [
        {
          "name": "rules for home_page_mount exist"
        }
      ],
      "request": {
        "body": {
          "context": {},
          "entry_point": "home_page_mount"
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "method": "POST",
        "path": "/api/rules/engine/execute/"
      },
      "response": {
        "body": {
          "blocked": false,
          "rules_evaluated": 0,
          "success": true
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.blocked": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.rules_evaluated": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.success": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            }
          }
        },
        "status": 200
      }
    },
    {
      "description": "a request to fetch an empty cart",
      "providerStates": [
        {
          "name": "an authenticated user with empty cart"
        }
      ],
      "request": {
        "method": "GET",
        "path": "/api/cart/"
      },
      "response": {
        "body": {
          "id": 1,
          "items": []
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            }
          }
        },
        "status": 200
      }
    },
    {
      "description": "a valid login request",
      "providerStates": [
        {
          "name": "a registered user exists"
        }
      ],
      "request": {
        "body": {
          "password": "ValidPass123!",
          "username": "test@example.com"
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "method": "POST",
        "path": "/api/auth/login/"
      },
      "response": {
        "body": {
          "refresh": "fake-refresh-token",
          "token": "fake-access-token",
          "user": {
            "email": "test@example.com",
            "first_name": "Test",
            "id": 1,
            "last_name": "User",
            "username": "test@example.com"
          }
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.refresh": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.token": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.user": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.user.email": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.user.first_name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.user.id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.user.last_name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.user.username": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            }
          }
        },
        "status": 200
      }
    },
    {
      "description": "a valid registration request",
      "providerStates": [
        {
          "name": "no user with email newuser@example.com exists"
        }
      ],
      "request": {
        "body": {
          "email": "newuser@example.com",
          "first_name": "New",
          "last_name": "User",
          "password": "SecurePass123!",
          "username": "newuser@example.com"
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "method": "POST",
        "path": "/api/auth/register/"
      },
      "response": {
        "body": {
          "message": "Account created successfully",
          "refresh": "fake-refresh-token",
          "status": "success",
          "token": "fake-access-token",
          "user": {
            "email": "newuser@example.com",
            "first_name": "New",
            "id": 2,
            "last_name": "User",
            "username": "newuser@example.com"
          }
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.message": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.refresh": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.status": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.token": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.user": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.user.email": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.user.first_name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.user.id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.user.last_name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.user.username": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            }
          }
        },
        "status": 201
      }
    },
    {
      "description": "an advanced search request with subject filter",
      "providerStates": [
        {
          "name": "searchable products exist"
        }
      ],
      "request": {
        "method": "GET",
        "path": "/api/search/advanced-fuzzy/",
        "query": {
          "limit": [
            "50"
          ],
          "q": [
            "CM2"
          ]
        }
      },
      "response": {
        "body": {
          "products": [
            {
              "id": 1,
              "product_code": "SM01",
              "product_name": "CM2 Printed Study Material",
              "subject_code": "CM2"
            }
          ],
          "search_info": {
            "matches_found": 3,
            "query": "CM2"
          },
          "suggested_filters": {
            "categories": [],
            "products": [],
            "subjects": []
          },
          "total_count": 3
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.products": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$.products[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.products[*].product_code": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.products[*].product_name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.products[*].subject_code": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.search_info": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.search_info.matches_found": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.search_info.query": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.suggested_filters": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.total_count": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            }
          }
        },
        "status": 200
      }
    }
  ],
  "metadata": {
    "pact-js": {
      "version": "16.0.4"
    },
    "pactRust": {
      "ffi": "0.4.28",
      "models": "1.3.5"
    },
    "pactSpecification": {
      "version": "3.0.0"
    }
  },
  "provider": {
    "name": "Admin3Backend"
  }
}